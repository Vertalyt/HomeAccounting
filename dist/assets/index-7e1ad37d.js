(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var ks=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ka={exports:{}};/*!
 * Materialize v1.0.0-rc.2 (http://materializecss.com)
 * Copyright 2014-2017 Materialize
 * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)
 */(function(t,e){var n=function f(_,k,T){_===null&&(_=Function.prototype);var m=Object.getOwnPropertyDescriptor(_,k);if(m===void 0){var a=Object.getPrototypeOf(_);return a===null?void 0:f(a,k,T)}if("value"in m)return m.value;var l=m.get;return l!==void 0?l.call(T):void 0},i=function(){function f(_,k){for(var T=0;T<k.length;T++){var m=k[T];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,k,T){return k&&f(_.prototype,k),T&&f(_,T),_}}();function s(f,_){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?f:_}function r(f,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);f.prototype=Object.create(_&&_.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(f,_):f.__proto__=_)}function o(f,_){if(!(f instanceof _))throw new TypeError("Cannot call a class as a function")}window.cash=function(){var f,_=document,k=window,T=Array.prototype,m=T.slice,a=T.filter,l=T.push,d=function(){},p=function(y){return typeof y==typeof d&&y.call},E=function(y){return typeof y=="string"},A=/^#[\w-]*$/,P=/^\.[\w-]*$/,j=/<.+>/,F=/^\w+$/;function V(y,C){C=C||_;var D=P.test(y)?C.getElementsByClassName(y.slice(1)):F.test(y)?C.getElementsByTagName(y):C.querySelectorAll(y);return D}function Q(y){if(!f){var C=(f=_.implementation.createHTMLDocument(null)).createElement("base");C.href=_.location.href,f.head.appendChild(C)}return f.body.innerHTML=y,f.body.childNodes}function ie(y){_.readyState!=="loading"?y():_.addEventListener("DOMContentLoaded",y)}function oe(y,C){if(!y)return this;if(y.cash&&y!==k)return y;var D,q=y,re=0;if(E(y))q=A.test(y)?_.getElementById(y.slice(1)):j.test(y)?Q(y):V(y,C);else if(p(y))return ie(y),this;if(!q)return this;if(q.nodeType||q===k)this[0]=q,this.length=1;else for(D=this.length=q.length;re<D;re++)this[re]=q[re];return this}function J(y,C){return new oe(y,C)}var ee=J.fn=J.prototype=oe.prototype={cash:!0,length:0,push:l,splice:T.splice,map:T.map,init:oe};function le(y,C){for(var D=y.length,q=0;q<D&&C.call(y[q],y[q],q,y)!==!1;q++);}function ue(y,C){var D=y&&(y.matches||y.webkitMatchesSelector||y.mozMatchesSelector||y.msMatchesSelector||y.oMatchesSelector);return!!D&&D.call(y,C)}function ae(y){return E(y)?ue:y.cash?function(C){return y.is(C)}:function(C,D){return C===D}}function ve(y){return J(m.call(y).filter(function(C,D,q){return q.indexOf(C)===D}))}Object.defineProperty(ee,"constructor",{value:J}),J.parseHTML=Q,J.noop=d,J.isFunction=p,J.isString=E,J.extend=ee.extend=function(y){y=y||{};var C=m.call(arguments),D=C.length,q=1;for(C.length===1&&(y=this,q=0);q<D;q++)if(C[q])for(var re in C[q])C[q].hasOwnProperty(re)&&(y[re]=C[q][re]);return y},J.extend({merge:function(y,C){for(var D=+C.length,q=y.length,re=0;re<D;q++,re++)y[q]=C[re];return y.length=q,y},each:le,matches:ue,unique:ve,isArray:Array.isArray,isNumeric:function(y){return!isNaN(parseFloat(y))&&isFinite(y)}});var he=J.uid="_cash"+Date.now();function Se(y){return y[he]=y[he]||{}}function He(y,C,D){return Se(y)[C]=D}function ke(y,C){var D=Se(y);return D[C]===void 0&&(D[C]=y.dataset?y.dataset[C]:J(y).attr("data-"+C)),D[C]}ee.extend({data:function(y,C){if(E(y))return C===void 0?ke(this[0],y):this.each(function(q){return He(q,y,C)});for(var D in y)this.data(D,y[D]);return this},removeData:function(y){return this.each(function(C){return q=y,void((re=Se(D=C))?delete re[q]:D.dataset?delete D.dataset[q]:J(D).removeAttr("data-"+name));var D,q,re})}});var z=/\S+/g;function K(y){return E(y)&&y.match(z)}function Z(y,C){return y.classList?y.classList.contains(C):new RegExp("(^| )"+C+"( |$)","gi").test(y.className)}function se(y,C,D){y.classList?y.classList.add(C):D.indexOf(" "+C+" ")&&(y.className+=" "+C)}function pe(y,C){y.classList?y.classList.remove(C):y.className=y.className.replace(C,"")}ee.extend({addClass:function(y){var C=K(y);return C?this.each(function(D){var q=" "+D.className+" ";le(C,function(re){se(D,re,q)})}):this},attr:function(y,C){if(y){if(E(y))return C===void 0?this[0]?this[0].getAttribute?this[0].getAttribute(y):this[0][y]:void 0:this.each(function(q){q.setAttribute?q.setAttribute(y,C):q[y]=C});for(var D in y)this.attr(D,y[D]);return this}},hasClass:function(y){var C=!1,D=K(y);return D&&D.length&&this.each(function(q){return!(C=Z(q,D[0]))}),C},prop:function(y,C){if(E(y))return C===void 0?this[0][y]:this.each(function(q){q[y]=C});for(var D in y)this.prop(D,y[D]);return this},removeAttr:function(y){return this.each(function(C){C.removeAttribute?C.removeAttribute(y):delete C[y]})},removeClass:function(y){if(!arguments.length)return this.attr("class","");var C=K(y);return C?this.each(function(D){le(C,function(q){pe(D,q)})}):this},removeProp:function(y){return this.each(function(C){delete C[y]})},toggleClass:function(y,C){if(C!==void 0)return this[C?"addClass":"removeClass"](y);var D=K(y);return D?this.each(function(q){var re=" "+q.className+" ";le(D,function(me){Z(q,me)?pe(q,me):se(q,me,re)})}):this}}),ee.extend({add:function(y,C){return ve(J.merge(this,J(y,C)))},each:function(y){return le(this,y),this},eq:function(y){return J(this.get(y))},filter:function(y){if(!y)return this;var C=p(y)?y:ae(y);return J(a.call(this,function(D){return C(D,y)}))},first:function(){return this.eq(0)},get:function(y){return y===void 0?m.call(this):y<0?this[y+this.length]:this[y]},index:function(y){var C=y?J(y)[0]:this[0],D=y?this:J(C).parent().children();return m.call(D).indexOf(C)},last:function(){return this.eq(-1)}});var S,R,B,w,O,x,L=(O=/(?:^\w|[A-Z]|\b\w)/g,x=/[\s-_]+/g,function(y){return y.replace(O,function(C,D){return C[D===0?"toLowerCase":"toUpperCase"]()}).replace(x,"")}),N=(S={},R=document,B=R.createElement("div"),w=B.style,function(y){if(y=L(y),S[y])return S[y];var C=y.charAt(0).toUpperCase()+y.slice(1),D=(y+" "+["webkit","moz","ms","o"].join(C+" ")+C).split(" ");return le(D,function(q){if(q in w)return S[q]=y=S[y]=q,!1}),S[y]});function U(y,C){return parseInt(k.getComputedStyle(y[0],null)[C],10)||0}function W(y,C,D){var q,re=ke(y,"_cashEvents"),me=re&&re[C];me&&(D?(y.removeEventListener(C,D),0<=(q=me.indexOf(D))&&me.splice(q,1)):(le(me,function(Ue){y.removeEventListener(C,Ue)}),me=[]))}function G(y,C){return"&"+encodeURIComponent(y)+"="+encodeURIComponent(C).replace(/%20/g,"+")}function Y(y){var C,D,q,re=y.type;if(!re)return null;switch(re.toLowerCase()){case"select-one":return 0<=(q=(D=y).selectedIndex)?D.options[q].value:null;case"select-multiple":return C=[],le(y.options,function(me){me.selected&&C.push(me.value)}),C.length?C:null;case"radio":case"checkbox":return y.checked?y.value:null;default:return y.value?y.value:null}}function X(y,C,D){var q=E(C);q||!C.length?le(y,q?function(re){return re.insertAdjacentHTML(D?"afterbegin":"beforeend",C)}:function(re,me){return function(Ue,Te,We){if(We){var we=Ue.childNodes[0];Ue.insertBefore(Te,we)}else Ue.appendChild(Te)}(re,me===0?C:C.cloneNode(!0),D)}):le(C,function(re){return X(y,re,D)})}J.prefixedProp=N,J.camelCase=L,ee.extend({css:function(y,C){if(E(y))return y=N(y),1<arguments.length?this.each(function(q){return q.style[y]=C}):k.getComputedStyle(this[0])[y];for(var D in y)this.css(D,y[D]);return this}}),le(["Width","Height"],function(y){var C=y.toLowerCase();ee[C]=function(){return this[0].getBoundingClientRect()[C]},ee["inner"+y]=function(){return this[0]["client"+y]},ee["outer"+y]=function(D){return this[0]["offset"+y]+(D?U(this,"margin"+(y==="Width"?"Left":"Top"))+U(this,"margin"+(y==="Width"?"Right":"Bottom")):0)}}),ee.extend({off:function(y,C){return this.each(function(D){return W(D,y,C)})},on:function(y,C,D,q){var re;if(!E(y)){for(var me in y)this.on(me,C,y[me]);return this}return p(C)&&(D=C,C=null),y==="ready"?(ie(D),this):(C&&(re=D,D=function(Ue){for(var Te=Ue.target;!ue(Te,C);){if(Te===this||Te===null)return Te=!1;Te=Te.parentNode}Te&&re.call(Te,Ue)}),this.each(function(Ue){var Te,We,we,$e,Oe=D;q&&(Oe=function(){D.apply(this,arguments),W(Ue,y,Oe)}),We=y,we=Oe,($e=ke(Te=Ue,"_cashEvents")||He(Te,"_cashEvents",{}))[We]=$e[We]||[],$e[We].push(we),Te.addEventListener(We,we)}))},one:function(y,C,D){return this.on(y,C,D,!0)},ready:ie,trigger:function(y,C){if(document.createEvent){var D=document.createEvent("HTMLEvents");return D.initEvent(y,!0,!1),D=this.extend(D,C),this.each(function(q){return q.dispatchEvent(D)})}}}),ee.extend({serialize:function(){var y="";return le(this[0].elements||this,function(C){if(!C.disabled&&C.tagName!=="FIELDSET"){var D=C.name;switch(C.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var q=Y(C);q!==null&&le(q,function(me){y+=G(D,me)});break;default:var re=Y(C);re!==null&&(y+=G(D,re))}}}),y.substr(1)},val:function(y){return y===void 0?Y(this[0]):this.each(function(C){return C.value=y})}}),ee.extend({after:function(y){return J(y).insertAfter(this),this},append:function(y){return X(this,y),this},appendTo:function(y){return X(J(y),this),this},before:function(y){return J(y).insertBefore(this),this},clone:function(){return J(this.map(function(y){return y.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(y){if(y===void 0)return this[0].innerHTML;var C=y.nodeType?y[0].outerHTML:y;return this.each(function(D){return D.innerHTML=C})},insertAfter:function(y){var C=this;return J(y).each(function(D,q){var re=D.parentNode,me=D.nextSibling;C.each(function(Ue){re.insertBefore(q===0?Ue:Ue.cloneNode(!0),me)})}),this},insertBefore:function(y){var C=this;return J(y).each(function(D,q){var re=D.parentNode;C.each(function(me){re.insertBefore(q===0?me:me.cloneNode(!0),D)})}),this},prepend:function(y){return X(this,y,!0),this},prependTo:function(y){return X(J(y),this,!0),this},remove:function(){return this.each(function(y){if(y.parentNode)return y.parentNode.removeChild(y)})},text:function(y){return y===void 0?this[0].textContent:this.each(function(C){return C.textContent=y})}});var ne=_.documentElement;return ee.extend({position:function(){var y=this[0];return{left:y.offsetLeft,top:y.offsetTop}},offset:function(){var y=this[0].getBoundingClientRect();return{top:y.top+k.pageYOffset-ne.clientTop,left:y.left+k.pageXOffset-ne.clientLeft}},offsetParent:function(){return J(this[0].offsetParent)}}),ee.extend({children:function(y){var C=[];return this.each(function(D){l.apply(C,D.children)}),C=ve(C),y?C.filter(function(D){return ue(D,y)}):C},closest:function(y){return!y||this.length<1?J():this.is(y)?this.filter(y):this.parent().closest(y)},is:function(y){if(!y)return!1;var C=!1,D=ae(y);return this.each(function(q){return!(C=D(q,y))}),C},find:function(y){if(!y||y.nodeType)return J(y&&this.has(y).length?y:null);var C=[];return this.each(function(D){l.apply(C,V(y,D))}),ve(C)},has:function(y){var C=E(y)?function(D){return V(y,D).length!==0}:function(D){return D.contains(y)};return this.filter(C)},next:function(){return J(this[0].nextElementSibling)},not:function(y){if(!y)return this;var C=ae(y);return this.filter(function(D){return!C(D,y)})},parent:function(){var y=[];return this.each(function(C){C&&C.parentNode&&y.push(C.parentNode)}),ve(y)},parents:function(y){var C,D=[];return this.each(function(q){for(C=q;C&&C.parentNode&&C!==_.body.parentNode;)C=C.parentNode,(!y||y&&ue(C,y))&&D.push(C)}),ve(D)},prev:function(){return J(this[0].previousElementSibling)},siblings:function(y){var C=this.parent().children(y),D=this[0];return C.filter(function(q){return q!==D})}}),J}();var c=function(){function f(_,k,T){o(this,f),k instanceof Element||console.error(Error(k+" is not an HTML Element"));var m=_.getInstance(k);m&&m.destroy(),this.el=k,this.$el=cash(k)}return i(f,null,[{key:"init",value:function(_,k,T){var m=null;if(k instanceof Element)m=new _(k,T);else if(k&&(k.jquery||k.cash||k instanceof NodeList)){for(var a=[],l=0;l<k.length;l++)a.push(new _(k[l],T));m=a}return m}}]),f}();(function(f){f.Package?M={}:f.M={},M.jQueryLoaded=!!f.jQuery})(window),e.nodeType||(!t.nodeType&&t.exports&&(e=t.exports=M),e.default=M),M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1;var u=function(f){M.keyDown=!0,f.which!==M.keys.TAB&&f.which!==M.keys.ARROW_DOWN&&f.which!==M.keys.ARROW_UP||(M.tabPressed=!0)},h=function(f){M.keyDown=!1,f.which!==M.keys.TAB&&f.which!==M.keys.ARROW_DOWN&&f.which!==M.keys.ARROW_UP||(M.tabPressed=!1)},g=function(f){M.keyDown&&document.body.classList.add("keyboard-focused")},v=function(f){document.body.classList.remove("keyboard-focused")};document.addEventListener("keydown",u,!0),document.addEventListener("keyup",h,!0),document.addEventListener("focus",g,!0),document.addEventListener("blur",v,!0),M.initializeJqueryWrapper=function(f,_,k){jQuery.fn[_]=function(T){if(f.prototype[T]){var m=Array.prototype.slice.call(arguments,1);if(T.slice(0,3)==="get"){var a=this.first()[0][k];return a[T].apply(a,m)}return this.each(function(){var l=this[k];l[T].apply(l,m)})}if(typeof T=="object"||!T)return f.init(this,T),this;jQuery.error("Method "+T+" does not exist on jQuery."+_)}},M.AutoInit=function(f){var _=f||document.body,k={Autocomplete:_.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:_.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:_.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:_.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:_.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:_.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:_.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:_.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:_.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:_.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:_.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:_.querySelectorAll("select:not(.no-autoinit)"),Sidenav:_.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:_.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:_.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:_.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:_.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:_.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var T in k)M[T].init(k[T])},M.objectSelectorString=function(f){return((f.prop("tagName")||"")+(f.attr("id")||"")+(f.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function f(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return f()+f()+"-"+f()+"-"+f()+"-"+f()+"-"+f()+f()+f()}}(),M.escapeHash=function(f){return f.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(f){var _=$(f),k=_.add(_.parents()),T=!1;return k.each(function(){if($(this).css("position")==="fixed")return!(T=!0)}),T},M.checkWithinContainer=function(f,_,k){var T={top:!1,right:!1,bottom:!1,left:!1},m=f.getBoundingClientRect(),a=f===document.body?Math.max(m.bottom,window.innerHeight):m.bottom,l=f.scrollLeft,d=f.scrollTop,p=_.left-l,E=_.top-d;return(p<m.left+k||p<k)&&(T.left=!0),(p+_.width>m.right-k||p+_.width>window.innerWidth-k)&&(T.right=!0),(E<m.top+k||E<k)&&(T.top=!0),(E+_.height>a-k||E+_.height>window.innerHeight-k)&&(T.bottom=!0),T},M.checkPossibleAlignments=function(f,_,k,T){var m={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},a=getComputedStyle(_).overflow==="visible",l=_.getBoundingClientRect(),d=Math.min(l.height,window.innerHeight),p=Math.min(l.width,window.innerWidth),E=f.getBoundingClientRect(),A=_.scrollLeft,P=_.scrollTop,j=k.left-A,F=k.top-P,V=k.top+E.height-P;return m.spaceOnRight=a?window.innerWidth-(E.left+k.width):p-(j+k.width),m.spaceOnRight<0&&(m.left=!1),m.spaceOnLeft=a?E.right-k.width:j-k.width+E.width,m.spaceOnLeft<0&&(m.right=!1),m.spaceOnBottom=a?window.innerHeight-(E.top+k.height+T):d-(F+k.height+T),m.spaceOnBottom<0&&(m.top=!1),m.spaceOnTop=a?E.bottom-(k.height+T):V-(k.height-T),m.spaceOnTop<0&&(m.bottom=!1),m},M.getOverflowParent=function(f){return f==null?null:f===document.body||getComputedStyle(f).overflow!=="visible"?f:M.getOverflowParent(f.parentElement)},M.getIdFromTrigger=function(f){var _=f.getAttribute("data-target");return _||(_=(_=f.getAttribute("href"))?_.slice(1):""),_},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};var b=Date.now||function(){return new Date().getTime()};M.throttle=function(f,_,k){var T=void 0,m=void 0,a=void 0,l=null,d=0;k||(k={});var p=function(){d=k.leading===!1?0:b(),l=null,a=f.apply(T,m),T=m=null};return function(){var E=b();d||k.leading!==!1||(d=E);var A=_-(E-d);return T=this,m=arguments,A<=0?(clearTimeout(l),l=null,d=E,a=f.apply(T,m),T=m=null):l||k.trailing===!1||(l=setTimeout(p,A)),a}};var I={scope:{}};I.defineProperty=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,k){if(k.get||k.set)throw new TypeError("ES3 does not support getters and setters.");f!=Array.prototype&&f!=Object.prototype&&(f[_]=k.value)},I.getGlobal=function(f){return typeof window<"u"&&window===f?f:typeof ks<"u"&&ks!=null?ks:f},I.global=I.getGlobal(ks),I.SYMBOL_PREFIX="jscomp_symbol_",I.initSymbol=function(){I.initSymbol=function(){},I.global.Symbol||(I.global.Symbol=I.Symbol)},I.symbolCounter_=0,I.Symbol=function(f){return I.SYMBOL_PREFIX+(f||"")+I.symbolCounter_++},I.initSymbolIterator=function(){I.initSymbol();var f=I.global.Symbol.iterator;f||(f=I.global.Symbol.iterator=I.global.Symbol("iterator")),typeof Array.prototype[f]!="function"&&I.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return I.arrayIterator(this)}}),I.initSymbolIterator=function(){}},I.arrayIterator=function(f){var _=0;return I.iteratorPrototype(function(){return _<f.length?{done:!1,value:f[_++]}:{done:!0}})},I.iteratorPrototype=function(f){return I.initSymbolIterator(),(f={next:f})[I.global.Symbol.iterator]=function(){return this},f},I.array=I.array||{},I.iteratorFromArray=function(f,_){I.initSymbolIterator(),f instanceof String&&(f+="");var k=0,T={next:function(){if(k<f.length){var m=k++;return{value:_(m,f[m]),done:!1}}return T.next=function(){return{done:!0,value:void 0}},T.next()}};return T[Symbol.iterator]=function(){return T},T},I.polyfill=function(f,_,k,T){if(_){for(k=I.global,f=f.split("."),T=0;T<f.length-1;T++){var m=f[T];m in k||(k[m]={}),k=k[m]}(_=_(T=k[f=f[f.length-1]]))!=T&&_!=null&&I.defineProperty(k,f,{configurable:!0,writable:!0,value:_})}},I.polyfill("Array.prototype.keys",function(f){return f||function(){return I.iteratorFromArray(this,function(_){return _})}},"es6-impl","es3");var H=ks;M.anime=function(){function f(w){if(!K.col(w))try{return document.querySelectorAll(w)}catch{}}function _(w,O){for(var x=w.length,L=2<=arguments.length?O:void 0,N=[],U=0;U<x;U++)if(U in w){var W=w[U];O.call(L,W,U,w)&&N.push(W)}return N}function k(w){return w.reduce(function(O,x){return O.concat(K.arr(x)?k(x):x)},[])}function T(w){return K.arr(w)?w:(K.str(w)&&(w=f(w)||w),w instanceof NodeList||w instanceof HTMLCollection?[].slice.call(w):[w])}function m(w,O){return w.some(function(x){return x===O})}function a(w){var O,x={};for(O in w)x[O]=w[O];return x}function l(w,O){var x,L=a(w);for(x in w)L[x]=O.hasOwnProperty(x)?O[x]:w[x];return L}function d(w,O){var x,L=a(w);for(x in O)L[x]=K.und(w[x])?O[x]:w[x];return L}function p(w){if(w=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(w))return w[2]}function E(w,O){return K.fnc(w)?w(O.target,O.id,O.total):w}function A(w,O){if(O in w.style)return getComputedStyle(w).getPropertyValue(O.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function P(w,O){return K.dom(w)&&m(z,O)?"transform":K.dom(w)&&(w.getAttribute(O)||K.svg(w)&&w[O])?"attribute":K.dom(w)&&O!=="transform"&&A(w,O)?"css":w[O]!=null?"object":void 0}function j(w,O){switch(P(w,O)){case"transform":return function(x,L){var N,U=-1<(N=L).indexOf("translate")||N==="perspective"?"px":-1<N.indexOf("rotate")||-1<N.indexOf("skew")?"deg":void 0,U=-1<L.indexOf("scale")?1:0+U;if(!(x=x.style.transform))return U;for(var W=[],G=[],Y=[],X=/(\w+)\((.+?)\)/g;W=X.exec(x);)G.push(W[1]),Y.push(W[2]);return(x=_(Y,function(ne,y){return G[y]===L})).length?x[0]:U}(w,O);case"css":return A(w,O);case"attribute":return w.getAttribute(O)}return w[O]||0}function F(w,O){var x=/^(\*=|\+=|-=)/.exec(w);if(!x)return w;var L=p(w)||0;switch(O=parseFloat(O),w=parseFloat(w.replace(x[0],"")),x[0][0]){case"+":return O+w+L;case"-":return O-w+L;case"*":return O*w+L}}function V(w,O){return Math.sqrt(Math.pow(O.x-w.x,2)+Math.pow(O.y-w.y,2))}function Q(w){w=w.points;for(var O,x=0,L=0;L<w.numberOfItems;L++){var N=w.getItem(L);0<L&&(x+=V(O,N)),O=N}return x}function ie(w){if(w.getTotalLength)return w.getTotalLength();switch(w.tagName.toLowerCase()){case"circle":return 2*Math.PI*w.getAttribute("r");case"rect":return 2*w.getAttribute("width")+2*w.getAttribute("height");case"line":return V({x:w.getAttribute("x1"),y:w.getAttribute("y1")},{x:w.getAttribute("x2"),y:w.getAttribute("y2")});case"polyline":return Q(w);case"polygon":var O=w.points;return Q(w)+V(O.getItem(O.numberOfItems-1),O.getItem(0))}}function oe(w,O){function x(W){return W=W===void 0?0:W,w.el.getPointAtLength(1<=O+W?O+W:0)}var L=x(),N=x(-1),U=x(1);switch(w.property){case"x":return L.x;case"y":return L.y;case"angle":return 180*Math.atan2(U.y-N.y,U.x-N.x)/Math.PI}}function J(w,O){var x,L=/-?\d*\.?\d+/g;if(x=K.pth(w)?w.totalLength:w,K.col(x))if(K.rgb(x)){var N=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(x);x=N?"rgba("+N[1]+",1)":x}else x=K.hex(x)?function(U){U=U.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(Y,X,ne,y){return X+X+ne+ne+y+y});var G=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(U);U=parseInt(G[1],16);var W=parseInt(G[2],16),G=parseInt(G[3],16);return"rgba("+U+","+W+","+G+",1)"}(x):K.hsl(x)?function(U){function W(C,D,q){return q<0&&(q+=1),1<q&&--q,q<1/6?C+6*(D-C)*q:q<.5?D:q<2/3?C+(D-C)*(2/3-q)*6:C}var X=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(U)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(U);U=parseInt(X[1])/360;var G=parseInt(X[2])/100,Y=parseInt(X[3])/100,X=X[4]||1;if(G==0)Y=G=U=Y;else{var ne=Y<.5?Y*(1+G):Y+G-Y*G,y=2*Y-ne,Y=W(y,ne,U+1/3),G=W(y,ne,U);U=W(y,ne,U-1/3)}return"rgba("+255*Y+","+255*G+","+255*U+","+X+")"}(x):void 0;else N=(N=p(x))?x.substr(0,x.length-N.length):x,x=O&&!/\s/g.test(x)?N+O:N;return{original:x+="",numbers:x.match(L)?x.match(L).map(Number):[0],strings:K.str(w)||O?x.split(L):[]}}function ee(w){return _(w=w?k(K.arr(w)?w.map(T):T(w)):[],function(O,x,L){return L.indexOf(O)===x})}function le(w,O){var x=a(O);if(K.arr(w)){var L=w.length;L!==2||K.obj(w[0])?K.fnc(O.duration)||(x.duration=O.duration/L):w={value:w}}return T(w).map(function(N,U){return U=U?0:O.delay,N=K.obj(N)&&!K.pth(N)?N:{value:N},K.und(N.delay)&&(N.delay=U),N}).map(function(N){return d(N,x)})}function ue(w,O){var x;return w.tweens.map(function(L){var N=(L=function(Y,X){var ne,y={};for(ne in Y){var C=E(Y[ne],X);K.arr(C)&&(C=C.map(function(D){return E(D,X)})).length===1&&(C=C[0]),y[ne]=C}return y.duration=parseFloat(y.duration),y.delay=parseFloat(y.delay),y}(L,O)).value,G=j(O.target,w.name),U=x?x.to.original:G,U=K.arr(N)?N[0]:U,W=F(K.arr(N)?N[1]:N,U),G=p(W)||p(U)||p(G);return L.from=J(U,G),L.to=J(W,G),L.start=x?x.end:w.offset,L.end=L.start+L.delay+L.duration,L.easing=function(Y){return K.arr(Y)?Z.apply(this,Y):se[Y]}(L.easing),L.elasticity=(1e3-Math.min(Math.max(L.elasticity,1),999))/1e3,L.isPath=K.pth(N),L.isColor=K.col(L.from.original),L.isColor&&(L.round=1),x=L})}function ae(w,O,x,L){var N=w==="delay";return O.length?(N?Math.min:Math.max).apply(Math,O.map(function(U){return U[w]})):N?L.delay:x.offset+L.delay+L.duration}function ve(w){var O,x,L,N,U=l(He,w),W=l(ke,w),G=(x=w.targets,(L=ee(x)).map(function(ne,y){return{target:ne,id:y,total:L.length}})),Y=[],X=d(U,W);for(O in w)X.hasOwnProperty(O)||O==="targets"||Y.push({name:O,offset:X.offset,tweens:le(w[O],W)});return N=Y,w=_(k(G.map(function(ne){return N.map(function(y){var C=P(ne.target,y.name);if(C){var D=ue(y,ne);y={type:C,property:y.name,animatable:ne,tweens:D,duration:D[D.length-1].end,delay:D[0].delay}}else y=void 0;return y})})),function(ne){return!K.und(ne)}),d(U,{children:[],animatables:G,animations:w,duration:ae("duration",w,U,W),delay:ae("delay",w,U,W)})}function he(w){function O(){return window.Promise&&new Promise(function(D){return ne=D})}function x(D){return C.reversed?C.duration-D:D}function L(D){for(var q=0,re={},me=C.animations,Ue=me.length;q<Ue;){var Te=me[q],We=Te.animatable,we=Te.tweens,$e=we.length-1,Oe=we[$e];$e&&(Oe=_(we,function(Dm){return D<Dm.end})[0]||Oe);for(var we=Math.min(Math.max(D-Oe.start-Oe.delay,0),Oe.duration)/Oe.duration,Xn=isNaN(we)?1:Oe.easing(we,Oe.elasticity),we=Oe.to.strings,Pi=Oe.round,$e=[],tn=void 0,tn=Oe.to.numbers.length,nn=0;nn<tn;nn++){var Jn=void 0,Jn=Oe.to.numbers[nn],_u=Oe.from.numbers[nn],Jn=Oe.isPath?oe(Oe.value,Xn*Jn):_u+Xn*(Jn-_u);Pi&&(Oe.isColor&&2<nn||(Jn=Math.round(Jn*Pi)/Pi)),$e.push(Jn)}if(Oe=we.length)for(tn=we[0],Xn=0;Xn<Oe;Xn++)Pi=we[Xn+1],nn=$e[Xn],isNaN(nn)||(tn=Pi?tn+(nn+Pi):tn+(nn+" "));else tn=$e[0];pe[Te.type](We.target,Te.property,tn,re,We.id),Te.currentValue=tn,q++}if(q=Object.keys(re).length)for(me=0;me<q;me++)Se||(Se=A(document.body,"transform")?"transform":"-webkit-transform"),C.animatables[me].target.style[Se]=re[me].join(" ");C.currentTime=D,C.progress=D/C.duration*100}function N(D){C[D]&&C[D](C)}function U(){C.remaining&&C.remaining!==!0&&C.remaining--}function W(D){var q=C.duration,re=C.offset,me=re+C.delay,Ue=C.currentTime,Te=C.reversed,We=x(D);if(C.children.length){var we=C.children,$e=we.length;if(We>=C.currentTime)for(var Oe=0;Oe<$e;Oe++)we[Oe].seek(We);else for(;$e--;)we[$e].seek(We)}(me<=We||!q)&&(C.began||(C.began=!0,N("begin")),N("run")),re<We&&We<q?L(We):(We<=re&&Ue!==0&&(L(0),Te&&U()),(q<=We&&Ue!==q||!q)&&(L(q),Te||U())),N("update"),q<=D&&(C.remaining?(Y=G,C.direction==="alternate"&&(C.reversed=!C.reversed)):(C.pause(),C.completed||(C.completed=!0,N("complete"),"Promise"in window&&(ne(),y=O()))),X=0)}w=w===void 0?{}:w;var G,Y,X=0,ne=null,y=O(),C=ve(w);return C.reset=function(){var D=C.direction,q=C.loop;for(C.currentTime=0,C.progress=0,C.paused=!0,C.began=!1,C.completed=!1,C.reversed=D==="reverse",C.remaining=D==="alternate"&&q===1?2:q,L(0),D=C.children.length;D--;)C.children[D].reset()},C.tick=function(D){G=D,Y||(Y=G),W((X+G-Y)*he.speed)},C.seek=function(D){W(x(D))},C.pause=function(){var D=S.indexOf(C);-1<D&&S.splice(D,1),C.paused=!0},C.play=function(){C.paused&&(C.paused=!1,Y=0,X=x(C.currentTime),S.push(C),R||B())},C.reverse=function(){C.reversed=!C.reversed,Y=0,X=x(C.currentTime)},C.restart=function(){C.pause(),C.reset(),C.play()},C.finished=y,C.reset(),C.autoplay&&C.play(),C}var Se,He={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},ke={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},z="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),K={arr:function(w){return Array.isArray(w)},obj:function(w){return-1<Object.prototype.toString.call(w).indexOf("Object")},pth:function(w){return K.obj(w)&&w.hasOwnProperty("totalLength")},svg:function(w){return w instanceof SVGElement},dom:function(w){return w.nodeType||K.svg(w)},str:function(w){return typeof w=="string"},fnc:function(w){return typeof w=="function"},und:function(w){return w===void 0},hex:function(w){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(w)},rgb:function(w){return/^rgb/.test(w)},hsl:function(w){return/^hsl/.test(w)},col:function(w){return K.hex(w)||K.rgb(w)||K.hsl(w)}},Z=function(){function w(O,x,L){return(((1-3*L+3*x)*O+(3*L-6*x))*O+3*x)*O}return function(O,x,L,N){if(0<=O&&O<=1&&0<=L&&L<=1){var U=new Float32Array(11);if(O!==x||L!==N)for(var W=0;W<11;++W)U[W]=w(.1*W,O,L);return function(G){if(O===x&&L===N)return G;if(G===0)return 0;if(G===1)return 1;for(var Y=0,X=1;X!==10&&U[X]<=G;++X)Y+=.1;var X=Y+(G-U[--X])/(U[X+1]-U[X])*.1,ne=3*(1-3*L+3*O)*X*X+2*(3*L-6*O)*X+3*O;if(.001<=ne){for(Y=0;Y<4&&(ne=3*(1-3*L+3*O)*X*X+2*(3*L-6*O)*X+3*O)!=0;++Y)var y=w(X,O,L)-G,X=X-y/ne;G=X}else if(ne===0)G=X;else{for(var X=Y,Y=Y+.1,C=0;0<(ne=w(y=X+(Y-X)/2,O,L)-G)?Y=y:X=y,1e-7<Math.abs(ne)&&++C<10;);G=y}return w(G,x,N)}}}}(),se=function(){function w(W,G){return W===0||W===1?W:-Math.pow(2,10*(W-1))*Math.sin(2*(W-1-G/(2*Math.PI)*Math.asin(1))*Math.PI/G)}var O,x="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),L={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],w],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(W,G){return 1-w(1-W,G)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(W,G){return W<.5?w(2*W,G)/2:1-w(-2*W+2,G)/2}]},N={linear:Z(.25,.25,.75,.75)},U={};for(O in L)U.type=O,L[U.type].forEach(function(W){return function(G,Y){N["ease"+W.type+x[Y]]=K.fnc(G)?G:Z.apply(H,G)}}(U)),U={type:U.type};return N}(),pe={css:function(w,O,x){return w.style[O]=x},attribute:function(w,O,x){return w.setAttribute(O,x)},object:function(w,O,x){return w[O]=x},transform:function(w,O,x,L,N){L[N]||(L[N]=[]),L[N].push(O+"("+x+")")}},S=[],R=0,B=function(){function w(){R=requestAnimationFrame(O)}function O(x){var L=S.length;if(L){for(var N=0;N<L;)S[N]&&S[N].tick(x),N++;w()}else cancelAnimationFrame(R),R=0}return w}();return he.version="2.2.0",he.speed=1,he.running=S,he.remove=function(w){w=ee(w);for(var O=S.length;O--;)for(var x=S[O],L=x.animations,N=L.length;N--;)m(w,L[N].animatable.target)&&(L.splice(N,1),L.length||x.pause())},he.getValue=j,he.path=function(w,O){var x=K.str(w)?f(w)[0]:w,L=O||100;return function(N){return{el:x,property:N,totalLength:ie(x)*(L/100)}}},he.setDashoffset=function(w){var O=ie(w);return w.setAttribute("stroke-dasharray",O),O},he.bezier=Z,he.easings=se,he.timeline=function(w){var O=he(w);return O.pause(),O.duration=0,O.add=function(x){return O.children.forEach(function(L){L.began=!0,L.completed=!0}),T(x).forEach(function(L){var N=d(L,l(ke,w||{}));N.targets=N.targets||w.targets,L=O.duration;var U=N.offset;N.autoplay=!1,N.direction=O.direction,N.offset=K.und(U)?L:F(U,L),O.began=!0,O.completed=!0,O.seek(N.offset),(N=he(N)).began=!0,N.completed=!0,N.duration>L&&(O.duration=N.duration),O.children.push(N)}),O.seek(0),O.reset(),O.autoplay&&O.restart(),O},O},he.random=function(w,O){return Math.floor(Math.random()*(O-w+1))+w},he}(),function(f,_){var k={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},T=function(m){function a(l,d){o(this,a);var p=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,d));(p.el.M_Collapsible=p).options=f.extend({},a.defaults,d),p.$headers=p.$el.children("li").children(".collapsible-header"),p.$headers.attr("tabindex",0),p._setupEventHandlers();var E=p.$el.children("li.active").children(".collapsible-body");return p.options.accordion?E.first().css("display","block"):E.css("display","block"),p}return r(a,c),i(a,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var l=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(d){d.addEventListener("keydown",l._handleCollapsibleKeydownBound)})}},{key:"_removeEventHandlers",value:function(){var l=this;this.el.removeEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(d){d.removeEventListener("keydown",l._handleCollapsibleKeydownBound)})}},{key:"_handleCollapsibleClick",value:function(l){var d=f(l.target).closest(".collapsible-header");if(l.target&&d.length){var p=d.closest(".collapsible");if(p[0]===this.el){var E=d.closest("li"),A=p.children("li"),P=E[0].classList.contains("active"),j=A.index(E);P?this.close(j):this.open(j)}}}},{key:"_handleCollapsibleKeydown",value:function(l){l.keyCode===13&&this._handleCollapsibleClickBound(l)}},{key:"_animateIn",value:function(l){var d=this,p=this.$el.children("li").eq(l);if(p.length){var E=p.children(".collapsible-body");_.remove(E[0]),E.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var A=E.css("padding-top"),P=E.css("padding-bottom"),j=E[0].scrollHeight;E.css({paddingTop:0,paddingBottom:0}),_({targets:E[0],height:j,paddingTop:A,paddingBottom:P,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(F){E.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),typeof d.options.onOpenEnd=="function"&&d.options.onOpenEnd.call(d,p[0])}})}}},{key:"_animateOut",value:function(l){var d=this,p=this.$el.children("li").eq(l);if(p.length){var E=p.children(".collapsible-body");_.remove(E[0]),E.css("overflow","hidden"),_({targets:E[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){E.css({height:"",overflow:"",padding:"",display:""}),typeof d.options.onCloseEnd=="function"&&d.options.onCloseEnd.call(d,p[0])}})}}},{key:"open",value:function(l){var d=this,p=this.$el.children("li").eq(l);if(p.length&&!p[0].classList.contains("active")){if(typeof this.options.onOpenStart=="function"&&this.options.onOpenStart.call(this,p[0]),this.options.accordion){var E=this.$el.children("li");this.$el.children("li.active").each(function(A){var P=E.index(f(A));d.close(P)})}p[0].classList.add("active"),this._animateIn(l)}}},{key:"close",value:function(l){var d=this.$el.children("li").eq(l);d.length&&d[0].classList.contains("active")&&(typeof this.options.onCloseStart=="function"&&this.options.onCloseStart.call(this,d[0]),d[0].classList.remove("active"),this._animateOut(l))}}],[{key:"init",value:function(l,d){return n(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,l,d)}},{key:"getInstance",value:function(l){return(l.jquery?l[0]:l).M_Collapsible}},{key:"defaults",get:function(){return k}}]),a}();M.Collapsible=T,M.jQueryLoaded&&M.initializeJqueryWrapper(T,"collapsible","M_Collapsible")}(cash,M.anime),function(f,_){var k={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onItemClick:null},T=function(m){function a(l,d){o(this,a);var p=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,d));return p.el.M_Dropdown=p,a._dropdowns.push(p),p.id=M.getIdFromTrigger(l),p.dropdownEl=document.getElementById(p.id),p.$dropdownEl=f(p.dropdownEl),p.options=f.extend({},a.defaults,d),p.isOpen=!1,p.isScrollable=!1,p.isTouchMoving=!1,p.focusedIndex=-1,p.filterQuery=[],p.options.container?f(p.options.container).append(p.dropdownEl):p.$el.after(p.dropdownEl),p._makeDropdownFocusable(),p._resetFilterQueryBound=p._resetFilterQuery.bind(p),p._handleDocumentClickBound=p._handleDocumentClick.bind(p),p._handleDocumentTouchmoveBound=p._handleDocumentTouchmove.bind(p),p._handleDropdownClickBound=p._handleDropdownClick.bind(p),p._handleDropdownKeydownBound=p._handleDropdownKeydown.bind(p),p._handleTriggerKeydownBound=p._handleTriggerKeydown.bind(p),p._setupEventHandlers(),p}return r(a,c),i(a,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),a._dropdowns.splice(a._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.addEventListener("click",this._handleDropdownClickBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.dropdownEl.removeEventListener("click",this._handleDropdownClickBound),this.options.hover?(this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventListener("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(l){l.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(l){var d=l.toElement||l.relatedTarget,p=!!f(d).closest(".dropdown-content").length,E=!1,A=f(d).closest(".dropdown-trigger");A.length&&A[0].M_Dropdown&&A[0].M_Dropdown.isOpen&&(E=!0),E||p||this.close()}},{key:"_handleDocumentClick",value:function(l){var d=this,p=f(l.target);this.options.closeOnClick&&p.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout(function(){d.close()},0):!p.closest(".dropdown-trigger").length&&p.closest(".dropdown-content").length||setTimeout(function(){d.close()},0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(l){l.which!==M.keys.ARROW_DOWN&&l.which!==M.keys.ENTER||this.isOpen||(l.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(l){f(l.target).closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownClick",value:function(l){if(typeof this.options.onItemClick=="function"){var d=f(l.target).closest("li")[0];this.options.onItemClick.call(this,d)}}},{key:"_handleDropdownKeydown",value:function(l){if(l.which===M.keys.TAB)l.preventDefault(),this.close();else if(l.which!==M.keys.ARROW_DOWN&&l.which!==M.keys.ARROW_UP||!this.isOpen)if(l.which===M.keys.ENTER&&this.isOpen){var d=this.dropdownEl.children[this.focusedIndex],p=f(d).find("a, button").first();p.length?p[0].click():d.click()}else l.which===M.keys.ESC&&this.isOpen&&(l.preventDefault(),this.close());else{l.preventDefault();var E=l.which===M.keys.ARROW_DOWN?1:-1,A=this.focusedIndex,P=!1;do if(A+=E,this.dropdownEl.children[A]&&this.dropdownEl.children[A].tabIndex!==-1){P=!0;break}while(A<this.dropdownEl.children.length&&0<=A);P&&(this.focusedIndex=A,this._focusFocusedItem())}var j=String.fromCharCode(l.which).toLowerCase();if(j&&[9,13,27,38,40].indexOf(l.which)===-1){this.filterQuery.push(j);var F=this.filterQuery.join(""),V=f(this.dropdownEl).find("li").filter(function(Q){return f(Q).text().toLowerCase().indexOf(F)===0})[0];V&&(this.focusedIndex=f(V).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,f(this.dropdownEl).children().each(function(l){l.getAttribute("tabindex")||l.setAttribute("tabindex",0)})}},{key:"_focusFocusedItem",value:function(){0<=this.focusedIndex&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){this.el.offsetParent.getBoundingClientRect();var l=this.el.getBoundingClientRect(),d=this.dropdownEl.getBoundingClientRect(),p=d.height,E=d.width,A=l.left-d.left,P=l.top-d.top,j={left:A,top:P,height:p,width:E},F=this.dropdownEl.offsetParent?this.dropdownEl.offsetParent:this.dropdownEl.parentNode,V=M.checkPossibleAlignments(this.el,F,j,this.options.coverTrigger?0:l.height),Q="top",ie=this.options.alignment;if(P+=this.options.coverTrigger?0:l.height,this.isScrollable=!1,V.top||(V.bottom?Q="bottom":(this.isScrollable=!0,V.spaceOnTop>V.spaceOnBottom?(Q="bottom",p+=V.spaceOnTop,P-=V.spaceOnTop):p+=V.spaceOnBottom)),!V[ie]){var oe=ie==="left"?"right":"left";V[oe]?ie=oe:V.spaceOnLeft>V.spaceOnRight?(ie="right",E+=V.spaceOnLeft,A-=V.spaceOnLeft):(ie="left",E+=V.spaceOnRight)}return Q==="bottom"&&(P=P-d.height+(this.options.coverTrigger?l.height:0)),ie==="right"&&(A=A-d.width+l.width),{x:A,y:P,verticalAlignment:Q,horizontalAlignment:ie,height:p,width:E}}},{key:"_animateIn",value:function(){var l=this;_.remove(this.dropdownEl),_({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(d){if(l.options.autoFocus&&l.dropdownEl.focus(),typeof l.options.onOpenEnd=="function"){var p=d.animatables[0].target;l.options.onOpenEnd.call(p,l.el)}}})}},{key:"_animateOut",value:function(){var l=this;_.remove(this.dropdownEl),_({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(d){l._resetDropdownStyles(),typeof l.options.onCloseEnd=="function"&&(d.animatables[0].target,l.options.onCloseEnd.call(l,l.el))}})}},{key:"_placeDropdown",value:function(){var l=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=l+"px";var d=this._getDropdownPosition();this.dropdownEl.style.left=d.x+"px",this.dropdownEl.style.top=d.y+"px",this.dropdownEl.style.height=d.height+"px",this.dropdownEl.style.width=d.width+"px",this.dropdownEl.style.transformOrigin=(d.horizontalAlignment==="left"?"0":"100%")+" "+(d.verticalAlignment==="top"?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,typeof this.options.onOpenStart=="function"&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,typeof this.options.onCloseStart=="function"&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(l,d){return n(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,l,d)}},{key:"getInstance",value:function(l){return(l.jquery?l[0]:l).M_Dropdown}},{key:"defaults",get:function(){return k}}]),a}();T._dropdowns=[],window.M.Dropdown=T,M.jQueryLoaded&&M.initializeJqueryWrapper(T,"dropdown","M_Dropdown")}(cash,M.anime),function(f,_){var k={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},T=function(m){function a(l,d){o(this,a);var p=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,d));return(p.el.M_Modal=p).options=f.extend({},a.defaults,d),p.isOpen=!1,p.id=p.$el.attr("id"),p._openingTrigger=void 0,p.$overlay=f('<div class="modal-overlay"></div>'),p.el.tabIndex=0,p._nthModalOpened=0,a._count++,p._setupEventHandlers(),p}return r(a,c),i(a,[{key:"destroy",value:function(){a._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),a._count===1&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){a._count===0&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(l){var d=f(l.target).closest(".modal-trigger");if(d.length){var p=M.getIdFromTrigger(d[0]),E=document.getElementById(p).M_Modal;E&&E.open(d),l.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(l){f(l.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(l){l.keyCode===27&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(l){this.el.contains(l.target)||this._nthModalOpened!==a._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var l=this;f.extend(this.el.style,{display:"block",opacity:0}),f.extend(this.$overlay[0].style,{display:"block",opacity:0}),_({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var d={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){typeof l.options.onOpenEnd=="function"&&l.options.onOpenEnd.call(l,l.el,l._openingTrigger)}};this.el.classList.contains("bottom-sheet")?f.extend(d,{bottom:0,opacity:1}):f.extend(d,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),_(d)}},{key:"_animateOut",value:function(){var l=this;_({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var d={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){l.el.style.display="none",l.$overlay.remove(),typeof l.options.onCloseEnd=="function"&&l.options.onCloseEnd.call(l,l.el)}};this.el.classList.contains("bottom-sheet")?f.extend(d,{bottom:"-100%",opacity:0}):f.extend(d,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),_(d)}},{key:"open",value:function(l){if(!this.isOpen)return this.isOpen=!0,a._modalsOpen++,this._nthModalOpened=a._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*a._modalsOpen,this.el.style.zIndex=1e3+2*a._modalsOpen+1,this._openingTrigger=l?l[0]:void 0,typeof this.options.onOpenStart=="function"&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),_.remove(this.el),_.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,a._modalsOpen--,this._nthModalOpened=0,typeof this.options.onCloseStart=="function"&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),a._modalsOpen===0&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),_.remove(this.el),_.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(l,d){return n(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,l,d)}},{key:"getInstance",value:function(l){return(l.jquery?l[0]:l).M_Modal}},{key:"defaults",get:function(){return k}}]),a}();T._modalsOpen=0,T._count=0,M.Modal=T,M.jQueryLoaded&&M.initializeJqueryWrapper(T,"modal","M_Modal")}(cash,M.anime),function(f,_){var k={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},T=function(m){function a(l,d){o(this,a);var p=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,d));return(p.el.M_Materialbox=p).options=f.extend({},a.defaults,d),p.overlayActive=!1,p.doneAnimating=!0,p.placeholder=f("<div></div>").addClass("material-placeholder"),p.originalWidth=0,p.originalHeight=0,p.originInlineStyles=p.$el.attr("style"),p.caption=p.el.getAttribute("data-caption")||"",p.$el.before(p.placeholder),p.placeholder.append(p.$el),p._setupEventHandlers(),p}return r(a,c),i(a,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0,f(this.placeholder).after(this.el).remove(),this.$el.removeAttr("style")}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(l){this.doneAnimating===!1||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(l){l.keyCode===27&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=f();for(var l=this.placeholder[0].parentNode;l!==null&&!f(l).is(document);){var d=f(l);d.css("overflow")!=="visible"&&(d.css("overflow","visible"),this.ancestorsChanged===void 0?this.ancestorsChanged=d:this.ancestorsChanged=this.ancestorsChanged.add(d)),l=l.parentNode}}},{key:"_animateImageIn",value:function(){var l=this,d={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){l.doneAnimating=!0,typeof l.options.onOpenEnd=="function"&&l.options.onOpenEnd.call(l,l.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),this.maxWidth!=="none"&&(d.maxWidth=this.newWidth),this.maxHeight!=="none"&&(d.maxHeight=this.newHeight),_(d)}},{key:"_animateImageOut",value:function(){var l=this,d={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){l.placeholder.css({height:"",width:"",position:"",top:"",left:""}),l.attrWidth&&l.$el.attr("width",l.attrWidth),l.attrHeight&&l.$el.attr("height",l.attrHeight),l.$el.removeAttr("style"),l.originInlineStyles&&l.$el.attr("style",l.originInlineStyles),l.$el.removeClass("active"),l.doneAnimating=!0,l.ancestorsChanged.length&&l.ancestorsChanged.css("overflow",""),typeof l.options.onCloseEnd=="function"&&l.options.onCloseEnd.call(l,l.el)}};_(d)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var l=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,typeof this.options.onOpenStart=="function"&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=f('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",function(){l.doneAnimating&&l.close()}),this.$el.before(this.$overlay);var d=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*d.left+"px",top:-1*d.top+"px"}),_.remove(this.el),_.remove(this.$overlay[0]),_({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),this.caption!==""&&(this.$photocaption&&_.remove(this.$photoCaption[0]),this.$photoCaption=f('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),f("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),_({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var p=0,E=this.originalWidth/this.windowWidth,A=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,A<E?(p=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*p):(p=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*p,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var l=this;this._updateVars(),this.doneAnimating=!1,typeof this.options.onCloseStart=="function"&&this.options.onCloseStart.call(this,this.el),_.remove(this.el),_.remove(this.$overlay[0]),this.caption!==""&&_.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),_({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){l.overlayActive=!1,l.$overlay.remove()}}),this._animateImageOut(),this.caption!==""&&_({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){l.$photoCaption.remove()}})}}],[{key:"init",value:function(l,d){return n(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,l,d)}},{key:"getInstance",value:function(l){return(l.jquery?l[0]:l).M_Materialbox}},{key:"defaults",get:function(){return k}}]),a}();M.Materialbox=T,M.jQueryLoaded&&M.initializeJqueryWrapper(T,"materialbox","M_Materialbox")}(cash,M.anime),function(f){var _={responsiveThreshold:0},k=function(T){function m(a,l){o(this,m);var d=s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,a,l));return(d.el.M_Parallax=d).options=f.extend({},m.defaults,l),d._enabled=window.innerWidth>d.options.responsiveThreshold,d.$img=d.$el.find("img").first(),d.$img.each(function(){this.complete&&f(this).trigger("load")}),d._updateParallax(),d._setupEventHandlers(),d._setupStyles(),m._parallaxes.push(d),d}return r(m,c),i(m,[{key:"destroy",value:function(){m._parallaxes.splice(m._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),m._parallaxes.length===0&&(m._handleScrollThrottled=M.throttle(m._handleScroll,5),window.addEventListener("scroll",m._handleScrollThrottled),m._handleWindowResizeThrottled=M.throttle(m._handleWindowResize,5),window.addEventListener("resize",m._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),m._parallaxes.length===0&&(window.removeEventListener("scroll",m._handleScrollThrottled),window.removeEventListener("resize",m._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var a=0<this.$el.height()?this.el.parentNode.offsetHeight:500,l=this.$img[0].offsetHeight-a,d=this.$el.offset().top+a,p=this.$el.offset().top,E=M.getDocumentScrollTop(),A=window.innerHeight,P=l*((E+A-p)/(a+A));this._enabled?E<d&&p<E+A&&(this.$img[0].style.transform="translate3D(-50%, "+P+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(a,l){return n(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,a,l)}},{key:"getInstance",value:function(a){return(a.jquery?a[0]:a).M_Parallax}},{key:"_handleScroll",value:function(){for(var a=0;a<m._parallaxes.length;a++){var l=m._parallaxes[a];l._updateParallax.call(l)}}},{key:"_handleWindowResize",value:function(){for(var a=0;a<m._parallaxes.length;a++){var l=m._parallaxes[a];l._enabled=window.innerWidth>l.options.responsiveThreshold}}},{key:"defaults",get:function(){return _}}]),m}();k._parallaxes=[],M.Parallax=k,M.jQueryLoaded&&M.initializeJqueryWrapper(k,"parallax","M_Parallax")}(cash),function(f,_){var k={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},T=function(m){function a(l,d){o(this,a);var p=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,d));return(p.el.M_Tabs=p).options=f.extend({},a.defaults,d),p.$tabLinks=p.$el.children("li.tab").children("a"),p.index=0,p._setupActiveTabLink(),p.options.swipeable?p._setupSwipeableTabs():p._setupNormalTabs(),p._setTabsAndTabWidth(),p._createIndicator(),p._setupEventHandlers(),p}return r(a,c),i(a,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),this.tabWidth!==0&&this.tabsWidth!==0&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(l){var d=this,p=f(l.target).closest("li.tab"),E=f(l.target).closest("a");if(E.length&&E.parent().hasClass("tab")){if(p.hasClass("disabled"))l.preventDefault();else if(!E.attr("target")){this.$activeTabLink.removeClass("active");var A=this.$content;this.$activeTabLink=E,this.$content=f(M.escapeHash(E[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var P=this.index;this.index=Math.max(this.$tabLinks.index(E),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,function(){typeof d.options.onShow=="function"&&d.options.onShow.call(d,d.$content[0])}):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),typeof this.options.onShow=="function"&&this.options.onShow.call(this,this.$content[0]),A.length&&!A.is(this.$content)&&(A[0].style.display="none",A.removeClass("active"))),this._setTabsAndTabWidth(),this._animateIndicator(P),l.preventDefault()}}}},{key:"_createIndicator",value:function(){var l=this,d=document.createElement("li");d.classList.add("indicator"),this.el.appendChild(d),this._indicator=d,setTimeout(function(){l._indicator.style.left=l._calcLeftPos(l.$activeTabLink)+"px",l._indicator.style.right=l._calcRightPos(l.$activeTabLink)+"px"},0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=f(this.$tabLinks.filter('[href="'+location.hash+'"]')),this.$activeTabLink.length===0&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),this.$activeTabLink.length===0&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=f(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var l=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var d=f();this.$tabLinks.each(function(A){var P=f(M.escapeHash(A.hash));P.addClass("carousel-item"),d=d.add(P)});var p=f('<div class="tabs-content carousel carousel-slider"></div>');d.first().before(p),p.append(d),d[0].style.display="";var E=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(p[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(A){var P=l.index;l.index=f(A).index(),l.$activeTabLink.removeClass("active"),l.$activeTabLink=l.$tabLinks.eq(l.index),l.$activeTabLink.addClass("active"),l._animateIndicator(P),typeof l.options.onShow=="function"&&l.options.onShow.call(l,l.$content[0])}}),this._tabsCarousel.set(E)}},{key:"_teardownSwipeableTabs",value:function(){var l=this._tabsCarousel.$el;this._tabsCarousel.destroy(),l.after(l.children()),l.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each(function(l){if(l.hash){var d=f(M.escapeHash(l.hash));d.length&&(d[0].style.display="none")}})}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each(function(l){if(l.hash){var d=f(M.escapeHash(l.hash));d.length&&(d[0].style.display="")}})}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(l){return Math.ceil(this.tabsWidth-l.position().left-l[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(l){return Math.floor(l.position().left)}},{key:"updateTabIndicator",value:function(){this._setTabsAndTabWidth(),this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(l){var d=0,p=0;0<=this.index-l?d=90:p=90;var E={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:d},right:{value:this._calcRightPos(this.$activeTabLink),delay:p},duration:this.options.duration,easing:"easeOutQuad"};_.remove(this._indicator),_(E)}},{key:"select",value:function(l){var d=this.$tabLinks.filter('[href="#'+l+'"]');d.length&&d.trigger("click")}}],[{key:"init",value:function(l,d){return n(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,l,d)}},{key:"getInstance",value:function(l){return(l.jquery?l[0]:l).M_Tabs}},{key:"defaults",get:function(){return k}}]),a}();window.M.Tabs=T,M.jQueryLoaded&&M.initializeJqueryWrapper(T,"tabs","M_Tabs")}(cash,M.anime),function(f,_){var k={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},T=function(m){function a(l,d){o(this,a);var p=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,d));return(p.el.M_Tooltip=p).options=f.extend({},a.defaults,d),p.isOpen=!1,p.isHovered=!1,p.isFocused=!1,p._appendTooltipEl(),p._setupEventHandlers(),p}return r(a,c),i(a,[{key:"destroy",value:function(){f(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var l=document.createElement("div");l.classList.add("material-tooltip"),this.tooltipEl=l;var d=document.createElement("div");d.classList.add("tooltip-content"),d.innerHTML=this.options.html,l.appendChild(d),document.body.appendChild(l)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(l){this.isOpen||(l=l===void 0||void 0,this.isOpen=!0,this.options=f.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout(l))}},{key:"close",value:function(){this.isOpen&&(this.isHovered=!1,this.isFocused=!1,this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var l=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout(function(){l.isHovered||l.isFocused||l._animateOut()},this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(l){var d=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout(function(){(d.isHovered||d.isFocused||l)&&d._animateIn()},this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var l,d=this.el,p=this.tooltipEl,E=d.offsetHeight,A=d.offsetWidth,P=p.offsetHeight,j=p.offsetWidth,F=this.options.margin,V=void 0,Q=void 0;this.xMovement=0,this.yMovement=0,V=d.getBoundingClientRect().top+M.getDocumentScrollTop(),Q=d.getBoundingClientRect().left+M.getDocumentScrollLeft(),this.options.position==="top"?(V+=-P-F,Q+=A/2-j/2,this.yMovement=-this.options.transitionMovement):this.options.position==="right"?(V+=E/2-P/2,Q+=A+F,this.xMovement=this.options.transitionMovement):this.options.position==="left"?(V+=E/2-P/2,Q+=-j-F,this.xMovement=-this.options.transitionMovement):(V+=E+F,Q+=A/2-j/2,this.yMovement=this.options.transitionMovement),l=this._repositionWithinScreen(Q,V,j,P),f(p).css({top:l.y+"px",left:l.x+"px"})}},{key:"_repositionWithinScreen",value:function(l,d,p,E){var A=M.getDocumentScrollLeft(),P=M.getDocumentScrollTop(),j=l-A,F=d-P,V={left:j,top:F,width:p,height:E},Q=this.options.margin+this.options.transitionMovement,ie=M.checkWithinContainer(document.body,V,Q);return ie.left?j=Q:ie.right&&(j-=j+p-window.innerWidth),ie.top?F=Q:ie.bottom&&(F-=F+E-window.innerHeight),{x:j+A,y:F+P}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",_.remove(this.tooltipEl),_({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){_.remove(this.tooltipEl),_({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.isFocused=!1,this.open(!1)}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.isFocused=!1,this.close()}},{key:"_handleFocus",value:function(){M.tabPressed&&(this.isFocused=!0,this.open(!1))}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var l={},d=this.el.getAttribute("data-tooltip"),p=this.el.getAttribute("data-position");return d&&(l.html=d),p&&(l.position=p),l}}],[{key:"init",value:function(l,d){return n(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,l,d)}},{key:"getInstance",value:function(l){return(l.jquery?l[0]:l).M_Tooltip}},{key:"defaults",get:function(){return k}}]),a}();M.Tooltip=T,M.jQueryLoaded&&M.initializeJqueryWrapper(T,"tooltip","M_Tooltip")}(cash,M.anime),function(f){var _=_||{},k=document.querySelectorAll.bind(document);function T(d){var p="";for(var E in d)d.hasOwnProperty(E)&&(p+=E+":"+d[E]+";");return p}var m={duration:750,show:function(d,p){if(d.button===2)return!1;var E=p||this,A=document.createElement("div");A.className="waves-ripple",E.appendChild(A);var P,j,F,V,Q,ie,oe,J=(ie={top:0,left:0},oe=(P=E)&&P.ownerDocument,j=oe.documentElement,P.getBoundingClientRect!==void 0&&(ie=P.getBoundingClientRect()),F=(Q=V=oe)!==null&&Q===Q.window?V:V.nodeType===9&&V.defaultView,{top:ie.top+F.pageYOffset-j.clientTop,left:ie.left+F.pageXOffset-j.clientLeft}),ee=d.pageY-J.top,le=d.pageX-J.left,ue="scale("+E.clientWidth/100*10+")";"touches"in d&&(ee=d.touches[0].pageY-J.top,le=d.touches[0].pageX-J.left),A.setAttribute("data-hold",Date.now()),A.setAttribute("data-scale",ue),A.setAttribute("data-x",le),A.setAttribute("data-y",ee);var ae={top:ee+"px",left:le+"px"};A.className=A.className+" waves-notransition",A.setAttribute("style",T(ae)),A.className=A.className.replace("waves-notransition",""),ae["-webkit-transform"]=ue,ae["-moz-transform"]=ue,ae["-ms-transform"]=ue,ae["-o-transform"]=ue,ae.transform=ue,ae.opacity="1",ae["-webkit-transition-duration"]=m.duration+"ms",ae["-moz-transition-duration"]=m.duration+"ms",ae["-o-transition-duration"]=m.duration+"ms",ae["transition-duration"]=m.duration+"ms",ae["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",ae["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",ae["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",ae["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",A.setAttribute("style",T(ae))},hide:function(d){a.touchup(d);var p=this,E=(p.clientWidth,null),A=p.getElementsByClassName("waves-ripple");if(!(0<A.length))return!1;var P=(E=A[A.length-1]).getAttribute("data-x"),j=E.getAttribute("data-y"),F=E.getAttribute("data-scale"),V=350-(Date.now()-Number(E.getAttribute("data-hold")));V<0&&(V=0),setTimeout(function(){var Q={top:j+"px",left:P+"px",opacity:"0","-webkit-transition-duration":m.duration+"ms","-moz-transition-duration":m.duration+"ms","-o-transition-duration":m.duration+"ms","transition-duration":m.duration+"ms","-webkit-transform":F,"-moz-transform":F,"-ms-transform":F,"-o-transform":F,transform:F};E.setAttribute("style",T(Q)),setTimeout(function(){try{p.removeChild(E)}catch{return!1}},m.duration)},V)},wrapInput:function(d){for(var p=0;p<d.length;p++){var E=d[p];if(E.tagName.toLowerCase()==="input"){var A=E.parentNode;if(A.tagName.toLowerCase()==="i"&&A.className.indexOf("waves-effect")!==-1)continue;var P=document.createElement("i");P.className=E.className+" waves-input-wrapper";var j=E.getAttribute("style");j||(j=""),P.setAttribute("style",j),E.className="waves-button-input",E.removeAttribute("style"),A.replaceChild(P,E),P.appendChild(E)}}}},a={touches:0,allowEvent:function(d){var p=!0;return d.type==="touchstart"?a.touches+=1:d.type==="touchend"||d.type==="touchcancel"?setTimeout(function(){0<a.touches&&(a.touches-=1)},500):d.type==="mousedown"&&0<a.touches&&(p=!1),p},touchup:function(d){a.allowEvent(d)}};function l(d){var p=function(E){if(a.allowEvent(E)===!1)return null;for(var A=null,P=E.target||E.srcElement;P.parentNode!==null;){if(!(P instanceof SVGElement)&&P.className.indexOf("waves-effect")!==-1){A=P;break}P=P.parentNode}return A}(d);p!==null&&(m.show(d,p),"ontouchstart"in f&&(p.addEventListener("touchend",m.hide,!1),p.addEventListener("touchcancel",m.hide,!1)),p.addEventListener("mouseup",m.hide,!1),p.addEventListener("mouseleave",m.hide,!1),p.addEventListener("dragend",m.hide,!1))}_.displayEffect=function(d){"duration"in(d=d||{})&&(m.duration=d.duration),m.wrapInput(k(".waves-effect")),"ontouchstart"in f&&document.body.addEventListener("touchstart",l,!1),document.body.addEventListener("mousedown",l,!1)},_.attach=function(d){d.tagName.toLowerCase()==="input"&&(m.wrapInput([d]),d=d.parentNode),"ontouchstart"in f&&d.addEventListener("touchstart",l,!1),d.addEventListener("mousedown",l,!1)},f.Waves=_,document.addEventListener("DOMContentLoaded",function(){_.displayEffect()},!1)}(window),function(f,_){var k={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},T=function(){function m(a){o(this,m),this.options=f.extend({},m.defaults,a),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,m._toasts.length===0&&m._createContainer(),m._toasts.push(this);var l=this._createToast();(l.M_Toast=this).el=l,this.$el=f(l),this._animateIn(),this._setTimer()}return i(m,[{key:"_createToast",value:function(){var a=document.createElement("div");return a.classList.add("toast"),this.options.classes.length&&f(a).addClass(this.options.classes),(typeof HTMLElement=="object"?this.message instanceof HTMLElement:this.message&&typeof this.message=="object"&&this.message!==null&&this.message.nodeType===1&&typeof this.message.nodeName=="string")?a.appendChild(this.message):this.message.jquery?f(a).append(this.message[0]):a.innerHTML=this.message,m._container.appendChild(a),a}},{key:"_animateIn",value:function(){_({targets:this.el,top:0,opacity:1,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var a=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval(function(){a.panning||(a.timeRemaining-=20),a.timeRemaining<=0&&a.dismiss()},20))}},{key:"dismiss",value:function(){var a=this;window.clearInterval(this.counterInterval);var l=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+l+"px)",this.el.style.opacity=0),_({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){typeof a.options.completeCallback=="function"&&a.options.completeCallback(),a.$el.remove(),m._toasts.splice(m._toasts.indexOf(a),1),m._toasts.length===0&&m._removeContainer()}})}}],[{key:"getInstance",value:function(a){return(a.jquery?a[0]:a).M_Toast}},{key:"_createContainer",value:function(){var a=document.createElement("div");a.setAttribute("id","toast-container"),a.addEventListener("touchstart",m._onDragStart),a.addEventListener("touchmove",m._onDragMove),a.addEventListener("touchend",m._onDragEnd),a.addEventListener("mousedown",m._onDragStart),document.addEventListener("mousemove",m._onDragMove),document.addEventListener("mouseup",m._onDragEnd),document.body.appendChild(a),m._container=a}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",m._onDragMove),document.removeEventListener("mouseup",m._onDragEnd),f(m._container).remove(),m._container=null}},{key:"_onDragStart",value:function(a){if(a.target&&f(a.target).closest(".toast").length){var l=f(a.target).closest(".toast")[0].M_Toast;l.panning=!0,(m._draggedToast=l).el.classList.add("panning"),l.el.style.transition="",l.startingXPos=m._xPos(a),l.time=Date.now(),l.xPos=m._xPos(a)}}},{key:"_onDragMove",value:function(a){if(m._draggedToast){a.preventDefault();var l=m._draggedToast;l.deltaX=Math.abs(l.xPos-m._xPos(a)),l.xPos=m._xPos(a),l.velocityX=l.deltaX/(Date.now()-l.time),l.time=Date.now();var d=l.xPos-l.startingXPos,p=l.el.offsetWidth*l.options.activationPercent;l.el.style.transform="translateX("+d+"px)",l.el.style.opacity=1-Math.abs(d/p)}}},{key:"_onDragEnd",value:function(){if(m._draggedToast){var a=m._draggedToast;a.panning=!1,a.el.classList.remove("panning");var l=a.xPos-a.startingXPos,d=a.el.offsetWidth*a.options.activationPercent;Math.abs(l)>d||1<a.velocityX?(a.wasSwiped=!0,a.dismiss()):(a.el.style.transition="transform .2s, opacity .2s",a.el.style.transform="",a.el.style.opacity=""),m._draggedToast=null}}},{key:"_xPos",value:function(a){return a.targetTouches&&1<=a.targetTouches.length?a.targetTouches[0].clientX:a.clientX}},{key:"dismissAll",value:function(){for(var a in m._toasts)m._toasts[a].dismiss()}},{key:"defaults",get:function(){return k}}]),m}();T._toasts=[],T._container=null,T._draggedToast=null,M.Toast=T,M.toast=function(m){return new T(m)}}(cash,M.anime),function(f,_){var k={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},T=function(m){function a(l,d){o(this,a);var p=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,d));return(p.el.M_Sidenav=p).id=p.$el.attr("id"),p.options=f.extend({},a.defaults,d),p.isOpen=!1,p.isFixed=p.el.classList.contains("sidenav-fixed"),p.isDragged=!1,p.lastWindowWidth=window.innerWidth,p.lastWindowHeight=window.innerHeight,p._createOverlay(),p._createDragTarget(),p._setupEventHandlers(),p._setupClasses(),p._setupFixed(),a._sidenavs.push(p),p}return r(a,c),i(a,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var l=a._sidenavs.indexOf(this);0<=l&&a._sidenavs.splice(l,1)}},{key:"_createOverlay",value:function(){var l=document.createElement("div");this._closeBound=this.close.bind(this),l.classList.add("sidenav-overlay"),l.addEventListener("click",this._closeBound),document.body.appendChild(l),this._overlay=l}},{key:"_setupEventHandlers",value:function(){a._sidenavs.length===0&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){a._sidenavs.length===1&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(l){var d=f(l.target).closest(".sidenav-trigger");if(l.target&&d.length){var p=M.getIdFromTrigger(d[0]),E=document.getElementById(p).M_Sidenav;E&&E.open(d),l.preventDefault()}}},{key:"_startDrag",value:function(l){var d=l.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=d,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,_.remove(this.el),_.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(l){var d=l.targetTouches[0].clientX,p=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-d),this._xPos=d,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==p&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(l){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(l),this._dragMoveUpdate(l);var d=this._xPos-this._startingXpos,p=0<d?"right":"left";d=Math.min(this._width,Math.abs(d)),this.options.edge===p&&(d=0);var E=d,A="translateX(-100%)";this.options.edge==="right"&&(A="translateX(100%)",E=-E),this.percentOpen=Math.min(1,d/this._width),this.el.style.transform=A+" translateX("+E+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(.2<this.percentOpen?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(l){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(l),this._dragMoveUpdate(l);var d=this._xPos-this._startingXpos,p=0<d?"right":"left";d=Math.min(this._width,Math.abs(d)),this.options.edge!==p&&(d=0);var E=-d;this.options.edge==="right"&&(E=-E),this.percentOpen=Math.min(1,1-d/this._width),this.el.style.transform="translateX("+E+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(.8<this.percentOpen?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(l){f(l.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(992<window.innerWidth?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){this.options.edge==="right"&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&992<window.innerWidth}},{key:"_createDragTarget",value:function(){var l=document.createElement("div");l.classList.add("drag-target"),document.body.appendChild(l),this.dragTarget=l}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){this.isOpen!==!0&&(this.isOpen=!0,typeof this.options.onOpenStart=="function"&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(_.remove(this.el),_({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&this.percentOpen==1||this._animateIn()))}},{key:"close",value:function(){if(this.isOpen!==!1)if(this.isOpen=!1,typeof this.options.onCloseStart=="function"&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var l=this.options.edge==="left"?"-105%":"105%";this.el.style.transform="translateX("+l+")"}else this._enableBodyScrolling(),this.isDragged&&this.percentOpen==0?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var l=this,d=this.options.edge==="left"?-1:1;this.isDragged&&(d=this.options.edge==="left"?d+this.percentOpen:d-this.percentOpen),_.remove(this.el),_({targets:this.el,translateX:[100*d+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){typeof l.options.onOpenEnd=="function"&&l.options.onOpenEnd.call(l,l.el)}})}},{key:"_animateOverlayIn",value:function(){var l=0;this.isDragged?l=this.percentOpen:f(this._overlay).css({display:"block"}),_.remove(this._overlay),_({targets:this._overlay,opacity:[l,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var l=this,d=this.options.edge==="left"?-1:1,p=0;this.isDragged&&(p=this.options.edge==="left"?d+this.percentOpen:d-this.percentOpen),_.remove(this.el),_({targets:this.el,translateX:[100*p+"%",105*d+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){typeof l.options.onCloseEnd=="function"&&l.options.onCloseEnd.call(l,l.el)}})}},{key:"_animateOverlayOut",value:function(){var l=this;_.remove(this._overlay),_({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){f(l._overlay).css("display","none")}})}}],[{key:"init",value:function(l,d){return n(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,l,d)}},{key:"getInstance",value:function(l){return(l.jquery?l[0]:l).M_Sidenav}},{key:"defaults",get:function(){return k}}]),a}();T._sidenavs=[],window.M.Sidenav=T,M.jQueryLoaded&&M.initializeJqueryWrapper(T,"sidenav","M_Sidenav")}(cash,M.anime),function(f,_){var k={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(m){return'a[href="#'+m+'"]'}},T=function(m){function a(l,d){o(this,a);var p=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,d));return(p.el.M_ScrollSpy=p).options=f.extend({},a.defaults,d),a._elements.push(p),a._count++,a._increment++,p.tickId=-1,p.id=a._increment,p._setupEventHandlers(),p._handleWindowScroll(),p}return r(a,c),i(a,[{key:"destroy",value:function(){a._elements.splice(a._elements.indexOf(this),1),a._elementsInView.splice(a._elementsInView.indexOf(this),1),a._visibleElements.splice(a._visibleElements.indexOf(this.$el),1),a._count--,this._removeEventHandlers(),f(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var l=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=l.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),a._count===1&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){a._count===0&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(l){for(var d=f(l.target),p=a._elements.length-1;0<=p;p--){var E=a._elements[p];if(d.is('a[href="#'+E.$el.attr("id")+'"]')){l.preventDefault();var A=E.$el.offset().top+1;_({targets:[document.documentElement,document.body],scrollTop:A-E.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){a._ticks++;for(var l=M.getDocumentScrollTop(),d=M.getDocumentScrollLeft(),p=d+window.innerWidth,E=l+window.innerHeight,A=a._findElements(l,p,E,d),P=0;P<A.length;P++){var j=A[P];j.tickId<0&&j._enter(),j.tickId=a._ticks}for(var F=0;F<a._elementsInView.length;F++){var V=a._elementsInView[F],Q=V.tickId;0<=Q&&Q!==a._ticks&&(V._exit(),V.tickId=-1)}a._elementsInView=A}},{key:"_enter",value:function(){(a._visibleElements=a._visibleElements.filter(function(l){return l.height()!=0}))[0]?(f(this.options.getActiveElement(a._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),a._visibleElements[0][0].M_ScrollSpy&&this.id<a._visibleElements[0][0].M_ScrollSpy.id?a._visibleElements.unshift(this.$el):a._visibleElements.push(this.$el)):a._visibleElements.push(this.$el),f(this.options.getActiveElement(a._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var l=this;(a._visibleElements=a._visibleElements.filter(function(d){return d.height()!=0}))[0]&&(f(this.options.getActiveElement(a._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),(a._visibleElements=a._visibleElements.filter(function(d){return d.attr("id")!=l.$el.attr("id")}))[0]&&f(this.options.getActiveElement(a._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(l,d){return n(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,l,d)}},{key:"getInstance",value:function(l){return(l.jquery?l[0]:l).M_ScrollSpy}},{key:"_findElements",value:function(l,d,p,E){for(var A=[],P=0;P<a._elements.length;P++){var j=a._elements[P],F=l+j.options.scrollOffset||200;if(0<j.$el.height()){var V=j.$el.offset().top,Q=j.$el.offset().left,ie=Q+j.$el.width(),oe=V+j.$el.height();!(d<Q||ie<E||p<V||oe<F)&&A.push(j)}}return A}},{key:"defaults",get:function(){return k}}]),a}();T._elements=[],T._elementsInView=[],T._visibleElements=[],T._count=0,T._increment=0,T._ticks=0,M.ScrollSpy=T,M.jQueryLoaded&&M.initializeJqueryWrapper(T,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(f){var _={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(T,m,a){return T.indexOf(a)-m.indexOf(a)}},k=function(T){function m(a,l){o(this,m);var d=s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,a,l));return(d.el.M_Autocomplete=d).options=f.extend({},m.defaults,l),d.isOpen=!1,d.count=0,d.activeIndex=-1,d.oldVal,d.$inputField=d.$el.closest(".input-field"),d.$active=f(),d._mousedown=!1,d._setupDropdown(),d._setupEventHandlers(),d}return r(m,c),i(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this._handleContainerMouseupAndTouchendBound=this._handleContainerMouseupAndTouchend.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("click",this._handleInputClickBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),window.ontouchstart!==void 0&&(this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.addEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("click",this._handleInputClickBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("mouseup",this._handleContainerMouseupAndTouchendBound),window.ontouchstart!==void 0&&(this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound),this.container.removeEventListener("touchend",this._handleContainerMouseupAndTouchendBound))}},{key:"_setupDropdown",value:function(){var a=this;this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),f(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1,onItemClick:function(l){a.selectOption(f(l))}}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this._mousedown||(this.close(),this._resetAutocomplete())}},{key:"_handleInputKeyupAndFocus",value:function(a){a.type==="keyup"&&(m._keydown=!1),this.count=0;var l=this.el.value.toLowerCase();a.keyCode!==13&&a.keyCode!==38&&a.keyCode!==40&&(this.oldVal===l||!M.tabPressed&&a.type==="focus"||this.open(),this.oldVal=l)}},{key:"_handleInputKeydown",value:function(a){m._keydown=!0;var l=a.keyCode,d=void 0,p=f(this.container).children("li").length;l===M.keys.ENTER&&0<=this.activeIndex?(d=f(this.container).children("li").eq(this.activeIndex)).length&&(this.selectOption(d),a.preventDefault()):l!==M.keys.ARROW_UP&&l!==M.keys.ARROW_DOWN||(a.preventDefault(),l===M.keys.ARROW_UP&&0<this.activeIndex&&this.activeIndex--,l===M.keys.ARROW_DOWN&&this.activeIndex<p-1&&this.activeIndex++,this.$active.removeClass("active"),0<=this.activeIndex&&(this.$active=f(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active")))}},{key:"_handleInputClick",value:function(a){this.open()}},{key:"_handleContainerMousedownAndTouchstart",value:function(a){this._mousedown=!0}},{key:"_handleContainerMouseupAndTouchend",value:function(a){this._mousedown=!1}},{key:"_highlight",value:function(a,l){var d=l.find("img"),p=l.text().toLowerCase().indexOf(""+a.toLowerCase()),E=p+a.length-1,A=l.text().slice(0,p),P=l.text().slice(p,E+1),j=l.text().slice(E+1);l.html("<span>"+A+"<span class='highlight'>"+P+"</span>"+j+"</span>"),d.length&&l.prepend(d)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){f(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1,this._mousedown=!1}},{key:"selectOption",value:function(a){var l=a.text().trim();this.el.value=l,this.$el.trigger("change"),this._resetAutocomplete(),this.close(),typeof this.options.onAutocomplete=="function"&&this.options.onAutocomplete.call(this,l)}},{key:"_renderDropdown",value:function(a,l){var d=this;this._resetAutocomplete();var p=[];for(var E in a)if(a.hasOwnProperty(E)&&E.toLowerCase().indexOf(l)!==-1){if(this.count>=this.options.limit)break;var A={data:a[E],key:E};p.push(A),this.count++}this.options.sortFunction&&p.sort(function(V,Q){return d.options.sortFunction(V.key.toLowerCase(),Q.key.toLowerCase(),l.toLowerCase())});for(var P=0;P<p.length;P++){var j=p[P],F=f("<li></li>");j.data?F.append('<img src="'+j.data+'" class="right circle"><span>'+j.key+"</span>"):F.append("<span>"+j.key+"</span>"),f(this.container).append(F),this._highlight(l,F)}}},{key:"open",value:function(){var a=this.el.value.toLowerCase();this._resetAutocomplete(),a.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,a)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():this.dropdown.open()}},{key:"close",value:function(){this.dropdown.close()}},{key:"updateData",value:function(a){var l=this.el.value.toLowerCase();this.options.data=a,this.isOpen&&this._renderDropdown(a,l)}}],[{key:"init",value:function(a,l){return n(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,a,l)}},{key:"getInstance",value:function(a){return(a.jquery?a[0]:a).M_Autocomplete}},{key:"defaults",get:function(){return _}}]),m}();k._keydown=!1,M.Autocomplete=k,M.jQueryLoaded&&M.initializeJqueryWrapper(k,"autocomplete","M_Autocomplete")}(cash),function(f){M.updateTextFields=function(){f("input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea").each(function(_,k){var T=f(this);0<_.value.length||f(_).is(":focus")||_.autofocus||T.attr("placeholder")!==null?T.siblings("label").addClass("active"):_.validity?T.siblings("label").toggleClass("active",_.validity.badInput===!0):T.siblings("label").removeClass("active")})},M.validate_field=function(_){var k=_.attr("data-length")!==null,T=parseInt(_.attr("data-length")),m=_[0].value.length;m!==0||_[0].validity.badInput!==!1||_.is(":required")?_.hasClass("validate")&&(_.is(":valid")&&k&&m<=T||_.is(":valid")&&!k?(_.removeClass("invalid"),_.addClass("valid")):(_.removeClass("valid"),_.addClass("invalid"))):_.hasClass("validate")&&(_.removeClass("valid"),_.removeClass("invalid"))},M.textareaAutoResize=function(_){if(_ instanceof Element&&(_=f(_)),_.length){var k=f(".hiddendiv").first();k.length||(k=f('<div class="hiddendiv common"></div>'),f("body").append(k));var T=_.css("font-family"),m=_.css("font-size"),a=_.css("line-height"),l=_.css("padding-top"),d=_.css("padding-right"),p=_.css("padding-bottom"),E=_.css("padding-left");m&&k.css("font-size",m),T&&k.css("font-family",T),a&&k.css("line-height",a),l&&k.css("padding-top",l),d&&k.css("padding-right",d),p&&k.css("padding-bottom",p),E&&k.css("padding-left",E),_.data("original-height")||_.data("original-height",_.height()),_.attr("wrap")==="off"&&k.css("overflow-wrap","normal").css("white-space","pre"),k.text(_[0].value+`
`);var A=k.html().replace(/\n/g,"<br>");k.html(A),0<_[0].offsetWidth&&0<_[0].offsetHeight?k.css("width",_.width()+"px"):k.css("width",window.innerWidth/2+"px"),_.data("original-height")<=k.innerHeight()?_.css("height",k.innerHeight()+"px"):_[0].value.length<_.data("previous-length")&&_.css("height",_.data("original-height")+"px"),_.data("previous-length",_[0].value.length)}else console.error("No textarea element found")},f(document).ready(function(){var _="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";f(document).on("change",_,function(){this.value.length===0&&f(this).attr("placeholder")===null||f(this).siblings("label").addClass("active"),M.validate_field(f(this))}),f(document).ready(function(){M.updateTextFields()}),f(document).on("reset",function(T){var m=f(T.target);m.is("form")&&(m.find(_).removeClass("valid").removeClass("invalid"),m.find(_).each(function(a){this.value.length&&f(this).siblings("label").removeClass("active")}),setTimeout(function(){m.find("select").each(function(){this.M_FormSelect&&f(this).trigger("change")})},0))}),document.addEventListener("focus",function(T){f(T.target).is(_)&&f(T.target).siblings("label, .prefix").addClass("active")},!0),document.addEventListener("blur",function(T){var m=f(T.target);if(m.is(_)){var a=".prefix";m[0].value.length===0&&m[0].validity.badInput!==!0&&m.attr("placeholder")===null&&(a+=", label"),m.siblings(a).removeClass("active"),M.validate_field(m)}},!0),f(document).on("keyup","input[type=radio], input[type=checkbox]",function(T){if(T.which===M.keys.TAB)return f(this).addClass("tabbed"),void f(this).one("blur",function(m){f(this).removeClass("tabbed")})});var k=".materialize-textarea";f(k).each(function(){var T=f(this);T.data("original-height",T.height()),T.data("previous-length",this.value.length),M.textareaAutoResize(T)}),f(document).on("keyup",k,function(){M.textareaAutoResize(f(this))}),f(document).on("keydown",k,function(){M.textareaAutoResize(f(this))}),f(document).on("change",'.file-field input[type="file"]',function(){for(var T=f(this).closest(".file-field").find("input.file-path"),m=f(this)[0].files,a=[],l=0;l<m.length;l++)a.push(m[l].name);T[0].value=a.join(", "),T.trigger("change")})})}(cash),function(f,_){var k={indicators:!0,height:400,duration:500,interval:6e3},T=function(m){function a(l,d){o(this,a);var p=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,d));return(p.el.M_Slider=p).options=f.extend({},a.defaults,d),p.$slider=p.$el.find(".slides"),p.$slides=p.$slider.children("li"),p.activeIndex=p.$slides.filter(function(E){return f(E).hasClass("active")}).first().index(),p.activeIndex!=-1&&(p.$active=p.$slides.eq(p.activeIndex)),p._setSliderHeight(),p.$slides.find(".caption").each(function(E){p._animateCaptionIn(E,0)}),p.$slides.find("img").each(function(E){var A="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";f(E).attr("src")!==A&&(f(E).css("background-image",'url("'+f(E).attr("src")+'")'),f(E).attr("src",A))}),p._setupIndicators(),p.$active?p.$active.css("display","block"):(p.$slides.first().addClass("active"),_({targets:p.$slides.first()[0],opacity:1,duration:p.options.duration,easing:"easeOutQuad"}),p.activeIndex=0,p.$active=p.$slides.eq(p.activeIndex),p.options.indicators&&p.$indicators.eq(p.activeIndex).addClass("active")),p.$active.find("img").each(function(E){_({targets:p.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:p.options.duration,easing:"easeOutQuad"})}),p._setupEventHandlers(),p.start(),p}return r(a,c),i(a,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var l=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each(function(d){d.addEventListener("click",l._handleIndicatorClickBound)})}},{key:"_removeEventHandlers",value:function(){var l=this;this.options.indicators&&this.$indicators.each(function(d){d.removeEventListener("click",l._handleIndicatorClickBound)})}},{key:"_handleIndicatorClick",value:function(l){var d=f(l.target).index();this.set(d)}},{key:"_handleInterval",value:function(){var l=this.$slider.find(".active").index();this.$slides.length===l+1?l=0:l+=1,this.set(l)}},{key:"_animateCaptionIn",value:function(l,d){var p={targets:l,opacity:0,duration:d,easing:"easeOutQuad"};f(l).hasClass("center-align")?p.translateY=-100:f(l).hasClass("right-align")?p.translateX=100:f(l).hasClass("left-align")&&(p.translateX=-100),_(p)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var l=this;this.options.indicators&&(this.$indicators=f('<ul class="indicators"></ul>'),this.$slides.each(function(d,p){var E=f('<li class="indicator-item"></li>');l.$indicators.append(E[0])}),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(l){var d=this;if(l>=this.$slides.length?l=0:l<0&&(l=this.$slides.length-1),this.activeIndex!=l){this.$active=this.$slides.eq(this.activeIndex);var p=this.$active.find(".caption");this.$active.removeClass("active"),_({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){d.$slides.not(".active").each(function(E){_({targets:E,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})})}}),this._animateCaptionIn(p[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(l).addClass("active")),_({targets:this.$slides.eq(l)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),_({targets:this.$slides.eq(l).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(l).addClass("active"),this.activeIndex=l,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var l=this.activeIndex+1;l>=this.$slides.length?l=0:l<0&&(l=this.$slides.length-1),this.set(l)}},{key:"prev",value:function(){var l=this.activeIndex-1;l>=this.$slides.length?l=0:l<0&&(l=this.$slides.length-1),this.set(l)}}],[{key:"init",value:function(l,d){return n(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,l,d)}},{key:"getInstance",value:function(l){return(l.jquery?l[0]:l).M_Slider}},{key:"defaults",get:function(){return k}}]),a}();M.Slider=T,M.jQueryLoaded&&M.initializeJqueryWrapper(T,"slider","M_Slider")}(cash,M.anime),function(f,_){f(document).on("click",".card",function(k){if(f(this).children(".card-reveal").length){var T=f(k.target).closest(".card");T.data("initialOverflow")===void 0&&T.data("initialOverflow",T.css("overflow")===void 0?"":T.css("overflow"));var m=f(this).find(".card-reveal");f(k.target).is(f(".card-reveal .card-title"))||f(k.target).is(f(".card-reveal .card-title i"))?_({targets:m[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(a){var l=a.animatables[0].target;f(l).css({display:"none"}),T.css("overflow",T.data("initialOverflow"))}}):(f(k.target).is(f(".card .activator"))||f(k.target).is(f(".card .activator i")))&&(T.css("overflow","hidden"),m.css({display:"block"}),_({targets:m[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}})}(cash,M.anime),function(f){var _={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},k=function(T){function m(a,l){o(this,m);var d=s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,a,l));return(d.el.M_Chips=d).options=f.extend({},m.defaults,l),d.$el.addClass("chips input-field"),d.chipsData=[],d.$chips=f(),d._setupInput(),d.hasAutocomplete=0<Object.keys(d.options.autocompleteOptions).length,d.$input.attr("id")||d.$input.attr("id",M.guid()),d.options.data.length&&(d.chipsData=d.options.data,d._renderChips(d.chipsData)),d.hasAutocomplete&&d._setupAutocomplete(),d._setPlaceholder(),d._setupLabel(),d._setupEventHandlers(),d}return r(m,c),i(m,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",m._handleChipsKeydown),document.addEventListener("keyup",m._handleChipsKeyup),this.el.addEventListener("blur",m._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",m._handleChipsKeydown),document.removeEventListener("keyup",m._handleChipsKeyup),this.el.removeEventListener("blur",m._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(a){var l=f(a.target).closest(".chip"),d=f(a.target).is(".close");if(l.length){var p=l.index();d?(this.deleteChip(p),this.$input[0].focus()):this.selectChip(p)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(a){if(m._keydown=!0,a.keyCode===13){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;a.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else a.keyCode!==8&&a.keyCode!==37||this.$input[0].value!==""||!this.chipsData.length||(a.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(a){if(a.tag){var l=document.createElement("div"),d=document.createElement("i");if(l.classList.add("chip"),l.textContent=a.tag,l.setAttribute("tabindex",0),f(d).addClass("material-icons close"),d.textContent="close",a.image){var p=document.createElement("img");p.setAttribute("src",a.image),l.insertBefore(p,l.firstChild)}return l.appendChild(d),l}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var a=0;a<this.chipsData.length;a++){var l=this._renderChip(this.chipsData[a]);this.$el.append(l),this.$chips.add(l)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var a=this;this.options.autocompleteOptions.onAutocomplete=function(l){a.addChip({tag:l}),a.$input[0].value="",a.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=f("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){this.chipsData!==void 0&&!this.chipsData.length&&this.options.placeholder?f(this.$input).prop("placeholder",this.options.placeholder):(this.chipsData===void 0||this.chipsData.length)&&this.options.secondaryPlaceholder&&f(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(a){if(a.hasOwnProperty("tag")&&a.tag!==""){for(var l=!1,d=0;d<this.chipsData.length;d++)if(this.chipsData[d].tag===a.tag){l=!0;break}return!l}return!1}},{key:"addChip",value:function(a){if(this._isValid(a)&&!(this.chipsData.length>=this.options.limit)){var l=this._renderChip(a);this.$chips.add(l),this.chipsData.push(a),f(this.$input).before(l),this._setPlaceholder(),typeof this.options.onChipAdd=="function"&&this.options.onChipAdd.call(this,this.$el,l)}}},{key:"deleteChip",value:function(a){var l=this.$chips.eq(a);this.$chips.eq(a).remove(),this.$chips=this.$chips.filter(function(d){return 0<=f(d).index()}),this.chipsData.splice(a,1),this._setPlaceholder(),typeof this.options.onChipDelete=="function"&&this.options.onChipDelete.call(this,this.$el,l[0])}},{key:"selectChip",value:function(a){var l=this.$chips.eq(a);(this._selectedChip=l)[0].focus(),typeof this.options.onChipSelect=="function"&&this.options.onChipSelect.call(this,this.$el,l[0])}}],[{key:"init",value:function(a,l){return n(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,a,l)}},{key:"getInstance",value:function(a){return(a.jquery?a[0]:a).M_Chips}},{key:"_handleChipsKeydown",value:function(a){m._keydown=!0;var l=f(a.target).closest(".chips"),d=a.target&&l.length;if(!f(a.target).is("input, textarea")&&d){var p=l[0].M_Chips;if(a.keyCode===8||a.keyCode===46){a.preventDefault();var E=p.chipsData.length;if(p._selectedChip){var A=p._selectedChip.index();p.deleteChip(A),p._selectedChip=null,E=Math.max(A-1,0)}p.chipsData.length&&p.selectChip(E)}else if(a.keyCode===37){if(p._selectedChip){var P=p._selectedChip.index()-1;if(P<0)return;p.selectChip(P)}}else if(a.keyCode===39&&p._selectedChip){var j=p._selectedChip.index()+1;j>=p.chipsData.length?p.$input[0].focus():p.selectChip(j)}}}},{key:"_handleChipsKeyup",value:function(a){m._keydown=!1}},{key:"_handleChipsBlur",value:function(a){m._keydown||(f(a.target).closest(".chips")[0].M_Chips._selectedChip=null)}},{key:"defaults",get:function(){return _}}]),m}();k._keydown=!1,M.Chips=k,M.jQueryLoaded&&M.initializeJqueryWrapper(k,"chips","M_Chips"),f(document).ready(function(){f(document.body).on("click",".chip .close",function(){var T=f(this).closest(".chips");T.length&&T[0].M_Chips||f(this).closest(".chip").remove()})})}(cash),function(f){var _={top:0,bottom:1/0,offset:0,onPositionChange:null},k=function(T){function m(a,l){o(this,m);var d=s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,a,l));return(d.el.M_Pushpin=d).options=f.extend({},m.defaults,l),d.originalOffset=d.el.offsetTop,m._pushpins.push(d),d._setupEventHandlers(),d._updatePosition(),d}return r(m,c),i(m,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();var a=m._pushpins.indexOf(this);m._pushpins.splice(a,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",m._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",m._updateElements)}},{key:"_updatePosition",value:function(){var a=M.getDocumentScrollTop()+this.options.offset;this.options.top<=a&&this.options.bottom>=a&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),typeof this.options.onPositionChange=="function"&&this.options.onPositionChange.call(this,"pinned")),a<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),typeof this.options.onPositionChange=="function"&&this.options.onPositionChange.call(this,"pin-top")),a>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px",typeof this.options.onPositionChange=="function"&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top"),this.el.classList.remove("pinned"),this.el.classList.remove("pin-bottom")}}],[{key:"init",value:function(a,l){return n(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,a,l)}},{key:"getInstance",value:function(a){return(a.jquery?a[0]:a).M_Pushpin}},{key:"_updateElements",value:function(){for(var a in m._pushpins)m._pushpins[a]._updatePosition()}},{key:"defaults",get:function(){return _}}]),m}();k._pushpins=[],M.Pushpin=k,M.jQueryLoaded&&M.initializeJqueryWrapper(k,"pushpin","M_Pushpin")}(cash),function(f,_){var k={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};f.fn.reverse=[].reverse;var T=function(m){function a(l,d){o(this,a);var p=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,d));return(p.el.M_FloatingActionButton=p).options=f.extend({},a.defaults,d),p.isOpen=!1,p.$anchor=p.$el.children("a").first(),p.$menu=p.$el.children("ul").first(),p.$floatingBtns=p.$el.find("ul .btn-floating"),p.$floatingBtnsReverse=p.$el.find("ul .btn-floating").reverse(),p.offsetY=0,p.offsetX=0,p.$el.addClass("direction-"+p.options.direction),p.options.direction==="top"?p.offsetY=40:p.options.direction==="right"?p.offsetX=-40:p.options.direction==="bottom"?p.offsetY=-40:p.offsetX=40,p._setupEventHandlers(),p}return r(a,c),i(a,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(l){f(l.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var l=this;this.$el.addClass("active");var d=0;this.$floatingBtnsReverse.each(function(p){_({targets:p,opacity:1,scale:[.4,1],translateY:[l.offsetY,0],translateX:[l.offsetX,0],duration:275,delay:d,easing:"easeInOutQuad"}),d+=40})}},{key:"_animateOutFAB",value:function(){var l=this;this.$floatingBtnsReverse.each(function(d){_.remove(d),_({targets:d,opacity:0,scale:.4,translateY:l.offsetY,translateX:l.offsetX,duration:175,easing:"easeOutQuad",complete:function(){l.$el.removeClass("active")}})})}},{key:"_animateInToolbar",value:function(){var l,d=this,p=window.innerWidth,E=window.innerHeight,A=this.el.getBoundingClientRect(),P=f('<div class="fab-backdrop"></div>'),j=this.$anchor.css("background-color");this.$anchor.append(P),this.offsetX=A.left-p/2+A.width/2,this.offsetY=E-A.bottom,l=p/P[0].clientWidth,this.btnBottom=A.bottom,this.btnLeft=A.left,this.btnWidth=A.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),P.css({"background-color":j}),setTimeout(function(){d.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),d.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout(function(){d.$el.css({overflow:"hidden","background-color":j}),P.css({transform:"scale("+l+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),d.$menu.children("li").children("a").css({opacity:1}),d._handleDocumentClickBound=d._handleDocumentClick.bind(d),window.addEventListener("scroll",d._handleCloseBound,!0),document.body.addEventListener("click",d._handleDocumentClickBound,!0)},100)},0)}},{key:"_animateOutToolbar",value:function(){var l=this,d=window.innerWidth,p=window.innerHeight,E=this.$el.find(".fab-backdrop"),A=this.$anchor.css("background-color");this.offsetX=this.btnLeft-d/2+this.btnWidth/2,this.offsetY=p-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),E.css({transform:"scale(0)","background-color":A}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout(function(){E.remove(),l.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-l.offsetX+"px,0,0)"}),l.$anchor.css({overflow:"",transform:"translate3d(0,"+l.offsetY+"px,0)"}),setTimeout(function(){l.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),l.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})},20)},200)}}],[{key:"init",value:function(l,d){return n(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,l,d)}},{key:"getInstance",value:function(l){return(l.jquery?l[0]:l).M_FloatingActionButton}},{key:"defaults",get:function(){return k}}]),a}();M.FloatingActionButton=T,M.jQueryLoaded&&M.initializeJqueryWrapper(T,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(f){var _={autoClose:!1,format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"",nextMonth:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},k=function(T){function m(a,l){o(this,m);var d=s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,a,l));(d.el.M_Datepicker=d).options=f.extend({},m.defaults,l),l&&l.hasOwnProperty("i18n")&&typeof l.i18n=="object"&&(d.options.i18n=f.extend({},m.defaults.i18n,l.i18n)),d.options.minDate&&d.options.minDate.setHours(0,0,0,0),d.options.maxDate&&d.options.maxDate.setHours(0,0,0,0),d.id=M.guid(),d._setupVariables(),d._insertHTMLIntoDOM(),d._setupModal(),d._setupEventHandlers(),d.options.defaultDate||(d.options.defaultDate=new Date(Date.parse(d.el.value)));var p=d.options.defaultDate;return m._isDate(p)?d.options.setDefaultDate?(d.setDate(p,!0),d.setInputValue()):d.gotoDate(p):d.gotoDate(new Date),d.isOpen=!1,d}return r(m,c),i(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),f(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var a=this.calendarEl.querySelector(".orig-select-year");a&&M.FormSelect.getInstance(a).destroy();var l=this.calendarEl.querySelector(".orig-select-month");l&&M.FormSelect.getInstance(l).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(f(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var a=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){a.isOpen=!1}})}},{key:"toString",value:function(a){var l=this;return a=a||this.options.format,m._isDate(this.date)?a.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g).map(function(d){return l.formats[d]?l.formats[d]():d}).join(""):""}},{key:"setDate",value:function(a,l){if(!a)return this.date=null,this._renderDateDisplay(),this.draw();if(typeof a=="string"&&(a=new Date(Date.parse(a))),m._isDate(a)){var d=this.options.minDate,p=this.options.maxDate;m._isDate(d)&&a<d?a=d:m._isDate(p)&&p<a&&(a=p),this.date=new Date(a.getTime()),this._renderDateDisplay(),m._setToStartOfDay(this.date),this.gotoDate(this.date),l||typeof this.options.onSelect!="function"||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var a=m._isDate(this.date)?this.date:new Date,l=this.options.i18n,d=l.weekdaysShort[a.getDay()],p=l.monthsShort[a.getMonth()],E=a.getDate();this.yearTextEl.innerHTML=a.getFullYear(),this.dateTextEl.innerHTML=d+", "+p+" "+E}},{key:"gotoDate",value:function(a){var l=!0;if(m._isDate(a)){if(this.calendars){var d=new Date(this.calendars[0].year,this.calendars[0].month,1),p=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),E=a.getTime();p.setMonth(p.getMonth()+1),p.setDate(p.getDate()-1),l=E<d.getTime()||p.getTime()<E}l&&(this.calendars=[{month:a.getMonth(),year:a.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(a){return a.month<0&&(a.year-=Math.ceil(Math.abs(a.month)/12),a.month+=12),11<a.month&&(a.year+=Math.floor(Math.abs(a.month)/12),a.month-=12),a}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(a,l,d){var p=this.options,E=new Date,A=m._getDaysInMonth(a,l),P=new Date(a,l,1).getDay(),j=[],F=[];m._setToStartOfDay(E),0<p.firstDay&&(P-=p.firstDay)<0&&(P+=7);for(var V=l===0?11:l-1,Q=l===11?0:l+1,ie=l===0?a-1:a,oe=l===11?a+1:a,J=m._getDaysInMonth(ie,V),ee=A+P,le=ee;7<le;)le-=7;ee+=7-le;for(var ue=!1,ae=0,ve=0;ae<ee;ae++){var he=new Date(a,l,ae-P+1),Se=!!m._isDate(this.date)&&m._compareDates(he,this.date),He=m._compareDates(he,E),ke=p.events.indexOf(he.toDateString())!==-1,z=ae<P||A+P<=ae,K=ae-P+1,Z=l,se=a,pe=p.startRange&&m._compareDates(p.startRange,he),S=p.endRange&&m._compareDates(p.endRange,he),R=p.startRange&&p.endRange&&p.startRange<he&&he<p.endRange;z&&(ae<P?(K=J+K,Z=V,se=ie):(K-=A,Z=Q,se=oe));var B={day:K,month:Z,year:se,hasEvent:ke,isSelected:Se,isToday:He,isDisabled:p.minDate&&he<p.minDate||p.maxDate&&he>p.maxDate||p.disableWeekends&&m._isWeekend(he)||p.disableDayFn&&p.disableDayFn(he),isEmpty:z,isStartRange:pe,isEndRange:S,isInRange:R,showDaysInNextAndPreviousMonths:p.showDaysInNextAndPreviousMonths};F.push(this.renderDay(B)),++ve==7&&(j.push(this.renderRow(F,p.isRTL,ue)),ve=0,ue=!(F=[]))}return this.renderTable(p,j,d)}},{key:"renderDay",value:function(a){var l=[],d="false";if(a.isEmpty){if(!a.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';l.push("is-outside-current-month"),l.push("is-selection-disabled")}return a.isDisabled&&l.push("is-disabled"),a.isToday&&l.push("is-today"),a.isSelected&&(l.push("is-selected"),d="true"),a.hasEvent&&l.push("has-event"),a.isInRange&&l.push("is-inrange"),a.isStartRange&&l.push("is-startrange"),a.isEndRange&&l.push("is-endrange"),'<td data-day="'+a.day+'" class="'+l.join(" ")+'" aria-selected="'+d+'"><button class="datepicker-day-button" type="button" data-year="'+a.year+'" data-month="'+a.month+'" data-day="'+a.day+'">'+a.day+"</button></td>"}},{key:"renderRow",value:function(a,l,d){return'<tr class="datepicker-row'+(d?" is-selected":"")+'">'+(l?a.reverse():a).join("")+"</tr>"}},{key:"renderTable",value:function(a,l,d){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+d+'">'+this.renderHead(a)+this.renderBody(l)+"</table></div>"}},{key:"renderHead",value:function(a){var l=void 0,d=[];for(l=0;l<7;l++)d.push('<th scope="col"><abbr title="'+this.renderDayName(a,l)+'">'+this.renderDayName(a,l,!0)+"</abbr></th>");return"<thead><tr>"+(a.isRTL?d.reverse():d).join("")+"</tr></thead>"}},{key:"renderBody",value:function(a){return"<tbody>"+a.join("")+"</tbody>"}},{key:"renderTitle",value:function(a,l,d,p,E,A){var P,j,F=void 0,V=void 0,Q=void 0,ie=this.options,oe=d===ie.minYear,J=d===ie.maxYear,ee='<div id="'+A+'" class="datepicker-controls" role="heading" aria-live="assertive">',le=!0,ue=!0;for(Q=[],F=0;F<12;F++)Q.push('<option value="'+(d===E?F-l:12+F-l)+'"'+(F===p?' selected="selected"':"")+(oe&&F<ie.minMonth||J&&F>ie.maxMonth?'disabled="disabled"':"")+">"+ie.i18n.months[F]+"</option>");for(P='<select class="datepicker-select orig-select-month" tabindex="-1">'+Q.join("")+"</select>",f.isArray(ie.yearRange)?(F=ie.yearRange[0],V=ie.yearRange[1]+1):(F=d-ie.yearRange,V=1+d+ie.yearRange),Q=[];F<V&&F<=ie.maxYear;F++)F>=ie.minYear&&Q.push('<option value="'+F+'" '+(F===d?'selected="selected"':"")+">"+F+"</option>");return j='<select class="datepicker-select orig-select-year" tabindex="-1">'+Q.join("")+"</select>",ee+='<button class="month-prev'+(le?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg></button>',ee+='<div class="selects-container">',ie.showMonthAfterYear?ee+=j+P:ee+=P+j,ee+="</div>",oe&&(p===0||ie.minMonth>=p)&&(le=!1),J&&(p===11||ie.maxMonth<=p)&&(ue=!1),(ee+='<button class="month-next'+(ue?"":" is-disabled")+'" type="button"><svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg></button>')+"</div>"}},{key:"draw",value:function(a){if(this.isOpen||a){var l,d=this.options,p=d.minYear,E=d.maxYear,A=d.minMonth,P=d.maxMonth,j="";this._y<=p&&(this._y=p,!isNaN(A)&&this._m<A&&(this._m=A)),this._y>=E&&(this._y=E,!isNaN(P)&&this._m>P&&(this._m=P)),l="datepicker-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var F=0;F<1;F++)this._renderDateDisplay(),j+=this.renderTitle(this,F,this.calendars[F].year,this.calendars[F].month,this.calendars[0].year,l)+this.render(this.calendars[F].year,this.calendars[F].month,l);this.destroySelects(),this.calendarEl.innerHTML=j;var V=this.calendarEl.querySelector(".orig-select-year"),Q=this.calendarEl.querySelector(".orig-select-month");M.FormSelect.init(V,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(Q,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),V.addEventListener("change",this._handleYearChange.bind(this)),Q.addEventListener("change",this._handleMonthChange.bind(this)),typeof this.options.onDraw=="function"&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var a=this;this.$modalEl=f(m._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".datepicker-calendar"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return a.date.getDate()},dd:function(){var l=a.date.getDate();return(l<10?"0":"")+l},ddd:function(){return a.options.i18n.weekdaysShort[a.date.getDay()]},dddd:function(){return a.options.i18n.weekdays[a.date.getDay()]},m:function(){return a.date.getMonth()+1},mm:function(){var l=a.date.getMonth()+1;return(l<10?"0":"")+l},mmm:function(){return a.options.i18n.monthsShort[a.date.getMonth()]},mmmm:function(){return a.options.i18n.months[a.date.getMonth()]},yy:function(){return(""+a.date.getFullYear()).slice(2)},yyyy:function(){return a.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(a){a.which===M.keys.ENTER&&(a.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(a){if(this.isOpen){var l=f(a.target);l.hasClass("is-disabled")||(!l.hasClass("datepicker-day-button")||l.hasClass("is-empty")||l.parent().hasClass("is-disabled")?l.closest(".month-prev").length?this.prevMonth():l.closest(".month-next").length&&this.nextMonth():(this.setDate(new Date(a.target.getAttribute("data-year"),a.target.getAttribute("data-month"),a.target.getAttribute("data-day"))),this.options.autoClose&&this._finishSelection()))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(a){this.gotoMonth(a.target.value)}},{key:"_handleYearChange",value:function(a){this.gotoYear(a.target.value)}},{key:"gotoMonth",value:function(a){isNaN(a)||(this.calendars[0].month=parseInt(a,10),this.adjustCalendars())}},{key:"gotoYear",value:function(a){isNaN(a)||(this.calendars[0].year=parseInt(a,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(a){var l=void 0;a.firedBy!==this&&(l=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),m._isDate(l)&&this.setDate(l))}},{key:"renderDayName",value:function(a,l,d){for(l+=a.firstDay;7<=l;)l-=7;return d?a.i18n.weekdaysAbbrev[l]:a.i18n.weekdays[l]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,typeof this.options.onOpen=="function"&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,typeof this.options.onClose=="function"&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(a,l){return n(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,a,l)}},{key:"_isDate",value:function(a){return/Date/.test(Object.prototype.toString.call(a))&&!isNaN(a.getTime())}},{key:"_isWeekend",value:function(a){var l=a.getDay();return l===0||l===6}},{key:"_setToStartOfDay",value:function(a){m._isDate(a)&&a.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(a,l){return[31,m._isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][l]}},{key:"_isLeapYear",value:function(a){return a%4==0&&a%100!=0||a%400==0}},{key:"_compareDates",value:function(a,l){return a.getTime()===l.getTime()}},{key:"_setToStartOfDay",value:function(a){m._isDate(a)&&a.setHours(0,0,0,0)}},{key:"getInstance",value:function(a){return(a.jquery?a[0]:a).M_Datepicker}},{key:"defaults",get:function(){return _}}]),m}();k._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="datepicker-calendar"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=k,M.jQueryLoaded&&M.initializeJqueryWrapper(k,"datepicker","M_Datepicker")}(cash),function(f){var _={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,onSelect:null},k=function(T){function m(a,l){o(this,m);var d=s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,a,l));return(d.el.M_Timepicker=d).options=f.extend({},m.defaults,l),d.id=M.guid(),d._insertHTMLIntoDOM(),d._setupModal(),d._setupVariables(),d._setupEventHandlers(),d._clockSetup(),d._pickerSetup(),d}return r(m,c),i(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),f(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),f(this.spanHours).on("click",this.showView.bind(this,"hours")),f(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(a){a.which===M.keys.ENTER&&(a.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(a){a.preventDefault();var l=this.plate.getBoundingClientRect(),d=l.left,p=l.top;this.x0=d+this.options.dialRadius,this.y0=p+this.options.dialRadius,this.moved=!1;var E=m._Pos(a);this.dx=E.x-this.x0,this.dy=E.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(a){a.preventDefault();var l=m._Pos(a),d=l.x-this.x0,p=l.y-this.y0;this.moved=!0,this.setHand(d,p,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(a){var l=this;a.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var d=m._Pos(a),p=d.x-this.x0,E=d.y-this.y0;this.moved&&p===this.dx&&E===this.dy&&this.setHand(p,E),this.currentView==="hours"?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(f(this.minutesView).addClass("timepicker-dial-out"),setTimeout(function(){l.done()},this.options.duration/2)),typeof this.options.onSelect=="function"&&this.options.onSelect.call(this,this.hours,this.minutes),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=f(m._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var a=document.querySelector(this.options.container);this.options.container&&a?this.$modalEl.appendTo(a):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var a=this;this.modal=M.Modal.init(this.modalEl,{onOpenStart:this.options.onOpenStart,onOpenEnd:this.options.onOpenEnd,onCloseStart:this.options.onCloseStart,onCloseEnd:function(){typeof a.options.onCloseEnd=="function"&&a.options.onCloseEnd.call(a),a.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var a=f('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&a.css({visibility:""});var l=f('<div class="confirmation-btns"></div>');f('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(l).on("click",this.close.bind(this)),f('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(l).on("click",this.done.bind(this)),l.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=f('<div class="am-btn">AM</div>'),this.$pmBtn=f('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var a=this.options.dialRadius,l=this.options.tickRadius,d=2*a,p=m._createSVGEl("svg");p.setAttribute("class","timepicker-svg"),p.setAttribute("width",d),p.setAttribute("height",d);var E=m._createSVGEl("g");E.setAttribute("transform","translate("+a+","+a+")");var A=m._createSVGEl("circle");A.setAttribute("class","timepicker-canvas-bearing"),A.setAttribute("cx",0),A.setAttribute("cy",0),A.setAttribute("r",4);var P=m._createSVGEl("line");P.setAttribute("x1",0),P.setAttribute("y1",0);var j=m._createSVGEl("circle");j.setAttribute("class","timepicker-canvas-bg"),j.setAttribute("r",l),E.appendChild(P),E.appendChild(j),E.appendChild(A),p.appendChild(E),this._canvas.appendChild(p),this.hand=P,this.bg=j,this.bearing=A,this.g=E}},{key:"_buildHoursView",value:function(){var a=f('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var l=1;l<13;l+=1){var d=a.clone(),p=l/6*Math.PI,E=this.options.outerRadius;d.css({left:this.options.dialRadius+Math.sin(p)*E-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(p)*E-this.options.tickRadius+"px"}),d.html(l===0?"00":l),this.hoursView.appendChild(d[0])}else for(var A=0;A<24;A+=1){var P=a.clone(),j=A/6*Math.PI,F=0<A&&A<13?this.options.innerRadius:this.options.outerRadius;P.css({left:this.options.dialRadius+Math.sin(j)*F-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(j)*F-this.options.tickRadius+"px"}),P.html(A===0?"00":A),this.hoursView.appendChild(P[0])}}},{key:"_buildMinutesView",value:function(){for(var a=f('<div class="timepicker-tick"></div>'),l=0;l<60;l+=5){var d=a.clone(),p=l/30*Math.PI;d.css({left:this.options.dialRadius+Math.sin(p)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(p)*this.options.outerRadius-this.options.tickRadius+"px"}),d.html(m._addLeadingZero(l)),this.minutesView.appendChild(d[0])}}},{key:"_handleAmPmClick",value:function(a){var l=f(a.target);this.amOrPm=l.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary",this.amOrPm==="AM"),this.$pmBtn.toggleClass("text-primary",this.amOrPm==="PM"))}},{key:"_updateTimeFromInput",value:function(){var a=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&a[1]!==void 0&&(0<a[1].toUpperCase().indexOf("AM")?this.amOrPm="AM":this.amOrPm="PM",a[1]=a[1].replace("AM","").replace("PM","")),a[0]==="now"){var l=new Date(+new Date+this.options.fromNow);a=[l.getHours(),l.getMinutes()],this.options.twelveHour&&(this.amOrPm=12<=a[0]&&a[0]<24?"PM":"AM")}this.hours=+a[0]||0,this.minutes=+a[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=m._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(a,l){a==="minutes"&&f(this.hoursView).css("visibility");var d=a==="hours",p=d?this.hoursView:this.minutesView,E=d?this.minutesView:this.hoursView;this.currentView=a,f(this.spanHours).toggleClass("text-primary",d),f(this.spanMinutes).toggleClass("text-primary",!d),E.classList.add("timepicker-dial-out"),f(p).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(l),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){f(E).css("visibility","hidden")},this.options.duration)}},{key:"resetClock",value:function(a){var l=this.currentView,d=this[l],p=l==="hours",E=d*(Math.PI/(p?6:30)),A=p&&0<d&&d<13?this.options.innerRadius:this.options.outerRadius,P=Math.sin(E)*A,j=-Math.cos(E)*A,F=this;a?(f(this.canvas).addClass("timepicker-canvas-out"),setTimeout(function(){f(F.canvas).removeClass("timepicker-canvas-out"),F.setHand(P,j)},a)):this.setHand(P,j)}},{key:"setHand",value:function(a,l,d){var p=this,E=Math.atan2(a,-l),A=this.currentView==="hours",P=Math.PI/(A||d?6:30),j=Math.sqrt(a*a+l*l),F=A&&j<(this.options.outerRadius+this.options.innerRadius)/2,V=F?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(V=this.options.outerRadius),E<0&&(E=2*Math.PI+E);var Q=Math.round(E/P);E=Q*P,this.options.twelveHour?A?Q===0&&(Q=12):(d&&(Q*=5),Q===60&&(Q=0)):A?(Q===12&&(Q=0),Q=F?Q===0?12:Q:Q===0?0:Q+12):(d&&(Q*=5),Q===60&&(Q=0)),this[this.currentView]!==Q&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout(function(){p.vibrateTimer=null},100))),this[this.currentView]=Q,A?this.spanHours.innerHTML=Q:this.spanMinutes.innerHTML=m._addLeadingZero(Q);var ie=Math.sin(E)*(V-this.options.tickRadius),oe=-Math.cos(E)*(V-this.options.tickRadius),J=Math.sin(E)*V,ee=-Math.cos(E)*V;this.hand.setAttribute("x2",ie),this.hand.setAttribute("y2",oe),this.bg.setAttribute("cx",J),this.bg.setAttribute("cy",ee)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(a,l){var d=this.el.value,p=l?"":m._addLeadingZero(this.hours)+":"+m._addLeadingZero(this.minutes);this.time=p,!l&&this.options.twelveHour&&(p=p+" "+this.amOrPm),(this.el.value=p)!==d&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(a,l){return n(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,a,l)}},{key:"_addLeadingZero",value:function(a){return(a<10?"0":"")+a}},{key:"_createSVGEl",value:function(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}},{key:"_Pos",value:function(a){return a.targetTouches&&1<=a.targetTouches.length?{x:a.targetTouches[0].clientX,y:a.targetTouches[0].clientY}:{x:a.clientX,y:a.clientY}}},{key:"getInstance",value:function(a){return(a.jquery?a[0]:a).M_Timepicker}},{key:"defaults",get:function(){return _}}]),m}();k._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=k,M.jQueryLoaded&&M.initializeJqueryWrapper(k,"timepicker","M_Timepicker")}(cash),function(f){var _={},k=function(T){function m(a,l){o(this,m);var d=s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,a,l));return(d.el.M_CharacterCounter=d).options=f.extend({},m.defaults,l),d.isInvalid=!1,d.isValidLength=!1,d._setupCounter(),d._setupEventHandlers(),d}return r(m,c),i(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),f(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){f(this.counterEl).remove()}},{key:"updateCounter",value:function(){var a=+this.$el.attr("data-length"),l=this.el.value.length;this.isValidLength=l<=a;var d=l;a&&(d+="/"+a,this._validateInput()),f(this.counterEl).html(d)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(a,l){return n(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,a,l)}},{key:"getInstance",value:function(a){return(a.jquery?a[0]:a).M_CharacterCounter}},{key:"defaults",get:function(){return _}}]),m}();M.CharacterCounter=k,M.jQueryLoaded&&M.initializeJqueryWrapper(k,"characterCounter","M_CharacterCounter")}(cash),function(f){var _={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},k=function(T){function m(a,l){o(this,m);var d=s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,a,l));return(d.el.M_Carousel=d).options=f.extend({},m.defaults,l),d.hasMultipleSlides=1<d.$el.find(".carousel-item").length,d.showIndicators=d.options.indicators&&d.hasMultipleSlides,d.noWrap=d.options.noWrap||!d.hasMultipleSlides,d.pressed=!1,d.dragged=!1,d.offset=d.target=0,d.images=[],d.itemWidth=d.$el.find(".carousel-item").first().innerWidth(),d.itemHeight=d.$el.find(".carousel-item").first().innerHeight(),d.dim=2*d.itemWidth+d.options.padding||1,d._autoScrollBound=d._autoScroll.bind(d),d._trackBound=d._track.bind(d),d.options.fullWidth&&(d.options.dist=0,d._setCarouselHeight(),d.showIndicators&&d.$el.find(".carousel-fixed-item").addClass("with-indicators")),d.$indicators=f('<ul class="indicators"></ul>'),d.$el.find(".carousel-item").each(function(p,E){if(d.images.push(p),d.showIndicators){var A=f('<li class="indicator-item"></li>');E===0&&A[0].classList.add("active"),d.$indicators.append(A)}}),d.showIndicators&&d.$el.append(d.$indicators),d.count=d.images.length,d.options.numVisible=Math.min(d.count,d.options.numVisible),d.xform="transform",["webkit","Moz","O","ms"].every(function(p){var E=p+"Transform";return document.body.style[E]===void 0||(d.xform=E,!1)}),d._setupEventHandlers(),d._scroll(d.offset),d}return r(m,c),i(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var a=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),window.ontouchstart!==void 0&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each(function(d,p){d.addEventListener("click",a._handleIndicatorClickBound)}));var l=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=l.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var a=this;window.ontouchstart!==void 0&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each(function(l,d){l.removeEventListener("click",a._handleIndicatorClickBound)}),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(a){a.type==="mousedown"&&f(a.target).is("img")&&a.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(a),this.referenceY=this._ypos(a),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(a){var l=void 0,d=void 0,p=void 0;if(this.pressed)if(l=this._xpos(a),d=this._ypos(a),p=this.reference-l,Math.abs(this.referenceY-d)<30&&!this.verticalDragged)(2<p||p<-2)&&(this.dragged=!0,this.reference=l,this._scroll(this.offset+p));else{if(this.dragged)return a.preventDefault(),a.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return a.preventDefault(),a.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(a){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(10<this.velocity||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(a.preventDefault(),a.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(a){if(this.dragged)return a.preventDefault(),a.stopPropagation(),!1;if(!this.options.fullWidth){var l=f(a.target).closest(".carousel-item").index();this._wrap(this.center)-l!==0&&(a.preventDefault(),a.stopPropagation()),this._cycleTo(l)}}},{key:"_handleIndicatorClick",value:function(a){a.stopPropagation();var l=f(a.target).closest(".indicator-item");l.length&&this._cycleTo(l.index())}},{key:"_handleResize",value:function(a){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(a){var l=this,d=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),p=d.find("img").first();if(p.length)if(p[0].complete){var E=p.height();if(0<E)this.$el.css("height",E+"px");else{var A=p[0].naturalWidth,P=p[0].naturalHeight,j=this.$el.width()/A*P;this.$el.css("height",j+"px")}}else p.one("load",function(V,Q){l.$el.css("height",V.offsetHeight+"px")});else if(!a){var F=d.height();this.$el.css("height",F+"px")}}},{key:"_xpos",value:function(a){return a.targetTouches&&1<=a.targetTouches.length?a.targetTouches[0].clientX:a.clientX}},{key:"_ypos",value:function(a){return a.targetTouches&&1<=a.targetTouches.length?a.targetTouches[0].clientY:a.clientY}},{key:"_wrap",value:function(a){return a>=this.count?a%this.count:a<0?this._wrap(this.count+a%this.count):a}},{key:"_track",value:function(){var a,l,d,p;l=(a=Date.now())-this.timestamp,this.timestamp=a,d=this.offset-this.frame,this.frame=this.offset,p=1e3*d/(1+l),this.velocity=.8*p+.2*this.velocity}},{key:"_autoScroll",value:function(){var a=void 0,l=void 0;this.amplitude&&(a=Date.now()-this.timestamp,2<(l=this.amplitude*Math.exp(-a/this.options.duration))||l<-2?(this._scroll(this.target-l),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(a){var l=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),this.scrollingTimeout!=null&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout(function(){l.$el.removeClass("scrolling")},this.options.duration);var d,p,E,A,P=void 0,j=void 0,F=void 0,V=void 0,Q=void 0,ie=void 0,oe=this.center,J=1/this.options.numVisible;if(this.offset=typeof a=="number"?a:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),A=-(E=(p=this.offset-this.center*this.dim)<0?1:-1)*p*2/this.dim,d=this.count>>1,this.options.fullWidth?(F="translateX(0)",ie=1):(F="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",F+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",ie=1-J*A),this.showIndicators){var ee=this.center%this.count,le=this.$indicators.find(".indicator-item.active");le.index()!==ee&&(le.removeClass("active"),this.$indicators.find(".indicator-item").eq(ee)[0].classList.add("active"))}if(!this.noWrap||0<=this.center&&this.center<this.count){j=this.images[this._wrap(this.center)],f(j).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),j.classList.add("active"));var ue=F+" translateX("+-p/2+"px) translateX("+E*this.options.shift*A*P+"px) translateZ("+this.options.dist*A+"px)";this._updateItemStyle(j,ie,0,ue)}for(P=1;P<=d;++P){if(this.options.fullWidth?(V=this.options.dist,Q=P===d&&p<0?1-A:1):(V=this.options.dist*(2*P+A*E),Q=1-J*(2*P+A*E)),!this.noWrap||this.center+P<this.count){j=this.images[this._wrap(this.center+P)];var ae=F+" translateX("+(this.options.shift+(this.dim*P-p)/2)+"px) translateZ("+V+"px)";this._updateItemStyle(j,Q,-P,ae)}if(this.options.fullWidth?(V=this.options.dist,Q=P===d&&0<p?1-A:1):(V=this.options.dist*(2*P-A*E),Q=1-J*(2*P-A*E)),!this.noWrap||0<=this.center-P){j=this.images[this._wrap(this.center-P)];var ve=F+" translateX("+(-this.options.shift+(-this.dim*P-p)/2)+"px) translateZ("+V+"px)";this._updateItemStyle(j,Q,-P,ve)}}if(!this.noWrap||0<=this.center&&this.center<this.count){j=this.images[this._wrap(this.center)];var he=F+" translateX("+-p/2+"px) translateX("+E*this.options.shift*A+"px) translateZ("+this.options.dist*A+"px)";this._updateItemStyle(j,ie,0,he)}var Se=this.$el.find(".carousel-item").eq(this._wrap(this.center));oe!==this.center&&typeof this.options.onCycleTo=="function"&&this.options.onCycleTo.call(this,Se[0],this.dragged),typeof this.oneTimeCallback=="function"&&(this.oneTimeCallback.call(this,Se[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(a,l,d,p){a.style[this.xform]=p,a.style.zIndex=d,a.style.opacity=l,a.style.visibility="visible"}},{key:"_cycleTo",value:function(a,l){var d=this.center%this.count-a;this.noWrap||(d<0?Math.abs(d+this.count)<Math.abs(d)&&(d+=this.count):0<d&&Math.abs(d-this.count)<d&&(d-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),d<0?this.target+=this.dim*Math.abs(d):0<d&&(this.target-=this.dim*d),typeof l=="function"&&(this.oneTimeCallback=l),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(a){(a===void 0||isNaN(a))&&(a=1);var l=this.center+a;if(l>=this.count||l<0){if(this.noWrap)return;l=this._wrap(l)}this._cycleTo(l)}},{key:"prev",value:function(a){(a===void 0||isNaN(a))&&(a=1);var l=this.center-a;if(l>=this.count||l<0){if(this.noWrap)return;l=this._wrap(l)}this._cycleTo(l)}},{key:"set",value:function(a,l){if((a===void 0||isNaN(a))&&(a=0),a>this.count||a<0){if(this.noWrap)return;a=this._wrap(a)}this._cycleTo(a,l)}}],[{key:"init",value:function(a,l){return n(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,a,l)}},{key:"getInstance",value:function(a){return(a.jquery?a[0]:a).M_Carousel}},{key:"defaults",get:function(){return _}}]),m}();M.Carousel=k,M.jQueryLoaded&&M.initializeJqueryWrapper(k,"carousel","M_Carousel")}(cash),function(f){var _={onOpen:void 0,onClose:void 0},k=function(T){function m(a,l){o(this,m);var d=s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,a,l));return(d.el.M_TapTarget=d).options=f.extend({},m.defaults,l),d.isOpen=!1,d.$origin=f("#"+d.$el.attr("data-target")),d._setup(),d._calculatePositioning(),d._setupEventHandlers(),d}return r(m,c),i(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var a=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=a.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(a){this.open()}},{key:"_handleOriginClick",value:function(a){this.close()}},{key:"_handleResize",value:function(a){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(a){f(a.target).closest(".tap-target-wrapper").length||(this.close(),a.preventDefault(),a.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=f(this.wrapper).find(".tap-target-wave")[0],this.originEl=f(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],f(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(f(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var a=this.$origin.css("position")==="fixed";if(!a)for(var l=this.$origin.parents(),d=0;d<l.length&&!(a=f(l[d]).css("position")=="fixed");d++);var p=this.$origin.outerWidth(),E=this.$origin.outerHeight(),A=a?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,P=a?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,j=window.innerWidth,F=window.innerHeight,V=j/2,Q=F/2,ie=P<=V,oe=V<P,J=A<=Q,ee=Q<A,le=.25*j<=P&&P<=.75*j,ue=this.$el.outerWidth(),ae=this.$el.outerHeight(),ve=A+E/2-ae/2,he=P+p/2-ue/2,Se=a?"fixed":"absolute",He=le?ue:ue/2+p,ke=ae/2,z=J?ae/2:0,K=ie&&!le?ue/2-p:0,Z=p,se=ee?"bottom":"top",pe=2*p,S=pe,R=ae/2-S/2,B=ue/2-pe/2,w={};w.top=J?ve+"px":"",w.right=oe?j-he-ue+"px":"",w.bottom=ee?F-ve-ae+"px":"",w.left=ie?he+"px":"",w.position=Se,f(this.wrapper).css(w),f(this.contentEl).css({width:He+"px",height:ke+"px",top:z+"px",right:"0px",bottom:"0px",left:K+"px",padding:Z+"px",verticalAlign:se}),f(this.waveEl).css({top:R+"px",left:B+"px",width:pe+"px",height:S+"px"})}},{key:"open",value:function(){this.isOpen||(typeof this.options.onOpen=="function"&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&(typeof this.options.onClose=="function"&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(a,l){return n(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,a,l)}},{key:"getInstance",value:function(a){return(a.jquery?a[0]:a).M_TapTarget}},{key:"defaults",get:function(){return _}}]),m}();M.TapTarget=k,M.jQueryLoaded&&M.initializeJqueryWrapper(k,"tapTarget","M_TapTarget")}(cash),function(f){var _={classes:"",dropdownOptions:{}},k=function(T){function m(a,l){o(this,m);var d=s(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,m,a,l));return d.$el.hasClass("browser-default")?s(d):((d.el.M_FormSelect=d).options=f.extend({},m.defaults,l),d.isMultiple=d.$el.prop("multiple"),d.el.tabIndex=-1,d._keysSelected={},d._valueDict={},d._setupDropdown(),d._setupEventHandlers(),d)}return r(m,c),i(m,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var a=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),f(this.dropdownOptions).find("li:not(.optgroup)").each(function(l){l.addEventListener("click",a._handleOptionClickBound)}),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var a=this;f(this.dropdownOptions).find("li:not(.optgroup)").each(function(l){l.removeEventListener("click",a._handleOptionClickBound)}),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(a){this._setValueToInput()}},{key:"_handleOptionClick",value:function(a){a.preventDefault();var l=f(a.target).closest("li")[0],d=l.id;if(!f(l).hasClass("disabled")&&!f(l).hasClass("optgroup")&&d.length){var p=!0;if(this.isMultiple){var E=f(this.dropdownOptions).find("li.disabled.selected");E.length&&(E.removeClass("selected"),E.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(E[0].id)),p=this._toggleEntryFromArray(d)}else f(this.dropdownOptions).find("li").removeClass("selected"),f(l).toggleClass("selected",p);f(this._valueDict[d].el).prop("selected")!==p&&(f(this._valueDict[d].el).prop("selected",p),this.$el.trigger("change"))}a.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var a=this;this.wrapper=document.createElement("div"),f(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(f(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),f(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each(function(p){if(f(p).is("option")){var E=void 0;E=a.isMultiple?a._appendOptionWithIcon(a.$el,p,"multiple"):a._appendOptionWithIcon(a.$el,p),a._addOptionToValueDict(p,E)}else if(f(p).is("optgroup")){var A=f(p).children("option");f(a.dropdownOptions).append(f('<li class="optgroup"><span>'+p.getAttribute("label")+"</span></li>")[0]),A.each(function(P){var j=a._appendOptionWithIcon(a.$el,P,"optgroup-option");a._addOptionToValueDict(P,j)})}}),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),f(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&f(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var l=f('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(l[0]),!this.el.disabled){var d=f.extend({},this.options.dropdownOptions);d.onOpenEnd=function(p){var E=f(a.dropdownOptions).find(".selected").first();if(a.dropdown.isScrollable&&E.length){var A=E[0].getBoundingClientRect().top-a.dropdownOptions.getBoundingClientRect().top;A-=a.dropdownOptions.clientHeight/2,a.dropdownOptions.scrollTop=A}},this.isMultiple&&(d.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,d)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(a,l){var d=Object.keys(this._valueDict).length,p=this.dropdownOptions.id+d,E={};l.id=p,E.el=a,E.optionEl=l,this._valueDict[p]=E}},{key:"_removeDropdown",value:function(){f(this.wrapper).find(".caret").remove(),f(this.input).remove(),f(this.dropdownOptions).remove(),f(this.wrapper).before(this.$el),f(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(a,l,d){var p=l.disabled?"disabled ":"",E=d==="optgroup-option"?"optgroup-option ":"",A=this.isMultiple?'<label><input type="checkbox"'+p+'"/><span>'+l.innerHTML+"</span></label>":l.innerHTML,P=f("<li></li>"),j=f("<span></span>");j.html(A),P.addClass(p+" "+E),P.append(j);var F=l.getAttribute("data-icon");if(F){var V=f('<img alt="" src="'+F+'">');P.prepend(V)}return f(this.dropdownOptions).append(P[0]),P[0]}},{key:"_toggleEntryFromArray",value:function(a){var l=!this._keysSelected.hasOwnProperty(a),d=f(this._valueDict[a].optionEl);return l?this._keysSelected[a]=!0:delete this._keysSelected[a],d.toggleClass("selected",l),d.find('input[type="checkbox"]').prop("checked",l),d.prop("selected",l),l}},{key:"_setValueToInput",value:function(){var a=[];if(this.$el.find("option").each(function(d){if(f(d).prop("selected")){var p=f(d).text();a.push(p)}}),!a.length){var l=this.$el.find("option:disabled").eq(0);l.length&&l[0].value===""&&a.push(l.text())}this.input.value=a.join(", ")}},{key:"_setSelectedStates",value:function(){for(var a in this._keysSelected={},this._valueDict){var l=this._valueDict[a],d=f(l.el).prop("selected");f(l.optionEl).find('input[type="checkbox"]').prop("checked",d),d?(this._activateOption(f(this.dropdownOptions),f(l.optionEl)),this._keysSelected[a]=!0):f(l.optionEl).removeClass("selected")}}},{key:"_activateOption",value:function(a,l){l&&(this.isMultiple||a.find("li.selected").removeClass("selected"),f(l).addClass("selected"))}},{key:"getSelectedValues",value:function(){var a=[];for(var l in this._keysSelected)a.push(this._valueDict[l].el.value);return a}}],[{key:"init",value:function(a,l){return n(m.__proto__||Object.getPrototypeOf(m),"init",this).call(this,this,a,l)}},{key:"getInstance",value:function(a){return(a.jquery?a[0]:a).M_FormSelect}},{key:"defaults",get:function(){return _}}]),m}();M.FormSelect=k,M.jQueryLoaded&&M.initializeJqueryWrapper(k,"formSelect","M_FormSelect")}(cash),function(f,_){var k={},T=function(m){function a(l,d){o(this,a);var p=s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,a,l,d));return(p.el.M_Range=p).options=f.extend({},a.defaults,d),p._mousedown=!1,p._setupThumb(),p._setupEventHandlers(),p}return r(a,c),i(a,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){f(this.value).html(this.$el.val()),f(this.thumb).hasClass("active")||this._showRangeBubble();var l=this._calcRangeOffset();f(this.thumb).addClass("active").css("left",l+"px")}},{key:"_handleRangeMousedownTouchstart",value:function(l){if(f(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),f(this.thumb).hasClass("active")||this._showRangeBubble(),l.type!=="input"){var d=this._calcRangeOffset();f(this.thumb).addClass("active").css("left",d+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){f(this.thumb).hasClass("active")||this._showRangeBubble();var l=this._calcRangeOffset();f(this.thumb).addClass("active").css("left",l+"px"),f(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){var l=7+parseInt(this.$el.css("padding-left"))+"px";f(this.thumb).hasClass("active")&&(_.remove(this.thumb),_({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:l,duration:100})),f(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),f(this.thumb).addClass("thumb"),f(this.value).addClass("value"),f(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){f(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var l=-7+parseInt(f(this.thumb).parent().css("padding-left"))+"px";_.remove(this.thumb),_({targets:this.thumb,height:30,width:30,top:-30,marginLeft:l,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var l=this.$el.width()-15,d=parseFloat(this.$el.attr("max"))||100,p=parseFloat(this.$el.attr("min"))||0;return(parseFloat(this.$el.val())-p)/(d-p)*l}}],[{key:"init",value:function(l,d){return n(a.__proto__||Object.getPrototypeOf(a),"init",this).call(this,this,l,d)}},{key:"getInstance",value:function(l){return(l.jquery?l[0]:l).M_Range}},{key:"defaults",get:function(){return k}}]),a}();M.Range=T,M.jQueryLoaded&&M.initializeJqueryWrapper(T,"range","M_Range"),T.init(f("input[type=range]"))}(cash,M.anime)})(Ka,Ka.exports);var Nm=Ka.exports;const $m=Lm(Nm);function Bl(t,e){const n=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Be={},Wi=[],Bt=()=>{},Bm=()=>!1,Fm=/^on[^a-z]/,Ho=t=>Fm.test(t),Fl=t=>t.startsWith("onUpdate:"),Ge=Object.assign,Hl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Hm=Object.prototype.hasOwnProperty,Ee=(t,e)=>Hm.call(t,e),ce=Array.isArray,Ui=t=>Cr(t)==="[object Map]",hs=t=>Cr(t)==="[object Set]",yu=t=>Cr(t)==="[object Date]",ge=t=>typeof t=="function",Ke=t=>typeof t=="string",Xs=t=>typeof t=="symbol",De=t=>t!==null&&typeof t=="object",$h=t=>De(t)&&ge(t.then)&&ge(t.catch),Bh=Object.prototype.toString,Cr=t=>Bh.call(t),Wm=t=>Cr(t).slice(8,-1),Fh=t=>Cr(t)==="[object Object]",Wl=t=>Ke(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Yr=Bl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Um=/-(\w)/g,Jt=Wo(t=>t.replace(Um,(e,n)=>n?n.toUpperCase():"")),jm=/\B([A-Z])/g,ki=Wo(t=>t.replace(jm,"-$1").toLowerCase()),Uo=Wo(t=>t.charAt(0).toUpperCase()+t.slice(1)),_a=Wo(t=>t?`on${Uo(t)}`:""),Js=(t,e)=>!Object.is(t,e),Qr=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},ro=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},oo=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Vm=t=>{const e=Ke(t)?Number(t):NaN;return isNaN(e)?t:e};let bu;const Ga=()=>bu||(bu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jo(t){if(ce(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Ke(i)?Gm(i):jo(i);if(s)for(const r in s)e[r]=s[r]}return e}else{if(Ke(t))return t;if(De(t))return t}}const qm=/;(?![^(]*\))/g,zm=/:([^]+)/,Km=/\/\*[^]*?\*\//g;function Gm(t){const e={};return t.replace(Km,"").split(qm).forEach(n=>{if(n){const i=n.split(zm);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function gi(t){let e="";if(Ke(t))e=t;else if(ce(t))for(let n=0;n<t.length;n++){const i=gi(t[n]);i&&(e+=i+" ")}else if(De(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Ym="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qm=Bl(Ym);function Hh(t){return!!t||t===""}function Xm(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=mi(t[i],e[i]);return n}function mi(t,e){if(t===e)return!0;let n=yu(t),i=yu(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=Xs(t),i=Xs(e),n||i)return t===e;if(n=ce(t),i=ce(e),n||i)return n&&i?Xm(t,e):!1;if(n=De(t),i=De(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,r=Object.keys(e).length;if(s!==r)return!1;for(const o in t){const c=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(c&&!u||!c&&u||!mi(t[o],e[o]))return!1}}return String(t)===String(e)}function Ul(t,e){return t.findIndex(n=>mi(n,e))}const An=t=>Ke(t)?t:t==null?"":ce(t)||De(t)&&(t.toString===Bh||!ge(t.toString))?JSON.stringify(t,Wh,2):String(t),Wh=(t,e)=>e&&e.__v_isRef?Wh(t,e.value):Ui(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:hs(e)?{[`Set(${e.size})`]:[...e.values()]}:De(e)&&!ce(e)&&!Fh(e)?String(e):e;let Mt;class Uh{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Mt,!e&&Mt&&(this.index=(Mt.scopes||(Mt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Mt;try{return Mt=this,e()}finally{Mt=n}}}on(){Mt=this}off(){Mt=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Jm(t){return new Uh(t)}function Zm(t,e=Mt){e&&e.active&&e.effects.push(t)}function ev(){return Mt}const jl=t=>{const e=new Set(t);return e.w=0,e.n=0,e},jh=t=>(t.w&Wn)>0,Vh=t=>(t.n&Wn)>0,tv=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Wn},nv=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const s=e[i];jh(s)&&!Vh(s)?s.delete(t):e[n++]=s,s.w&=~Wn,s.n&=~Wn}e.length=n}},ao=new WeakMap;let Ds=0,Wn=1;const Ya=30;let Dt;const ui=Symbol(""),Qa=Symbol("");class Vl{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Zm(this,i)}run(){if(!this.active)return this.fn();let e=Dt,n=Mn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Dt,Dt=this,Mn=!0,Wn=1<<++Ds,Ds<=Ya?tv(this):wu(this),this.fn()}finally{Ds<=Ya&&nv(this),Wn=1<<--Ds,Dt=this.parent,Mn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Dt===this?this.deferStop=!0:this.active&&(wu(this),this.onStop&&this.onStop(),this.active=!1)}}function wu(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Mn=!0;const qh=[];function fs(){qh.push(Mn),Mn=!1}function ps(){const t=qh.pop();Mn=t===void 0?!0:t}function mt(t,e,n){if(Mn&&Dt){let i=ao.get(t);i||ao.set(t,i=new Map);let s=i.get(n);s||i.set(n,s=jl()),zh(s)}}function zh(t,e){let n=!1;Ds<=Ya?Vh(t)||(t.n|=Wn,n=!jh(t)):n=!t.has(Dt),n&&(t.add(Dt),Dt.deps.push(t))}function hn(t,e,n,i,s,r){const o=ao.get(t);if(!o)return;let c=[];if(e==="clear")c=[...o.values()];else if(n==="length"&&ce(t)){const u=Number(i);o.forEach((h,g)=>{(g==="length"||g>=u)&&c.push(h)})}else switch(n!==void 0&&c.push(o.get(n)),e){case"add":ce(t)?Wl(n)&&c.push(o.get("length")):(c.push(o.get(ui)),Ui(t)&&c.push(o.get(Qa)));break;case"delete":ce(t)||(c.push(o.get(ui)),Ui(t)&&c.push(o.get(Qa)));break;case"set":Ui(t)&&c.push(o.get(ui));break}if(c.length===1)c[0]&&Xa(c[0]);else{const u=[];for(const h of c)h&&u.push(...h);Xa(jl(u))}}function Xa(t,e){const n=ce(t)?t:[...t];for(const i of n)i.computed&&Eu(i);for(const i of n)i.computed||Eu(i)}function Eu(t,e){(t!==Dt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function iv(t,e){var n;return(n=ao.get(t))==null?void 0:n.get(e)}const sv=Bl("__proto__,__v_isRef,__isVue"),Kh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Xs)),rv=ql(),ov=ql(!1,!0),av=ql(!0),Cu=lv();function lv(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Ce(this);for(let r=0,o=this.length;r<o;r++)mt(i,"get",r+"");const s=i[e](...n);return s===-1||s===!1?i[e](...n.map(Ce)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){fs();const i=Ce(this)[e].apply(this,n);return ps(),i}}),t}function cv(t){const e=Ce(this);return mt(e,"has",t),e.hasOwnProperty(t)}function ql(t=!1,e=!1){return function(i,s,r){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&r===(t?e?Iv:Jh:e?Xh:Qh).get(i))return i;const o=ce(i);if(!t){if(o&&Ee(Cu,s))return Reflect.get(Cu,s,r);if(s==="hasOwnProperty")return cv}const c=Reflect.get(i,s,r);return(Xs(s)?Kh.has(s):sv(s))||(t||mt(i,"get",s),e)?c:tt(c)?o&&Wl(s)?c:c.value:De(c)?t?Zh(c):Ii(c):c}}const uv=Gh(),dv=Gh(!0);function Gh(t=!1){return function(n,i,s,r){let o=n[i];if(Xi(o)&&tt(o)&&!tt(s))return!1;if(!t&&(!lo(s)&&!Xi(s)&&(o=Ce(o),s=Ce(s)),!ce(n)&&tt(o)&&!tt(s)))return o.value=s,!0;const c=ce(n)&&Wl(i)?Number(i)<n.length:Ee(n,i),u=Reflect.set(n,i,s,r);return n===Ce(r)&&(c?Js(s,o)&&hn(n,"set",i,s):hn(n,"add",i,s)),u}}function hv(t,e){const n=Ee(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&hn(t,"delete",e,void 0),i}function fv(t,e){const n=Reflect.has(t,e);return(!Xs(e)||!Kh.has(e))&&mt(t,"has",e),n}function pv(t){return mt(t,"iterate",ce(t)?"length":ui),Reflect.ownKeys(t)}const Yh={get:rv,set:uv,deleteProperty:hv,has:fv,ownKeys:pv},gv={get:av,set(t,e){return!0},deleteProperty(t,e){return!0}},mv=Ge({},Yh,{get:ov,set:dv}),zl=t=>t,Vo=t=>Reflect.getPrototypeOf(t);function Br(t,e,n=!1,i=!1){t=t.__v_raw;const s=Ce(t),r=Ce(e);n||(e!==r&&mt(s,"get",e),mt(s,"get",r));const{has:o}=Vo(s),c=i?zl:n?Yl:Zs;if(o.call(s,e))return c(t.get(e));if(o.call(s,r))return c(t.get(r));t!==s&&t.get(e)}function Fr(t,e=!1){const n=this.__v_raw,i=Ce(n),s=Ce(t);return e||(t!==s&&mt(i,"has",t),mt(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Hr(t,e=!1){return t=t.__v_raw,!e&&mt(Ce(t),"iterate",ui),Reflect.get(t,"size",t)}function ku(t){t=Ce(t);const e=Ce(this);return Vo(e).has.call(e,t)||(e.add(t),hn(e,"add",t,t)),this}function Iu(t,e){e=Ce(e);const n=Ce(this),{has:i,get:s}=Vo(n);let r=i.call(n,t);r||(t=Ce(t),r=i.call(n,t));const o=s.call(n,t);return n.set(t,e),r?Js(e,o)&&hn(n,"set",t,e):hn(n,"add",t,e),this}function Tu(t){const e=Ce(this),{has:n,get:i}=Vo(e);let s=n.call(e,t);s||(t=Ce(t),s=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return s&&hn(e,"delete",t,void 0),r}function Su(){const t=Ce(this),e=t.size!==0,n=t.clear();return e&&hn(t,"clear",void 0,void 0),n}function Wr(t,e){return function(i,s){const r=this,o=r.__v_raw,c=Ce(o),u=e?zl:t?Yl:Zs;return!t&&mt(c,"iterate",ui),o.forEach((h,g)=>i.call(s,u(h),u(g),r))}}function Ur(t,e,n){return function(...i){const s=this.__v_raw,r=Ce(s),o=Ui(r),c=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,h=s[t](...i),g=n?zl:e?Yl:Zs;return!e&&mt(r,"iterate",u?Qa:ui),{next(){const{value:v,done:b}=h.next();return b?{value:v,done:b}:{value:c?[g(v[0]),g(v[1])]:g(v),done:b}},[Symbol.iterator](){return this}}}}function yn(t){return function(...e){return t==="delete"?!1:this}}function vv(){const t={get(r){return Br(this,r)},get size(){return Hr(this)},has:Fr,add:ku,set:Iu,delete:Tu,clear:Su,forEach:Wr(!1,!1)},e={get(r){return Br(this,r,!1,!0)},get size(){return Hr(this)},has:Fr,add:ku,set:Iu,delete:Tu,clear:Su,forEach:Wr(!1,!0)},n={get(r){return Br(this,r,!0)},get size(){return Hr(this,!0)},has(r){return Fr.call(this,r,!0)},add:yn("add"),set:yn("set"),delete:yn("delete"),clear:yn("clear"),forEach:Wr(!0,!1)},i={get(r){return Br(this,r,!0,!0)},get size(){return Hr(this,!0)},has(r){return Fr.call(this,r,!0)},add:yn("add"),set:yn("set"),delete:yn("delete"),clear:yn("clear"),forEach:Wr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Ur(r,!1,!1),n[r]=Ur(r,!0,!1),e[r]=Ur(r,!1,!0),i[r]=Ur(r,!0,!0)}),[t,n,e,i]}const[_v,yv,bv,wv]=vv();function Kl(t,e){const n=e?t?wv:bv:t?yv:_v;return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Ee(n,s)&&s in i?n:i,s,r)}const Ev={get:Kl(!1,!1)},Cv={get:Kl(!1,!0)},kv={get:Kl(!0,!1)},Qh=new WeakMap,Xh=new WeakMap,Jh=new WeakMap,Iv=new WeakMap;function Tv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sv(t){return t.__v_skip||!Object.isExtensible(t)?0:Tv(Wm(t))}function Ii(t){return Xi(t)?t:Gl(t,!1,Yh,Ev,Qh)}function Ov(t){return Gl(t,!1,mv,Cv,Xh)}function Zh(t){return Gl(t,!0,gv,kv,Jh)}function Gl(t,e,n,i,s){if(!De(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const o=Sv(t);if(o===0)return t;const c=new Proxy(t,o===2?i:n);return s.set(t,c),c}function ji(t){return Xi(t)?ji(t.__v_raw):!!(t&&t.__v_isReactive)}function Xi(t){return!!(t&&t.__v_isReadonly)}function lo(t){return!!(t&&t.__v_isShallow)}function ef(t){return ji(t)||Xi(t)}function Ce(t){const e=t&&t.__v_raw;return e?Ce(e):t}function tf(t){return ro(t,"__v_skip",!0),t}const Zs=t=>De(t)?Ii(t):t,Yl=t=>De(t)?Zh(t):t;function nf(t){Mn&&Dt&&(t=Ce(t),zh(t.dep||(t.dep=jl())))}function sf(t,e){t=Ce(t);const n=t.dep;n&&Xa(n)}function tt(t){return!!(t&&t.__v_isRef===!0)}function yt(t){return rf(t,!1)}function Av(t){return rf(t,!0)}function rf(t,e){return tt(t)?t:new Rv(t,e)}class Rv{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ce(e),this._value=n?e:Zs(e)}get value(){return nf(this),this._value}set value(e){const n=this.__v_isShallow||lo(e)||Xi(e);e=n?e:Ce(e),Js(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Zs(e),sf(this))}}function pt(t){return tt(t)?t.value:t}function t1(t){return ge(t)?t():pt(t)}const Mv={get:(t,e,n)=>pt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return tt(s)&&!tt(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function of(t){return ji(t)?t:new Proxy(t,Mv)}function af(t){const e=ce(t)?new Array(t.length):{};for(const n in t)e[n]=Pv(t,n);return e}class xv{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return iv(Ce(this._object),this._key)}}function Pv(t,e,n){const i=t[e];return tt(i)?i:new xv(t,e,n)}class Dv{constructor(e,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Vl(e,()=>{this._dirty||(this._dirty=!0,sf(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const e=Ce(this);return nf(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Lv(t,e,n=!1){let i,s;const r=ge(t);return r?(i=t,s=Bt):(i=t.get,s=t.set),new Dv(i,s,r||!s,n)}function xn(t,e,n,i){let s;try{s=i?t(...i):t()}catch(r){qo(r,e,n)}return s}function wt(t,e,n,i){if(ge(t)){const r=xn(t,e,n,i);return r&&$h(r)&&r.catch(o=>{qo(o,e,n)}),r}const s=[];for(let r=0;r<t.length;r++)s.push(wt(t[r],e,n,i));return s}function qo(t,e,n,i=!0){const s=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,c=n;for(;r;){const h=r.ec;if(h){for(let g=0;g<h.length;g++)if(h[g](t,o,c)===!1)return}r=r.parent}const u=e.appContext.config.errorHandler;if(u){xn(u,null,10,[t,o,c]);return}}Nv(t,n,s,i)}function Nv(t,e,n,i=!0){console.error(t)}let er=!1,Ja=!1;const at=[];let Kt=0;const Vi=[];let on=null,ri=0;const lf=Promise.resolve();let Ql=null;function Xl(t){const e=Ql||lf;return t?e.then(this?t.bind(this):t):e}function $v(t){let e=Kt+1,n=at.length;for(;e<n;){const i=e+n>>>1;tr(at[i])<t?e=i+1:n=i}return e}function Jl(t){(!at.length||!at.includes(t,er&&t.allowRecurse?Kt+1:Kt))&&(t.id==null?at.push(t):at.splice($v(t.id),0,t),cf())}function cf(){!er&&!Ja&&(Ja=!0,Ql=lf.then(df))}function Bv(t){const e=at.indexOf(t);e>Kt&&at.splice(e,1)}function Fv(t){ce(t)?Vi.push(...t):(!on||!on.includes(t,t.allowRecurse?ri+1:ri))&&Vi.push(t),cf()}function Ou(t,e=er?Kt+1:0){for(;e<at.length;e++){const n=at[e];n&&n.pre&&(at.splice(e,1),e--,n())}}function uf(t){if(Vi.length){const e=[...new Set(Vi)];if(Vi.length=0,on){on.push(...e);return}for(on=e,on.sort((n,i)=>tr(n)-tr(i)),ri=0;ri<on.length;ri++)on[ri]();on=null,ri=0}}const tr=t=>t.id==null?1/0:t.id,Hv=(t,e)=>{const n=tr(t)-tr(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function df(t){Ja=!1,er=!0,at.sort(Hv);const e=Bt;try{for(Kt=0;Kt<at.length;Kt++){const n=at[Kt];n&&n.active!==!1&&xn(n,null,14)}}finally{Kt=0,at.length=0,uf(),er=!1,Ql=null,(at.length||Vi.length)&&df()}}function Wv(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Be;let s=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in i){const g=`${o==="modelValue"?"model":o}Modifiers`,{number:v,trim:b}=i[g]||Be;b&&(s=n.map(I=>Ke(I)?I.trim():I)),v&&(s=n.map(oo))}let c,u=i[c=_a(e)]||i[c=_a(Jt(e))];!u&&r&&(u=i[c=_a(ki(e))]),u&&wt(u,t,6,s);const h=i[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,wt(h,t,6,s)}}function hf(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let o={},c=!1;if(!ge(t)){const u=h=>{const g=hf(h,e,!0);g&&(c=!0,Ge(o,g))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!r&&!c?(De(t)&&i.set(t,null),null):(ce(r)?r.forEach(u=>o[u]=null):Ge(o,r),De(t)&&i.set(t,o),o)}function zo(t,e){return!t||!Ho(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ee(t,e[0].toLowerCase()+e.slice(1))||Ee(t,ki(e))||Ee(t,e))}let st=null,Ko=null;function co(t){const e=st;return st=t,Ko=t&&t.type.__scopeId||null,e}function n1(t){Ko=t}function i1(){Ko=null}function Un(t,e=st,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&Uu(-1);const r=co(e);let o;try{o=t(...s)}finally{co(r),i._d&&Uu(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function ya(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:c,attrs:u,emit:h,render:g,renderCache:v,data:b,setupState:I,ctx:H,inheritAttrs:f}=t;let _,k;const T=co(t);try{if(n.shapeFlag&4){const a=s||i;_=zt(g.call(a,a,v,r,I,b,H)),k=u}else{const a=e;_=zt(a.length>1?a(r,{attrs:u,slots:c,emit:h}):a(r,null)),k=e.props?u:Uv(u)}}catch(a){Ws.length=0,qo(a,t,1),_=Fe(kt)}let m=_;if(k&&f!==!1){const a=Object.keys(k),{shapeFlag:l}=m;a.length&&l&7&&(o&&a.some(Fl)&&(k=jv(k,o)),m=jn(m,k))}return n.dirs&&(m=jn(m),m.dirs=m.dirs?m.dirs.concat(n.dirs):n.dirs),n.transition&&(m.transition=n.transition),_=m,co(T),_}const Uv=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ho(n))&&((e||(e={}))[n]=t[n]);return e},jv=(t,e)=>{const n={};for(const i in t)(!Fl(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function Vv(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:c,patchFlag:u}=e,h=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return i?Au(i,o,h):!!o;if(u&8){const g=e.dynamicProps;for(let v=0;v<g.length;v++){const b=g[v];if(o[b]!==i[b]&&!zo(h,b))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:i===o?!1:i?o?Au(i,o,h):!0:!!o;return!1}function Au(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!zo(n,r))return!0}return!1}function qv({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const zv=t=>t.__isSuspense;function Kv(t,e){e&&e.pendingBranch?ce(t)?e.effects.push(...t):e.effects.push(t):Fv(t)}function Ru(t,e){return Go(t,null,e)}function Gv(t,e){return Go(t,null,{flush:"post"})}const jr={};function Et(t,e,n){return Go(t,e,n)}function Go(t,e,{immediate:n,deep:i,flush:s,onTrack:r,onTrigger:o}=Be){var c;const u=ev()===((c=et)==null?void 0:c.scope)?et:null;let h,g=!1,v=!1;if(tt(t)?(h=()=>t.value,g=lo(t)):ji(t)?(h=()=>t,i=!0):ce(t)?(v=!0,g=t.some(a=>ji(a)||lo(a)),h=()=>t.map(a=>{if(tt(a))return a.value;if(ji(a))return li(a);if(ge(a))return xn(a,u,2)})):ge(t)?e?h=()=>xn(t,u,2):h=()=>{if(!(u&&u.isUnmounted))return b&&b(),wt(t,u,3,[I])}:h=Bt,e&&i){const a=h;h=()=>li(a())}let b,I=a=>{b=T.onStop=()=>{xn(a,u,4)}},H;if(ir)if(I=Bt,e?n&&wt(e,u,3,[h(),v?[]:void 0,I]):h(),s==="sync"){const a=q_();H=a.__watcherHandles||(a.__watcherHandles=[])}else return Bt;let f=v?new Array(t.length).fill(jr):jr;const _=()=>{if(T.active)if(e){const a=T.run();(i||g||(v?a.some((l,d)=>Js(l,f[d])):Js(a,f)))&&(b&&b(),wt(e,u,3,[a,f===jr?void 0:v&&f[0]===jr?[]:f,I]),f=a)}else T.run()};_.allowRecurse=!!e;let k;s==="sync"?k=_:s==="post"?k=()=>ht(_,u&&u.suspense):(_.pre=!0,u&&(_.id=u.uid),k=()=>Jl(_));const T=new Vl(h,k);e?n?_():f=T.run():s==="post"?ht(T.run.bind(T),u&&u.suspense):T.run();const m=()=>{T.stop(),u&&u.scope&&Hl(u.scope.effects,T)};return H&&H.push(m),m}function Yv(t,e,n){const i=this.proxy,s=Ke(t)?t.includes(".")?ff(i,t):()=>i[t]:t.bind(i,i);let r;ge(e)?r=e:(r=e.handler,n=e);const o=et;Ji(this);const c=Go(s,r.bind(i),n);return o?Ji(o):hi(),c}function ff(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function li(t,e){if(!De(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),tt(t))li(t.value,e);else if(ce(t))for(let n=0;n<t.length;n++)li(t[n],e);else if(hs(t)||Ui(t))t.forEach(n=>{li(n,e)});else if(Fh(t))for(const n in t)li(t[n],e);return t}function Qv(t,e){const n=st;if(n===null)return t;const i=Zo(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,c,u,h=Be]=e[r];o&&(ge(o)&&(o={mounted:o,updated:o}),o.deep&&li(c),s.push({dir:o,instance:i,value:c,oldValue:void 0,arg:u,modifiers:h}))}return t}function Zn(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const c=s[o];r&&(c.oldValue=r[o].value);let u=c.dir[i];u&&(fs(),wt(u,n,8,[t.el,c,t,e]),ps())}}function Xv(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vn(()=>{t.isMounted=!0}),Ti(()=>{t.isUnmounting=!0}),t}const _t=[Function,Array],pf={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:_t,onEnter:_t,onAfterEnter:_t,onEnterCancelled:_t,onBeforeLeave:_t,onLeave:_t,onAfterLeave:_t,onLeaveCancelled:_t,onBeforeAppear:_t,onAppear:_t,onAfterAppear:_t,onAppearCancelled:_t},Jv={name:"BaseTransition",props:pf,setup(t,{slots:e}){const n=sc(),i=Xv();let s;return()=>{const r=e.default&&mf(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){for(const f of r)if(f.type!==kt){o=f;break}}const c=Ce(t),{mode:u}=c;if(i.isLeaving)return ba(o);const h=Mu(o);if(!h)return ba(o);const g=Za(h,c,i,n);el(h,g);const v=n.subTree,b=v&&Mu(v);let I=!1;const{getTransitionKey:H}=h.type;if(H){const f=H();s===void 0?s=f:f!==s&&(s=f,I=!0)}if(b&&b.type!==kt&&(!oi(h,b)||I)){const f=Za(b,c,i,n);if(el(b,f),u==="out-in")return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},ba(o);u==="in-out"&&h.type!==kt&&(f.delayLeave=(_,k,T)=>{const m=gf(i,b);m[String(b.key)]=b,_._leaveCb=()=>{k(),_._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=T})}return o}}},Zv=Jv;function gf(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Za(t,e,n,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:g,onBeforeLeave:v,onLeave:b,onAfterLeave:I,onLeaveCancelled:H,onBeforeAppear:f,onAppear:_,onAfterAppear:k,onAppearCancelled:T}=e,m=String(t.key),a=gf(n,t),l=(E,A)=>{E&&wt(E,i,9,A)},d=(E,A)=>{const P=A[1];l(E,A),ce(E)?E.every(j=>j.length<=1)&&P():E.length<=1&&P()},p={mode:r,persisted:o,beforeEnter(E){let A=c;if(!n.isMounted)if(s)A=f||c;else return;E._leaveCb&&E._leaveCb(!0);const P=a[m];P&&oi(t,P)&&P.el._leaveCb&&P.el._leaveCb(),l(A,[E])},enter(E){let A=u,P=h,j=g;if(!n.isMounted)if(s)A=_||u,P=k||h,j=T||g;else return;let F=!1;const V=E._enterCb=Q=>{F||(F=!0,Q?l(j,[E]):l(P,[E]),p.delayedLeave&&p.delayedLeave(),E._enterCb=void 0)};A?d(A,[E,V]):V()},leave(E,A){const P=String(t.key);if(E._enterCb&&E._enterCb(!0),n.isUnmounting)return A();l(v,[E]);let j=!1;const F=E._leaveCb=V=>{j||(j=!0,A(),V?l(H,[E]):l(I,[E]),E._leaveCb=void 0,a[P]===t&&delete a[P])};a[P]=t,b?d(b,[E,F]):F()},clone(E){return Za(E,e,n,i)}};return p}function ba(t){if(Yo(t))return t=jn(t),t.children=null,t}function Mu(t){return Yo(t)?t.children?t.children[0]:void 0:t}function el(t,e){t.shapeFlag&6&&t.component?el(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function mf(t,e=!1,n){let i=[],s=0;for(let r=0;r<t.length;r++){let o=t[r];const c=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===ft?(o.patchFlag&128&&s++,i=i.concat(mf(o.children,e,c))):(e||o.type!==kt)&&i.push(c!=null?jn(o,{key:c}):o)}if(s>1)for(let r=0;r<i.length;r++)i[r].patchFlag=-2;return i}function vf(t,e){return ge(t)?(()=>Ge({name:t.name},e,{setup:t}))():t}const Bs=t=>!!t.type.__asyncLoader,Yo=t=>t.type.__isKeepAlive;function e_(t,e){_f(t,"a",e)}function t_(t,e){_f(t,"da",e)}function _f(t,e,n=et){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Qo(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Yo(s.parent.vnode)&&n_(i,e,n,s),s=s.parent}}function n_(t,e,n,i){const s=Qo(e,t,i,!0);Zl(()=>{Hl(i[e],s)},n)}function Qo(t,e,n=et,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;fs(),Ji(n);const c=wt(e,n,t,o);return hi(),ps(),c});return i?s.unshift(r):s.push(r),r}}const mn=t=>(e,n=et)=>(!ir||t==="sp")&&Qo(t,(...i)=>e(...i),n),i_=mn("bm"),vn=mn("m"),s_=mn("bu"),r_=mn("u"),Ti=mn("bum"),Zl=mn("um"),o_=mn("sp"),a_=mn("rtg"),l_=mn("rtc");function c_(t,e=et){Qo("ec",t,e)}const ec="components";function Pt(t,e){return bf(ec,t,!0,e)||t}const yf=Symbol.for("v-ndc");function u_(t){return Ke(t)?bf(ec,t,!1)||t:t||yf}function bf(t,e,n=!0,i=!1){const s=st||et;if(s){const r=s.type;if(t===ec){const c=U_(r,!1);if(c&&(c===e||c===Jt(e)||c===Uo(Jt(e))))return r}const o=xu(s[t]||r[t],e)||xu(s.appContext[t],e);return!o&&i?r:o}}function xu(t,e){return t&&(t[e]||t[Jt(e)]||t[Uo(Jt(e))])}function d_(t,e,n,i){let s;const r=n&&n[i];if(ce(t)||Ke(t)){s=new Array(t.length);for(let o=0,c=t.length;o<c;o++)s[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,r&&r[o])}else if(De(t))if(t[Symbol.iterator])s=Array.from(t,(o,c)=>e(o,c,void 0,r&&r[c]));else{const o=Object.keys(t);s=new Array(o.length);for(let c=0,u=o.length;c<u;c++){const h=o[c];s[c]=e(t[h],h,c,r&&r[c])}}else s=[];return n&&(n[i]=s),s}function Pu(t,e,n={},i,s){if(st.isCE||st.parent&&Bs(st.parent)&&st.parent.isCE)return e!=="default"&&(n.name=e),Fe("slot",n,i&&i());let r=t[e];r&&r._c&&(r._d=!1),Xe();const o=r&&wf(r(n)),c=di(ft,{key:n.key||o&&o.key||`_${e}`},o||(i?i():[]),o&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),r&&r._c&&(r._d=!0),c}function wf(t){return t.some(e=>fo(e)?!(e.type===kt||e.type===ft&&!wf(e.children)):!0)?t:null}const tl=t=>t?xf(t)?Zo(t)||t.proxy:tl(t.parent):null,Fs=Ge(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>tl(t.parent),$root:t=>tl(t.root),$emit:t=>t.emit,$options:t=>tc(t),$forceUpdate:t=>t.f||(t.f=()=>Jl(t.update)),$nextTick:t=>t.n||(t.n=Xl.bind(t.proxy)),$watch:t=>Yv.bind(t)}),wa=(t,e)=>t!==Be&&!t.__isScriptSetup&&Ee(t,e),h_={get({_:t},e){const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:c,appContext:u}=t;let h;if(e[0]!=="$"){const I=o[e];if(I!==void 0)switch(I){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(wa(i,e))return o[e]=1,i[e];if(s!==Be&&Ee(s,e))return o[e]=2,s[e];if((h=t.propsOptions[0])&&Ee(h,e))return o[e]=3,r[e];if(n!==Be&&Ee(n,e))return o[e]=4,n[e];nl&&(o[e]=0)}}const g=Fs[e];let v,b;if(g)return e==="$attrs"&&mt(t,"get",e),g(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==Be&&Ee(n,e))return o[e]=4,n[e];if(b=u.config.globalProperties,Ee(b,e))return b[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return wa(s,e)?(s[e]=n,!0):i!==Be&&Ee(i,e)?(i[e]=n,!0):Ee(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let c;return!!n[o]||t!==Be&&Ee(t,o)||wa(e,o)||(c=r[0])&&Ee(c,o)||Ee(i,o)||Ee(Fs,o)||Ee(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ee(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function f_(){return p_().slots}function p_(){const t=sc();return t.setupContext||(t.setupContext=Df(t))}function Du(t){return ce(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let nl=!0;function g_(t){const e=tc(t),n=t.proxy,i=t.ctx;nl=!1,e.beforeCreate&&Lu(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:o,watch:c,provide:u,inject:h,created:g,beforeMount:v,mounted:b,beforeUpdate:I,updated:H,activated:f,deactivated:_,beforeDestroy:k,beforeUnmount:T,destroyed:m,unmounted:a,render:l,renderTracked:d,renderTriggered:p,errorCaptured:E,serverPrefetch:A,expose:P,inheritAttrs:j,components:F,directives:V,filters:Q}=e;if(h&&m_(h,i,null),o)for(const J in o){const ee=o[J];ge(ee)&&(i[J]=ee.bind(n))}if(s){const J=s.call(n,n);De(J)&&(t.data=Ii(J))}if(nl=!0,r)for(const J in r){const ee=r[J],le=ge(ee)?ee.bind(n,n):ge(ee.get)?ee.get.bind(n,n):Bt,ue=!ge(ee)&&ge(ee.set)?ee.set.bind(n):Bt,ae=Pe({get:le,set:ue});Object.defineProperty(i,J,{enumerable:!0,configurable:!0,get:()=>ae.value,set:ve=>ae.value=ve})}if(c)for(const J in c)Ef(c[J],i,n,J);if(u){const J=ge(u)?u.call(n):u;Reflect.ownKeys(J).forEach(ee=>{Xr(ee,J[ee])})}g&&Lu(g,t,"c");function oe(J,ee){ce(ee)?ee.forEach(le=>J(le.bind(n))):ee&&J(ee.bind(n))}if(oe(i_,v),oe(vn,b),oe(s_,I),oe(r_,H),oe(e_,f),oe(t_,_),oe(c_,E),oe(l_,d),oe(a_,p),oe(Ti,T),oe(Zl,a),oe(o_,A),ce(P))if(P.length){const J=t.exposed||(t.exposed={});P.forEach(ee=>{Object.defineProperty(J,ee,{get:()=>n[ee],set:le=>n[ee]=le})})}else t.exposed||(t.exposed={});l&&t.render===Bt&&(t.render=l),j!=null&&(t.inheritAttrs=j),F&&(t.components=F),V&&(t.directives=V)}function m_(t,e,n=Bt){ce(t)&&(t=il(t));for(const i in t){const s=t[i];let r;De(s)?"default"in s?r=Ct(s.from||i,s.default,!0):r=Ct(s.from||i):r=Ct(s),tt(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function Lu(t,e,n){wt(ce(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ef(t,e,n,i){const s=i.includes(".")?ff(n,i):()=>n[i];if(Ke(t)){const r=e[t];ge(r)&&Et(s,r)}else if(ge(t))Et(s,t.bind(n));else if(De(t))if(ce(t))t.forEach(r=>Ef(r,e,n,i));else{const r=ge(t.handler)?t.handler.bind(n):e[t.handler];ge(r)&&Et(s,r,t)}}function tc(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,c=r.get(e);let u;return c?u=c:!s.length&&!n&&!i?u=e:(u={},s.length&&s.forEach(h=>uo(u,h,o,!0)),uo(u,e,o)),De(e)&&r.set(e,u),u}function uo(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&uo(t,r,n,!0),s&&s.forEach(o=>uo(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const c=v_[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const v_={data:Nu,props:$u,emits:$u,methods:Ls,computed:Ls,beforeCreate:ct,created:ct,beforeMount:ct,mounted:ct,beforeUpdate:ct,updated:ct,beforeDestroy:ct,beforeUnmount:ct,destroyed:ct,unmounted:ct,activated:ct,deactivated:ct,errorCaptured:ct,serverPrefetch:ct,components:Ls,directives:Ls,watch:y_,provide:Nu,inject:__};function Nu(t,e){return e?t?function(){return Ge(ge(t)?t.call(this,this):t,ge(e)?e.call(this,this):e)}:e:t}function __(t,e){return Ls(il(t),il(e))}function il(t){if(ce(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ct(t,e){return t?[...new Set([].concat(t,e))]:e}function Ls(t,e){return t?Ge(Object.create(null),t,e):e}function $u(t,e){return t?ce(t)&&ce(e)?[...new Set([...t,...e])]:Ge(Object.create(null),Du(t),Du(e??{})):e}function y_(t,e){if(!t)return e;if(!e)return t;const n=Ge(Object.create(null),t);for(const i in e)n[i]=ct(t[i],e[i]);return n}function Cf(){return{app:null,config:{isNativeTag:Bm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let b_=0;function w_(t,e){return function(i,s=null){ge(i)||(i=Ge({},i)),s!=null&&!De(s)&&(s=null);const r=Cf(),o=new Set;let c=!1;const u=r.app={_uid:b_++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:z_,get config(){return r.config},set config(h){},use(h,...g){return o.has(h)||(h&&ge(h.install)?(o.add(h),h.install(u,...g)):ge(h)&&(o.add(h),h(u,...g))),u},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),u},component(h,g){return g?(r.components[h]=g,u):r.components[h]},directive(h,g){return g?(r.directives[h]=g,u):r.directives[h]},mount(h,g,v){if(!c){const b=Fe(i,s);return b.appContext=r,g&&e?e(b,h):t(b,h,v),c=!0,u._container=h,h.__vue_app__=u,Zo(b.component)||b.component.proxy}},unmount(){c&&(t(null,u._container),delete u._container.__vue_app__)},provide(h,g){return r.provides[h]=g,u},runWithContext(h){ho=u;try{return h()}finally{ho=null}}};return u}}let ho=null;function Xr(t,e){if(et){let n=et.provides;const i=et.parent&&et.parent.provides;i===n&&(n=et.provides=Object.create(i)),n[t]=e}}function Ct(t,e,n=!1){const i=et||st;if(i||ho){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ho._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ge(e)?e.call(i&&i.proxy):e}}function E_(t,e,n,i=!1){const s={},r={};ro(r,Jo,1),t.propsDefaults=Object.create(null),kf(t,e,s,r);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=i?s:Ov(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function C_(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,c=Ce(s),[u]=t.propsOptions;let h=!1;if((i||o>0)&&!(o&16)){if(o&8){const g=t.vnode.dynamicProps;for(let v=0;v<g.length;v++){let b=g[v];if(zo(t.emitsOptions,b))continue;const I=e[b];if(u)if(Ee(r,b))I!==r[b]&&(r[b]=I,h=!0);else{const H=Jt(b);s[H]=sl(u,c,H,I,t,!1)}else I!==r[b]&&(r[b]=I,h=!0)}}}else{kf(t,e,s,r)&&(h=!0);let g;for(const v in c)(!e||!Ee(e,v)&&((g=ki(v))===v||!Ee(e,g)))&&(u?n&&(n[v]!==void 0||n[g]!==void 0)&&(s[v]=sl(u,c,v,void 0,t,!0)):delete s[v]);if(r!==c)for(const v in r)(!e||!Ee(e,v))&&(delete r[v],h=!0)}h&&hn(t,"set","$attrs")}function kf(t,e,n,i){const[s,r]=t.propsOptions;let o=!1,c;if(e)for(let u in e){if(Yr(u))continue;const h=e[u];let g;s&&Ee(s,g=Jt(u))?!r||!r.includes(g)?n[g]=h:(c||(c={}))[g]=h:zo(t.emitsOptions,u)||(!(u in i)||h!==i[u])&&(i[u]=h,o=!0)}if(r){const u=Ce(n),h=c||Be;for(let g=0;g<r.length;g++){const v=r[g];n[v]=sl(s,u,v,h[v],t,!Ee(h,v))}}return o}function sl(t,e,n,i,s,r){const o=t[n];if(o!=null){const c=Ee(o,"default");if(c&&i===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&ge(u)){const{propsDefaults:h}=s;n in h?i=h[n]:(Ji(s),i=h[n]=u.call(null,e),hi())}else i=u}o[0]&&(r&&!c?i=!1:o[1]&&(i===""||i===ki(n))&&(i=!0))}return i}function If(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const r=t.props,o={},c=[];let u=!1;if(!ge(t)){const g=v=>{u=!0;const[b,I]=If(v,e,!0);Ge(o,b),I&&c.push(...I)};!n&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!r&&!u)return De(t)&&i.set(t,Wi),Wi;if(ce(r))for(let g=0;g<r.length;g++){const v=Jt(r[g]);Bu(v)&&(o[v]=Be)}else if(r)for(const g in r){const v=Jt(g);if(Bu(v)){const b=r[g],I=o[v]=ce(b)||ge(b)?{type:b}:Ge({},b);if(I){const H=Wu(Boolean,I.type),f=Wu(String,I.type);I[0]=H>-1,I[1]=f<0||H<f,(H>-1||Ee(I,"default"))&&c.push(v)}}}const h=[o,c];return De(t)&&i.set(t,h),h}function Bu(t){return t[0]!=="$"}function Fu(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Hu(t,e){return Fu(t)===Fu(e)}function Wu(t,e){return ce(e)?e.findIndex(n=>Hu(n,t)):ge(e)&&Hu(e,t)?0:-1}const Tf=t=>t[0]==="_"||t==="$stable",nc=t=>ce(t)?t.map(zt):[zt(t)],k_=(t,e,n)=>{if(e._n)return e;const i=Un((...s)=>nc(e(...s)),n);return i._c=!1,i},Sf=(t,e,n)=>{const i=t._ctx;for(const s in t){if(Tf(s))continue;const r=t[s];if(ge(r))e[s]=k_(s,r,i);else if(r!=null){const o=nc(r);e[s]=()=>o}}},Of=(t,e)=>{const n=nc(e);t.slots.default=()=>n},I_=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ce(e),ro(e,"_",n)):Sf(e,t.slots={})}else t.slots={},e&&Of(t,e);ro(t.slots,Jo,1)},T_=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,o=Be;if(i.shapeFlag&32){const c=e._;c?n&&c===1?r=!1:(Ge(s,e),!n&&c===1&&delete s._):(r=!e.$stable,Sf(e,s)),o=e}else e&&(Of(t,e),o={default:1});if(r)for(const c in s)!Tf(c)&&!(c in o)&&delete s[c]};function rl(t,e,n,i,s=!1){if(ce(t)){t.forEach((b,I)=>rl(b,e&&(ce(e)?e[I]:e),n,i,s));return}if(Bs(i)&&!s)return;const r=i.shapeFlag&4?Zo(i.component)||i.component.proxy:i.el,o=s?null:r,{i:c,r:u}=t,h=e&&e.r,g=c.refs===Be?c.refs={}:c.refs,v=c.setupState;if(h!=null&&h!==u&&(Ke(h)?(g[h]=null,Ee(v,h)&&(v[h]=null)):tt(h)&&(h.value=null)),ge(u))xn(u,c,12,[o,g]);else{const b=Ke(u),I=tt(u);if(b||I){const H=()=>{if(t.f){const f=b?Ee(v,u)?v[u]:g[u]:u.value;s?ce(f)&&Hl(f,r):ce(f)?f.includes(r)||f.push(r):b?(g[u]=[r],Ee(v,u)&&(v[u]=g[u])):(u.value=[r],t.k&&(g[t.k]=u.value))}else b?(g[u]=o,Ee(v,u)&&(v[u]=o)):I&&(u.value=o,t.k&&(g[t.k]=o))};o?(H.id=-1,ht(H,n)):H()}}}const ht=Kv;function S_(t){return O_(t)}function O_(t,e){const n=Ga();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:c,createComment:u,setText:h,setElementText:g,parentNode:v,nextSibling:b,setScopeId:I=Bt,insertStaticContent:H}=t,f=(S,R,B,w=null,O=null,x=null,L=!1,N=null,U=!!R.dynamicChildren)=>{if(S===R)return;S&&!oi(S,R)&&(w=z(S),ve(S,O,x,!0),S=null),R.patchFlag===-2&&(U=!1,R.dynamicChildren=null);const{type:W,ref:G,shapeFlag:Y}=R;switch(W){case Xo:_(S,R,B,w);break;case kt:k(S,R,B,w);break;case Hs:S==null&&T(R,B,w,L);break;case ft:F(S,R,B,w,O,x,L,N,U);break;default:Y&1?l(S,R,B,w,O,x,L,N,U):Y&6?V(S,R,B,w,O,x,L,N,U):(Y&64||Y&128)&&W.process(S,R,B,w,O,x,L,N,U,Z)}G!=null&&O&&rl(G,S&&S.ref,x,R||S,!R)},_=(S,R,B,w)=>{if(S==null)i(R.el=c(R.children),B,w);else{const O=R.el=S.el;R.children!==S.children&&h(O,R.children)}},k=(S,R,B,w)=>{S==null?i(R.el=u(R.children||""),B,w):R.el=S.el},T=(S,R,B,w)=>{[S.el,S.anchor]=H(S.children,R,B,w,S.el,S.anchor)},m=({el:S,anchor:R},B,w)=>{let O;for(;S&&S!==R;)O=b(S),i(S,B,w),S=O;i(R,B,w)},a=({el:S,anchor:R})=>{let B;for(;S&&S!==R;)B=b(S),s(S),S=B;s(R)},l=(S,R,B,w,O,x,L,N,U)=>{L=L||R.type==="svg",S==null?d(R,B,w,O,x,L,N,U):A(S,R,O,x,L,N,U)},d=(S,R,B,w,O,x,L,N)=>{let U,W;const{type:G,props:Y,shapeFlag:X,transition:ne,dirs:y}=S;if(U=S.el=o(S.type,x,Y&&Y.is,Y),X&8?g(U,S.children):X&16&&E(S.children,U,null,w,O,x&&G!=="foreignObject",L,N),y&&Zn(S,null,w,"created"),p(U,S,S.scopeId,L,w),Y){for(const D in Y)D!=="value"&&!Yr(D)&&r(U,D,null,Y[D],x,S.children,w,O,ke);"value"in Y&&r(U,"value",null,Y.value),(W=Y.onVnodeBeforeMount)&&qt(W,w,S)}y&&Zn(S,null,w,"beforeMount");const C=(!O||O&&!O.pendingBranch)&&ne&&!ne.persisted;C&&ne.beforeEnter(U),i(U,R,B),((W=Y&&Y.onVnodeMounted)||C||y)&&ht(()=>{W&&qt(W,w,S),C&&ne.enter(U),y&&Zn(S,null,w,"mounted")},O)},p=(S,R,B,w,O)=>{if(B&&I(S,B),w)for(let x=0;x<w.length;x++)I(S,w[x]);if(O){let x=O.subTree;if(R===x){const L=O.vnode;p(S,L,L.scopeId,L.slotScopeIds,O.parent)}}},E=(S,R,B,w,O,x,L,N,U=0)=>{for(let W=U;W<S.length;W++){const G=S[W]=N?kn(S[W]):zt(S[W]);f(null,G,R,B,w,O,x,L,N)}},A=(S,R,B,w,O,x,L)=>{const N=R.el=S.el;let{patchFlag:U,dynamicChildren:W,dirs:G}=R;U|=S.patchFlag&16;const Y=S.props||Be,X=R.props||Be;let ne;B&&ei(B,!1),(ne=X.onVnodeBeforeUpdate)&&qt(ne,B,R,S),G&&Zn(R,S,B,"beforeUpdate"),B&&ei(B,!0);const y=O&&R.type!=="foreignObject";if(W?P(S.dynamicChildren,W,N,B,w,y,x):L||ee(S,R,N,null,B,w,y,x,!1),U>0){if(U&16)j(N,R,Y,X,B,w,O);else if(U&2&&Y.class!==X.class&&r(N,"class",null,X.class,O),U&4&&r(N,"style",Y.style,X.style,O),U&8){const C=R.dynamicProps;for(let D=0;D<C.length;D++){const q=C[D],re=Y[q],me=X[q];(me!==re||q==="value")&&r(N,q,re,me,O,S.children,B,w,ke)}}U&1&&S.children!==R.children&&g(N,R.children)}else!L&&W==null&&j(N,R,Y,X,B,w,O);((ne=X.onVnodeUpdated)||G)&&ht(()=>{ne&&qt(ne,B,R,S),G&&Zn(R,S,B,"updated")},w)},P=(S,R,B,w,O,x,L)=>{for(let N=0;N<R.length;N++){const U=S[N],W=R[N],G=U.el&&(U.type===ft||!oi(U,W)||U.shapeFlag&70)?v(U.el):B;f(U,W,G,null,w,O,x,L,!0)}},j=(S,R,B,w,O,x,L)=>{if(B!==w){if(B!==Be)for(const N in B)!Yr(N)&&!(N in w)&&r(S,N,B[N],null,L,R.children,O,x,ke);for(const N in w){if(Yr(N))continue;const U=w[N],W=B[N];U!==W&&N!=="value"&&r(S,N,W,U,L,R.children,O,x,ke)}"value"in w&&r(S,"value",B.value,w.value)}},F=(S,R,B,w,O,x,L,N,U)=>{const W=R.el=S?S.el:c(""),G=R.anchor=S?S.anchor:c("");let{patchFlag:Y,dynamicChildren:X,slotScopeIds:ne}=R;ne&&(N=N?N.concat(ne):ne),S==null?(i(W,B,w),i(G,B,w),E(R.children,B,G,O,x,L,N,U)):Y>0&&Y&64&&X&&S.dynamicChildren?(P(S.dynamicChildren,X,B,O,x,L,N),(R.key!=null||O&&R===O.subTree)&&Af(S,R,!0)):ee(S,R,B,G,O,x,L,N,U)},V=(S,R,B,w,O,x,L,N,U)=>{R.slotScopeIds=N,S==null?R.shapeFlag&512?O.ctx.activate(R,B,w,L,U):Q(R,B,w,O,x,L,U):ie(S,R,U)},Q=(S,R,B,w,O,x,L)=>{const N=S.component=B_(S,w,O);if(Yo(S)&&(N.ctx.renderer=Z),F_(N),N.asyncDep){if(O&&O.registerDep(N,oe),!S.el){const U=N.subTree=Fe(kt);k(null,U,R,B)}return}oe(N,S,R,B,O,x,L)},ie=(S,R,B)=>{const w=R.component=S.component;if(Vv(S,R,B))if(w.asyncDep&&!w.asyncResolved){J(w,R,B);return}else w.next=R,Bv(w.update),w.update();else R.el=S.el,w.vnode=R},oe=(S,R,B,w,O,x,L)=>{const N=()=>{if(S.isMounted){let{next:G,bu:Y,u:X,parent:ne,vnode:y}=S,C=G,D;ei(S,!1),G?(G.el=y.el,J(S,G,L)):G=y,Y&&Qr(Y),(D=G.props&&G.props.onVnodeBeforeUpdate)&&qt(D,ne,G,y),ei(S,!0);const q=ya(S),re=S.subTree;S.subTree=q,f(re,q,v(re.el),z(re),S,O,x),G.el=q.el,C===null&&qv(S,q.el),X&&ht(X,O),(D=G.props&&G.props.onVnodeUpdated)&&ht(()=>qt(D,ne,G,y),O)}else{let G;const{el:Y,props:X}=R,{bm:ne,m:y,parent:C}=S,D=Bs(R);if(ei(S,!1),ne&&Qr(ne),!D&&(G=X&&X.onVnodeBeforeMount)&&qt(G,C,R),ei(S,!0),Y&&pe){const q=()=>{S.subTree=ya(S),pe(Y,S.subTree,S,O,null)};D?R.type.__asyncLoader().then(()=>!S.isUnmounted&&q()):q()}else{const q=S.subTree=ya(S);f(null,q,B,w,S,O,x),R.el=q.el}if(y&&ht(y,O),!D&&(G=X&&X.onVnodeMounted)){const q=R;ht(()=>qt(G,C,q),O)}(R.shapeFlag&256||C&&Bs(C.vnode)&&C.vnode.shapeFlag&256)&&S.a&&ht(S.a,O),S.isMounted=!0,R=B=w=null}},U=S.effect=new Vl(N,()=>Jl(W),S.scope),W=S.update=()=>U.run();W.id=S.uid,ei(S,!0),W()},J=(S,R,B)=>{R.component=S;const w=S.vnode.props;S.vnode=R,S.next=null,C_(S,R.props,w,B),T_(S,R.children,B),fs(),Ou(),ps()},ee=(S,R,B,w,O,x,L,N,U=!1)=>{const W=S&&S.children,G=S?S.shapeFlag:0,Y=R.children,{patchFlag:X,shapeFlag:ne}=R;if(X>0){if(X&128){ue(W,Y,B,w,O,x,L,N,U);return}else if(X&256){le(W,Y,B,w,O,x,L,N,U);return}}ne&8?(G&16&&ke(W,O,x),Y!==W&&g(B,Y)):G&16?ne&16?ue(W,Y,B,w,O,x,L,N,U):ke(W,O,x,!0):(G&8&&g(B,""),ne&16&&E(Y,B,w,O,x,L,N,U))},le=(S,R,B,w,O,x,L,N,U)=>{S=S||Wi,R=R||Wi;const W=S.length,G=R.length,Y=Math.min(W,G);let X;for(X=0;X<Y;X++){const ne=R[X]=U?kn(R[X]):zt(R[X]);f(S[X],ne,B,null,O,x,L,N,U)}W>G?ke(S,O,x,!0,!1,Y):E(R,B,w,O,x,L,N,U,Y)},ue=(S,R,B,w,O,x,L,N,U)=>{let W=0;const G=R.length;let Y=S.length-1,X=G-1;for(;W<=Y&&W<=X;){const ne=S[W],y=R[W]=U?kn(R[W]):zt(R[W]);if(oi(ne,y))f(ne,y,B,null,O,x,L,N,U);else break;W++}for(;W<=Y&&W<=X;){const ne=S[Y],y=R[X]=U?kn(R[X]):zt(R[X]);if(oi(ne,y))f(ne,y,B,null,O,x,L,N,U);else break;Y--,X--}if(W>Y){if(W<=X){const ne=X+1,y=ne<G?R[ne].el:w;for(;W<=X;)f(null,R[W]=U?kn(R[W]):zt(R[W]),B,y,O,x,L,N,U),W++}}else if(W>X)for(;W<=Y;)ve(S[W],O,x,!0),W++;else{const ne=W,y=W,C=new Map;for(W=y;W<=X;W++){const we=R[W]=U?kn(R[W]):zt(R[W]);we.key!=null&&C.set(we.key,W)}let D,q=0;const re=X-y+1;let me=!1,Ue=0;const Te=new Array(re);for(W=0;W<re;W++)Te[W]=0;for(W=ne;W<=Y;W++){const we=S[W];if(q>=re){ve(we,O,x,!0);continue}let $e;if(we.key!=null)$e=C.get(we.key);else for(D=y;D<=X;D++)if(Te[D-y]===0&&oi(we,R[D])){$e=D;break}$e===void 0?ve(we,O,x,!0):(Te[$e-y]=W+1,$e>=Ue?Ue=$e:me=!0,f(we,R[$e],B,null,O,x,L,N,U),q++)}const We=me?A_(Te):Wi;for(D=We.length-1,W=re-1;W>=0;W--){const we=y+W,$e=R[we],Oe=we+1<G?R[we+1].el:w;Te[W]===0?f(null,$e,B,Oe,O,x,L,N,U):me&&(D<0||W!==We[D]?ae($e,B,Oe,2):D--)}}},ae=(S,R,B,w,O=null)=>{const{el:x,type:L,transition:N,children:U,shapeFlag:W}=S;if(W&6){ae(S.component.subTree,R,B,w);return}if(W&128){S.suspense.move(R,B,w);return}if(W&64){L.move(S,R,B,Z);return}if(L===ft){i(x,R,B);for(let Y=0;Y<U.length;Y++)ae(U[Y],R,B,w);i(S.anchor,R,B);return}if(L===Hs){m(S,R,B);return}if(w!==2&&W&1&&N)if(w===0)N.beforeEnter(x),i(x,R,B),ht(()=>N.enter(x),O);else{const{leave:Y,delayLeave:X,afterLeave:ne}=N,y=()=>i(x,R,B),C=()=>{Y(x,()=>{y(),ne&&ne()})};X?X(x,y,C):C()}else i(x,R,B)},ve=(S,R,B,w=!1,O=!1)=>{const{type:x,props:L,ref:N,children:U,dynamicChildren:W,shapeFlag:G,patchFlag:Y,dirs:X}=S;if(N!=null&&rl(N,null,B,S,!0),G&256){R.ctx.deactivate(S);return}const ne=G&1&&X,y=!Bs(S);let C;if(y&&(C=L&&L.onVnodeBeforeUnmount)&&qt(C,R,S),G&6)He(S.component,B,w);else{if(G&128){S.suspense.unmount(B,w);return}ne&&Zn(S,null,R,"beforeUnmount"),G&64?S.type.remove(S,R,B,O,Z,w):W&&(x!==ft||Y>0&&Y&64)?ke(W,R,B,!1,!0):(x===ft&&Y&384||!O&&G&16)&&ke(U,R,B),w&&he(S)}(y&&(C=L&&L.onVnodeUnmounted)||ne)&&ht(()=>{C&&qt(C,R,S),ne&&Zn(S,null,R,"unmounted")},B)},he=S=>{const{type:R,el:B,anchor:w,transition:O}=S;if(R===ft){Se(B,w);return}if(R===Hs){a(S);return}const x=()=>{s(B),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(S.shapeFlag&1&&O&&!O.persisted){const{leave:L,delayLeave:N}=O,U=()=>L(B,x);N?N(S.el,x,U):U()}else x()},Se=(S,R)=>{let B;for(;S!==R;)B=b(S),s(S),S=B;s(R)},He=(S,R,B)=>{const{bum:w,scope:O,update:x,subTree:L,um:N}=S;w&&Qr(w),O.stop(),x&&(x.active=!1,ve(L,S,R,B)),N&&ht(N,R),ht(()=>{S.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},ke=(S,R,B,w=!1,O=!1,x=0)=>{for(let L=x;L<S.length;L++)ve(S[L],R,B,w,O)},z=S=>S.shapeFlag&6?z(S.component.subTree):S.shapeFlag&128?S.suspense.next():b(S.anchor||S.el),K=(S,R,B)=>{S==null?R._vnode&&ve(R._vnode,null,null,!0):f(R._vnode||null,S,R,null,null,null,B),Ou(),uf(),R._vnode=S},Z={p:f,um:ve,m:ae,r:he,mt:Q,mc:E,pc:ee,pbc:P,n:z,o:t};let se,pe;return e&&([se,pe]=e(Z)),{render:K,hydrate:se,createApp:w_(K,se)}}function ei({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Af(t,e,n=!1){const i=t.children,s=e.children;if(ce(i)&&ce(s))for(let r=0;r<i.length;r++){const o=i[r];let c=s[r];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[r]=kn(s[r]),c.el=o.el),n||Af(o,c)),c.type===Xo&&(c.el=o.el)}}function A_(t){const e=t.slice(),n=[0];let i,s,r,o,c;const u=t.length;for(i=0;i<u;i++){const h=t[i];if(h!==0){if(s=n[n.length-1],t[s]<h){e[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)c=r+o>>1,t[n[c]]<h?r=c+1:o=c;h<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}const R_=t=>t.__isTeleport,ft=Symbol.for("v-fgt"),Xo=Symbol.for("v-txt"),kt=Symbol.for("v-cmt"),Hs=Symbol.for("v-stc"),Ws=[];let Nt=null;function Xe(t=!1){Ws.push(Nt=t?null:[])}function M_(){Ws.pop(),Nt=Ws[Ws.length-1]||null}let nr=1;function Uu(t){nr+=t}function Rf(t){return t.dynamicChildren=nr>0?Nt||Wi:null,M_(),nr>0&&Nt&&Nt.push(t),t}function It(t,e,n,i,s,r){return Rf(Re(t,e,n,i,s,r,!0))}function di(t,e,n,i,s){return Rf(Fe(t,e,n,i,s,!0))}function fo(t){return t?t.__v_isVNode===!0:!1}function oi(t,e){return t.type===e.type&&t.key===e.key}const Jo="__vInternal",Mf=({key:t})=>t??null,Jr=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ke(t)||tt(t)||ge(t)?{i:st,r:t,k:e,f:!!n}:t:null);function Re(t,e=null,n=null,i=0,s=null,r=t===ft?0:1,o=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Mf(e),ref:e&&Jr(e),scopeId:Ko,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:st};return c?(ic(u,n),r&128&&t.normalize(u)):n&&(u.shapeFlag|=Ke(n)?8:16),nr>0&&!o&&Nt&&(u.patchFlag>0||r&6)&&u.patchFlag!==32&&Nt.push(u),u}const Fe=x_;function x_(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===yf)&&(t=kt),fo(t)){const c=jn(t,e,!0);return n&&ic(c,n),nr>0&&!r&&Nt&&(c.shapeFlag&6?Nt[Nt.indexOf(t)]=c:Nt.push(c)),c.patchFlag|=-2,c}if(j_(t)&&(t=t.__vccOpts),e){e=P_(e);let{class:c,style:u}=e;c&&!Ke(c)&&(e.class=gi(c)),De(u)&&(ef(u)&&!ce(u)&&(u=Ge({},u)),e.style=jo(u))}const o=Ke(t)?1:zv(t)?128:R_(t)?64:De(t)?4:ge(t)?2:0;return Re(t,e,n,i,s,o,r,!0)}function P_(t){return t?ef(t)||Jo in t?Ge({},t):t:null}function jn(t,e,n=!1){const{props:i,ref:s,patchFlag:r,children:o}=t,c=e?L_(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Mf(c),ref:e&&e.ref?n&&s?ce(s)?s.concat(Jr(e)):[s,Jr(e)]:Jr(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ft?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&jn(t.ssContent),ssFallback:t.ssFallback&&jn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function qi(t=" ",e=0){return Fe(Xo,null,t,e)}function D_(t,e){const n=Fe(Hs,null,t);return n.staticCount=e,n}function po(t="",e=!1){return e?(Xe(),di(kt,null,t)):Fe(kt,null,t)}function zt(t){return t==null||typeof t=="boolean"?Fe(kt):ce(t)?Fe(ft,null,t.slice()):typeof t=="object"?kn(t):Fe(Xo,null,String(t))}function kn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:jn(t)}function ic(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ce(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),ic(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Jo in e)?e._ctx=st:s===3&&st&&(st.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ge(e)?(e={default:e,_ctx:st},n=32):(e=String(e),i&64?(n=16,e=[qi(e)]):n=8);t.children=e,t.shapeFlag|=n}function L_(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=gi([e.class,i.class]));else if(s==="style")e.style=jo([e.style,i.style]);else if(Ho(s)){const r=e[s],o=i[s];o&&r!==o&&!(ce(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function qt(t,e,n,i=null){wt(t,e,7,[n,i])}const N_=Cf();let $_=0;function B_(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||N_,r={uid:$_++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Uh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:If(i,s),emitsOptions:hf(i,s),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:i.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Wv.bind(null,r),t.ce&&t.ce(r),r}let et=null;const sc=()=>et||st;let rc,Di,ju="__VUE_INSTANCE_SETTERS__";(Di=Ga()[ju])||(Di=Ga()[ju]=[]),Di.push(t=>et=t),rc=t=>{Di.length>1?Di.forEach(e=>e(t)):Di[0](t)};const Ji=t=>{rc(t),t.scope.on()},hi=()=>{et&&et.scope.off(),rc(null)};function xf(t){return t.vnode.shapeFlag&4}let ir=!1;function F_(t,e=!1){ir=e;const{props:n,children:i}=t.vnode,s=xf(t);E_(t,n,s,e),I_(t,i);const r=s?H_(t,e):void 0;return ir=!1,r}function H_(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=tf(new Proxy(t.ctx,h_));const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?Df(t):null;Ji(t),fs();const r=xn(i,t,0,[t.props,s]);if(ps(),hi(),$h(r)){if(r.then(hi,hi),e)return r.then(o=>{Vu(t,o,e)}).catch(o=>{qo(o,t,0)});t.asyncDep=r}else Vu(t,r,e)}else Pf(t,e)}function Vu(t,e,n){ge(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:De(e)&&(t.setupState=of(e)),Pf(t,n)}let qu;function Pf(t,e,n){const i=t.type;if(!t.render){if(!e&&qu&&!i.render){const s=i.template||tc(t).template;if(s){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:c,compilerOptions:u}=i,h=Ge(Ge({isCustomElement:r,delimiters:c},o),u);i.render=qu(s,h)}}t.render=i.render||Bt}Ji(t),fs(),g_(t),ps(),hi()}function W_(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return mt(t,"get","$attrs"),e[n]}}))}function Df(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return W_(t)},slots:t.slots,emit:t.emit,expose:e}}function Zo(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(of(tf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Fs)return Fs[n](t)},has(e,n){return n in e||n in Fs}}))}function U_(t,e=!0){return ge(t)?t.displayName||t.name:t.name||e&&t.__name}function j_(t){return ge(t)&&"__vccOpts"in t}const Pe=(t,e)=>Lv(t,e,ir);function oc(t,e,n){const i=arguments.length;return i===2?De(e)&&!ce(e)?fo(e)?Fe(t,null,[e]):Fe(t,e):Fe(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&fo(n)&&(n=[n]),Fe(t,e,n))}const V_=Symbol.for("v-scx"),q_=()=>Ct(V_),z_="3.3.4",K_="http://www.w3.org/2000/svg",ai=typeof document<"u"?document:null,zu=ai&&ai.createElement("template"),G_={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e?ai.createElementNS(K_,t):ai.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>ai.createTextNode(t),createComment:t=>ai.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ai.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{zu.innerHTML=i?`<svg>${t}</svg>`:t;const c=zu.content;if(i){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Y_(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Q_(t,e,n){const i=t.style,s=Ke(n);if(n&&!s){if(e&&!Ke(e))for(const r in e)n[r]==null&&ol(i,r,"");for(const r in n)ol(i,r,n[r])}else{const r=i.display;s?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=r)}}const Ku=/\s*!important$/;function ol(t,e,n){if(ce(n))n.forEach(i=>ol(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=X_(t,e);Ku.test(n)?t.setProperty(ki(i),n.replace(Ku,""),"important"):t[i]=n}}const Gu=["Webkit","Moz","ms"],Ea={};function X_(t,e){const n=Ea[e];if(n)return n;let i=Jt(e);if(i!=="filter"&&i in t)return Ea[e]=i;i=Uo(i);for(let s=0;s<Gu.length;s++){const r=Gu[s]+i;if(r in t)return Ea[e]=r}return e}const Yu="http://www.w3.org/1999/xlink";function J_(t,e,n,i,s){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Yu,e.slice(6,e.length)):t.setAttributeNS(Yu,e,n);else{const r=Qm(e);n==null||r&&!Hh(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function Z_(t,e,n,i,s,r,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,s,r),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const h=c==="OPTION"?t.getAttribute("value"):t.value,g=n??"";h!==g&&(t.value=g),n==null&&t.removeAttribute(e);return}let u=!1;if(n===""||n==null){const h=typeof t[e];h==="boolean"?n=Hh(n):n==null&&h==="string"?(n="",u=!0):h==="number"&&(n=0,u=!0)}try{t[e]=n}catch{}u&&t.removeAttribute(e)}function an(t,e,n,i){t.addEventListener(e,n,i)}function ey(t,e,n,i){t.removeEventListener(e,n,i)}function ty(t,e,n,i,s=null){const r=t._vei||(t._vei={}),o=r[e];if(i&&o)o.value=i;else{const[c,u]=ny(e);if(i){const h=r[e]=ry(i,s);an(t,c,h,u)}else o&&(ey(t,c,o,u),r[e]=void 0)}}const Qu=/(?:Once|Passive|Capture)$/;function ny(t){let e;if(Qu.test(t)){e={};let i;for(;i=t.match(Qu);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ki(t.slice(2)),e]}let Ca=0;const iy=Promise.resolve(),sy=()=>Ca||(iy.then(()=>Ca=0),Ca=Date.now());function ry(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;wt(oy(i,n.value),e,5,[i])};return n.value=t,n.attached=sy(),n}function oy(t,e){if(ce(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const Xu=/^on[a-z]/,ay=(t,e,n,i,s=!1,r,o,c,u)=>{e==="class"?Y_(t,i,s):e==="style"?Q_(t,n,i):Ho(e)?Fl(e)||ty(t,e,n,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ly(t,e,i,s))?Z_(t,e,i,r,o,c,u):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),J_(t,e,i,s))};function ly(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&Xu.test(e)&&ge(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Xu.test(e)&&Ke(n)?!1:e in t}function cy(t){const e=sc();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>ll(r,s))},i=()=>{const s=t(e.proxy);al(e.subTree,s),n(s)};Gv(i),vn(()=>{const s=new MutationObserver(i);s.observe(e.subTree.el.parentNode,{childList:!0}),Zl(()=>s.disconnect())})}function al(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{al(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)ll(t.el,e);else if(t.type===ft)t.children.forEach(n=>al(n,e));else if(t.type===Hs){let{el:n,anchor:i}=t;for(;n&&(ll(n,e),n!==i);)n=n.nextSibling}}function ll(t,e){if(t.nodeType===1){const n=t.style;for(const i in e)n.setProperty(`--${i}`,e[i])}}const bn="transition",Is="animation",ac=(t,{slots:e})=>oc(Zv,uy(t),e);ac.displayName="Transition";const Lf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};ac.props=Ge({},pf,Lf);const ti=(t,e=[])=>{ce(t)?t.forEach(n=>n(...e)):t&&t(...e)},Ju=t=>t?ce(t)?t.some(e=>e.length>1):t.length>1:!1;function uy(t){const e={};for(const F in t)F in Lf||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:u=r,appearActiveClass:h=o,appearToClass:g=c,leaveFromClass:v=`${n}-leave-from`,leaveActiveClass:b=`${n}-leave-active`,leaveToClass:I=`${n}-leave-to`}=t,H=dy(s),f=H&&H[0],_=H&&H[1],{onBeforeEnter:k,onEnter:T,onEnterCancelled:m,onLeave:a,onLeaveCancelled:l,onBeforeAppear:d=k,onAppear:p=T,onAppearCancelled:E=m}=e,A=(F,V,Q)=>{ni(F,V?g:c),ni(F,V?h:o),Q&&Q()},P=(F,V)=>{F._isLeaving=!1,ni(F,v),ni(F,I),ni(F,b),V&&V()},j=F=>(V,Q)=>{const ie=F?p:T,oe=()=>A(V,F,Q);ti(ie,[V,oe]),Zu(()=>{ni(V,F?u:r),wn(V,F?g:c),Ju(ie)||ed(V,i,f,oe)})};return Ge(e,{onBeforeEnter(F){ti(k,[F]),wn(F,r),wn(F,o)},onBeforeAppear(F){ti(d,[F]),wn(F,u),wn(F,h)},onEnter:j(!1),onAppear:j(!0),onLeave(F,V){F._isLeaving=!0;const Q=()=>P(F,V);wn(F,v),py(),wn(F,b),Zu(()=>{F._isLeaving&&(ni(F,v),wn(F,I),Ju(a)||ed(F,i,_,Q))}),ti(a,[F,Q])},onEnterCancelled(F){A(F,!1),ti(m,[F])},onAppearCancelled(F){A(F,!0),ti(E,[F])},onLeaveCancelled(F){P(F),ti(l,[F])}})}function dy(t){if(t==null)return null;if(De(t))return[ka(t.enter),ka(t.leave)];{const e=ka(t);return[e,e]}}function ka(t){return Vm(t)}function wn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function ni(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Zu(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let hy=0;function ed(t,e,n,i){const s=t._endId=++hy,r=()=>{s===t._endId&&i()};if(n)return setTimeout(r,n);const{type:o,timeout:c,propCount:u}=fy(t,e);if(!o)return i();const h=o+"end";let g=0;const v=()=>{t.removeEventListener(h,b),r()},b=I=>{I.target===t&&++g>=u&&v()};setTimeout(()=>{g<u&&v()},c+1),t.addEventListener(h,b)}function fy(t,e){const n=window.getComputedStyle(t),i=H=>(n[H]||"").split(", "),s=i(`${bn}Delay`),r=i(`${bn}Duration`),o=td(s,r),c=i(`${Is}Delay`),u=i(`${Is}Duration`),h=td(c,u);let g=null,v=0,b=0;e===bn?o>0&&(g=bn,v=o,b=r.length):e===Is?h>0&&(g=Is,v=h,b=u.length):(v=Math.max(o,h),g=v>0?o>h?bn:Is:null,b=g?g===bn?r.length:u.length:0);const I=g===bn&&/\b(transform|all)(,|$)/.test(i(`${bn}Property`).toString());return{type:g,timeout:v,propCount:b,hasTransform:I}}function td(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>nd(n)+nd(t[i])))}function nd(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function py(){return document.body.offsetHeight}const Vn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ce(e)?n=>Qr(e,n):e};function gy(t){t.target.composing=!0}function id(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const s1={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t._assign=Vn(s);const r=i||s.props&&s.props.type==="number";an(t,e?"change":"input",o=>{if(o.target.composing)return;let c=t.value;n&&(c=c.trim()),r&&(c=oo(c)),t._assign(c)}),n&&an(t,"change",()=>{t.value=t.value.trim()}),e||(an(t,"compositionstart",gy),an(t,"compositionend",id),an(t,"change",id))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:s}},r){if(t._assign=Vn(r),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(s||t.type==="number")&&oo(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},r1={deep:!0,created(t,e,n){t._assign=Vn(n),an(t,"change",()=>{const i=t._modelValue,s=Zi(t),r=t.checked,o=t._assign;if(ce(i)){const c=Ul(i,s),u=c!==-1;if(r&&!u)o(i.concat(s));else if(!r&&u){const h=[...i];h.splice(c,1),o(h)}}else if(hs(i)){const c=new Set(i);r?c.add(s):c.delete(s),o(c)}else o(Nf(t,r))})},mounted:sd,beforeUpdate(t,e,n){t._assign=Vn(n),sd(t,e,n)}};function sd(t,{value:e,oldValue:n},i){t._modelValue=e,ce(e)?t.checked=Ul(e,i.props.value)>-1:hs(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=mi(e,Nf(t,!0)))}const o1={created(t,{value:e},n){t.checked=mi(e,n.props.value),t._assign=Vn(n),an(t,"change",()=>{t._assign(Zi(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t._assign=Vn(i),e!==n&&(t.checked=mi(e,i.props.value))}},a1={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const s=hs(e);an(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?oo(Zi(o)):Zi(o));t._assign(t.multiple?s?new Set(r):r:r[0])}),t._assign=Vn(i)},mounted(t,{value:e}){rd(t,e)},beforeUpdate(t,e,n){t._assign=Vn(n)},updated(t,{value:e}){rd(t,e)}};function rd(t,e){const n=t.multiple;if(!(n&&!ce(e)&&!hs(e))){for(let i=0,s=t.options.length;i<s;i++){const r=t.options[i],o=Zi(r);if(n)ce(e)?r.selected=Ul(e,o)>-1:r.selected=e.has(o);else if(mi(Zi(r),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Zi(t){return"_value"in t?t._value:t.value}function Nf(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const my=["ctrl","shift","alt","meta"],vy={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>my.some(n=>t[`${n}Key`]&&!e.includes(n))},cl=(t,e)=>(n,...i)=>{for(let s=0;s<e.length;s++){const r=vy[e[s]];if(r&&r(n,e))return}return t(n,...i)},_y={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},yy=(t,e)=>n=>{if(!("key"in n))return;const i=ki(n.key);if(e.some(s=>s===i||_y[s]===i))return t(n)},by={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ts(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Ts(t,!0),i.enter(t)):i.leave(t,()=>{Ts(t,!1)}):Ts(t,e))},beforeUnmount(t,{value:e}){Ts(t,e)}};function Ts(t,e){t.style.display=e?t._vod:"none"}const wy=Ge({patchProp:ay},G_);let od;function Ey(){return od||(od=S_(wy))}const Cy=(...t)=>{const e=Ey().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=ky(i);if(!s)return;const r=e._component;!ge(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function ky(t){return Ke(t)?document.querySelector(t):t}function Iy(){return $f().__VUE_DEVTOOLS_GLOBAL_HOOK__}function $f(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Ty=typeof Proxy=="function",Sy="devtools-plugin:setup",Oy="plugin:settings:set";let Li,ul;function Ay(){var t;return Li!==void 0||(typeof window<"u"&&window.performance?(Li=!0,ul=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(Li=!0,ul=global.perf_hooks.performance):Li=!1),Li}function Ry(){return Ay()?ul.now():Date.now()}class My{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const i={};if(e.settings)for(const o in e.settings){const c=e.settings[o];i[o]=c.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let r=Object.assign({},i);try{const o=localStorage.getItem(s),c=JSON.parse(o);Object.assign(r,c)}catch{}this.fallbacks={getSettings(){return r},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}r=o},now(){return Ry()}},n&&n.on(Oy,(o,c)=>{o===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(o,c)=>this.target?this.target.on[c]:(...u)=>{this.onQueue.push({method:c,args:u})}}),this.proxiedTarget=new Proxy({},{get:(o,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...u)=>(this.targetQueue.push({method:c,args:u,resolve:()=>{}}),this.fallbacks[c](...u)):(...u)=>new Promise(h=>{this.targetQueue.push({method:c,args:u,resolve:h})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function xy(t,e){const n=t,i=$f(),s=Iy(),r=Ty&&n.enableEarlyProxy;if(s&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!r))s.emit(Sy,t,e);else{const o=r?new My(n,s):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Bf="store";function gs(t){return t===void 0&&(t=null),Ct(t!==null?t:Bf)}function ms(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function Py(t){return t!==null&&typeof t=="object"}function Dy(t){return t&&typeof t.then=="function"}function Ly(t,e){return function(){return t(e)}}function Ff(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function Hf(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;ea(t,n,[],t._modules.root,!0),lc(t,n,e)}function lc(t,e,n){var i=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var r=t._wrappedGetters,o={},c={},u=Jm(!0);u.run(function(){ms(r,function(h,g){o[g]=Ly(h,t),c[g]=Pe(function(){return o[g]()}),Object.defineProperty(t.getters,g,{get:function(){return c[g].value},enumerable:!0})})}),t._state=Ii({data:e}),t._scope=u,t.strict&&Hy(t),i&&n&&t._withCommit(function(){i.data=null}),s&&s.stop()}function ea(t,e,n,i,s){var r=!n.length,o=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=i),!r&&!s){var c=cc(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit(function(){c[u]=i.state})}var h=i.context=Ny(t,o,n);i.forEachMutation(function(g,v){var b=o+v;$y(t,b,g,h)}),i.forEachAction(function(g,v){var b=g.root?v:o+v,I=g.handler||g;By(t,b,I,h)}),i.forEachGetter(function(g,v){var b=o+v;Fy(t,b,g,h)}),i.forEachChild(function(g,v){ea(t,e,n.concat(v),g,s)})}function Ny(t,e,n){var i=e==="",s={dispatch:i?t.dispatch:function(r,o,c){var u=go(r,o,c),h=u.payload,g=u.options,v=u.type;return(!g||!g.root)&&(v=e+v),t.dispatch(v,h)},commit:i?t.commit:function(r,o,c){var u=go(r,o,c),h=u.payload,g=u.options,v=u.type;(!g||!g.root)&&(v=e+v),t.commit(v,h,g)}};return Object.defineProperties(s,{getters:{get:i?function(){return t.getters}:function(){return Wf(t,e)}},state:{get:function(){return cc(t.state,n)}}}),s}function Wf(t,e){if(!t._makeLocalGettersCache[e]){var n={},i=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,i)===e){var r=s.slice(i);Object.defineProperty(n,r,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function $y(t,e,n,i){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(o){n.call(t,i.state,o)})}function By(t,e,n,i){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(o){var c=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},o);return Dy(c)||(c=Promise.resolve(c)),t._devtoolHook?c.catch(function(u){throw t._devtoolHook.emit("vuex:error",u),u}):c})}function Fy(t,e,n,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(r){return n(i.state,i.getters,r.state,r.getters)})}function Hy(t){Et(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function cc(t,e){return e.reduce(function(n,i){return n[i]},t)}function go(t,e,n){return Py(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var Wy="vuex bindings",ad="vuex:mutations",Ia="vuex:actions",Ni="vuex",Uy=0;function jy(t,e){xy({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Wy]},function(n){n.addTimelineLayer({id:ad,label:"Vuex Mutations",color:ld}),n.addTimelineLayer({id:Ia,label:"Vuex Actions",color:ld}),n.addInspector({id:Ni,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(i){if(i.app===t&&i.inspectorId===Ni)if(i.filter){var s=[];qf(s,e._modules.root,i.filter,""),i.rootNodes=s}else i.rootNodes=[Vf(e._modules.root,"")]}),n.on.getInspectorState(function(i){if(i.app===t&&i.inspectorId===Ni){var s=i.nodeId;Wf(e,s),i.state=zy(Gy(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(i){if(i.app===t&&i.inspectorId===Ni){var s=i.nodeId,r=i.path;s!=="root"&&(r=s.split("/").filter(Boolean).concat(r)),e._withCommit(function(){i.set(e._state.data,r,i.state.value)})}}),e.subscribe(function(i,s){var r={};i.payload&&(r.payload=i.payload),r.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Ni),n.sendInspectorState(Ni),n.addTimelineEvent({layerId:ad,event:{time:Date.now(),title:i.type,data:r}})}),e.subscribeAction({before:function(i,s){var r={};i.payload&&(r.payload=i.payload),i._id=Uy++,i._time=Date.now(),r.state=s,n.addTimelineEvent({layerId:Ia,event:{time:i._time,title:i.type,groupId:i._id,subtitle:"start",data:r}})},after:function(i,s){var r={},o=Date.now()-i._time;r.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},i.payload&&(r.payload=i.payload),r.state=s,n.addTimelineEvent({layerId:Ia,event:{time:Date.now(),title:i.type,groupId:i._id,subtitle:"end",data:r}})}})})}var ld=8702998,Vy=6710886,qy=16777215,Uf={label:"namespaced",textColor:qy,backgroundColor:Vy};function jf(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function Vf(t,e){return{id:e||"root",label:jf(e),tags:t.namespaced?[Uf]:[],children:Object.keys(t._children).map(function(n){return Vf(t._children[n],e+n+"/")})}}function qf(t,e,n,i){i.includes(n)&&t.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:e.namespaced?[Uf]:[]}),Object.keys(e._children).forEach(function(s){qf(t,e._children[s],n,i+s+"/")})}function zy(t,e,n){e=n==="root"?e:e[n];var i=Object.keys(e),s={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(i.length){var r=Ky(e);s.getters=Object.keys(r).map(function(o){return{key:o.endsWith("/")?jf(o):o,editable:!1,value:dl(function(){return r[o]})}})}return s}function Ky(t){var e={};return Object.keys(t).forEach(function(n){var i=n.split("/");if(i.length>1){var s=e,r=i.pop();i.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[r]=dl(function(){return t[n]})}else e[n]=dl(function(){return t[n]})}),e}function Gy(t,e){var n=e.split("/").filter(function(i){return i});return n.reduce(function(i,s,r){var o=i[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+e+'".');return r===n.length-1?o:o._children},e==="root"?t:t.root._children)}function dl(t){try{return t()}catch(e){return e}}var jt=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var i=e.state;this.state=(typeof i=="function"?i():i)||{}},zf={namespaced:{configurable:!0}};zf.namespaced.get=function(){return!!this._rawModule.namespaced};jt.prototype.addChild=function(e,n){this._children[e]=n};jt.prototype.removeChild=function(e){delete this._children[e]};jt.prototype.getChild=function(e){return this._children[e]};jt.prototype.hasChild=function(e){return e in this._children};jt.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};jt.prototype.forEachChild=function(e){ms(this._children,e)};jt.prototype.forEachGetter=function(e){this._rawModule.getters&&ms(this._rawModule.getters,e)};jt.prototype.forEachAction=function(e){this._rawModule.actions&&ms(this._rawModule.actions,e)};jt.prototype.forEachMutation=function(e){this._rawModule.mutations&&ms(this._rawModule.mutations,e)};Object.defineProperties(jt.prototype,zf);var Si=function(e){this.register([],e,!1)};Si.prototype.get=function(e){return e.reduce(function(n,i){return n.getChild(i)},this.root)};Si.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(i,s){return n=n.getChild(s),i+(n.namespaced?s+"/":"")},"")};Si.prototype.update=function(e){Kf([],this.root,e)};Si.prototype.register=function(e,n,i){var s=this;i===void 0&&(i=!0);var r=new jt(n,i);if(e.length===0)this.root=r;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],r)}n.modules&&ms(n.modules,function(c,u){s.register(e.concat(u),c,i)})};Si.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),i=e[e.length-1],s=n.getChild(i);s&&s.runtime&&n.removeChild(i)};Si.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),i=e[e.length-1];return n?n.hasChild(i):!1};function Kf(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return;Kf(t.concat(i),e.getChild(i),n.modules[i])}}function Yy(t){return new vt(t)}var vt=function(e){var n=this;e===void 0&&(e={});var i=e.plugins;i===void 0&&(i=[]);var s=e.strict;s===void 0&&(s=!1);var r=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Si(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=r;var o=this,c=this,u=c.dispatch,h=c.commit;this.dispatch=function(b,I){return u.call(o,b,I)},this.commit=function(b,I,H){return h.call(o,b,I,H)},this.strict=s;var g=this._modules.root.state;ea(this,g,[],this._modules.root),lc(this,g),i.forEach(function(v){return v(n)})},uc={state:{configurable:!0}};vt.prototype.install=function(e,n){e.provide(n||Bf,this),e.config.globalProperties.$store=this;var i=this._devtools!==void 0?this._devtools:!1;i&&jy(e,this)};uc.state.get=function(){return this._state.data};uc.state.set=function(t){};vt.prototype.commit=function(e,n,i){var s=this,r=go(e,n,i),o=r.type,c=r.payload,u={type:o,payload:c},h=this._mutations[o];h&&(this._withCommit(function(){h.forEach(function(v){v(c)})}),this._subscribers.slice().forEach(function(g){return g(u,s.state)}))};vt.prototype.dispatch=function(e,n){var i=this,s=go(e,n),r=s.type,o=s.payload,c={type:r,payload:o},u=this._actions[r];if(u){try{this._actionSubscribers.slice().filter(function(g){return g.before}).forEach(function(g){return g.before(c,i.state)})}catch{}var h=u.length>1?Promise.all(u.map(function(g){return g(o)})):u[0](o);return new Promise(function(g,v){h.then(function(b){try{i._actionSubscribers.filter(function(I){return I.after}).forEach(function(I){return I.after(c,i.state)})}catch{}g(b)},function(b){try{i._actionSubscribers.filter(function(I){return I.error}).forEach(function(I){return I.error(c,i.state,b)})}catch{}v(b)})})}};vt.prototype.subscribe=function(e,n){return Ff(e,this._subscribers,n)};vt.prototype.subscribeAction=function(e,n){var i=typeof e=="function"?{before:e}:e;return Ff(i,this._actionSubscribers,n)};vt.prototype.watch=function(e,n,i){var s=this;return Et(function(){return e(s.state,s.getters)},n,Object.assign({},i))};vt.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};vt.prototype.registerModule=function(e,n,i){i===void 0&&(i={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),ea(this,this.state,e,this._modules.get(e),i.preserveState),lc(this,this.state)};vt.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var i=cc(n.state,e.slice(0,-1));delete i[e[e.length-1]]}),Hf(this)};vt.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};vt.prototype.hotUpdate=function(e){this._modules.update(e),Hf(this,!0)};vt.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(vt.prototype,uc);function Qy(t,e="date"){const n={},i=gs(),s=Pe(()=>i.getters.screenWidth);try{e.includes("date")&&(n.day="2-digit",n.month="long",s.value<600&&(n.month="2-digit"),n.year="2-digit"),e.includes("datetime")&&(n.second="2-digit",n.minute="2-digit",n.hour="2-digit");const r=new Date(t),o=i.getters["requests/clientInfo"].locale||"uk-UA";return new Intl.DateTimeFormat(o,n).format(r)}catch(r){console.log(r)}}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Bi=typeof window<"u";function Xy(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ae=Object.assign;function Ta(t,e){const n={};for(const i in e){const s=e[i];n[i]=Ht(s)?s.map(t):t(s)}return n}const Us=()=>{},Ht=Array.isArray,Jy=/\/$/,Zy=t=>t.replace(Jy,"");function Sa(t,e,n="/"){let i,s={},r="",o="";const c=e.indexOf("#");let u=e.indexOf("?");return c<u&&c>=0&&(u=-1),u>-1&&(i=e.slice(0,u),r=e.slice(u+1,c>-1?c:e.length),s=t(r)),c>-1&&(i=i||e.slice(0,c),o=e.slice(c,e.length)),i=ib(i??e,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:o}}function eb(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function cd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function tb(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&es(e.matched[i],n.matched[s])&&Gf(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function es(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Gf(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!nb(t[n],e[n]))return!1;return!0}function nb(t,e){return Ht(t)?ud(t,e):Ht(e)?ud(e,t):t===e}function ud(t,e){return Ht(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function ib(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,c;for(o=0;o<i.length;o++)if(c=i[o],c!==".")if(c==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var sr;(function(t){t.pop="pop",t.push="push"})(sr||(sr={}));var js;(function(t){t.back="back",t.forward="forward",t.unknown=""})(js||(js={}));function sb(t){if(!t)if(Bi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Zy(t)}const rb=/^[^#]+#/;function ob(t,e){return t.replace(rb,"#")+e}function ab(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const ta=()=>({left:window.pageXOffset,top:window.pageYOffset});function lb(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=ab(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function dd(t,e){return(history.state?history.state.position-e:-1)+t}const hl=new Map;function cb(t,e){hl.set(t,e)}function ub(t){const e=hl.get(t);return hl.delete(t),e}let db=()=>location.protocol+"//"+location.host;function Yf(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let c=s.includes(t.slice(r))?t.slice(r).length:1,u=s.slice(c);return u[0]!=="/"&&(u="/"+u),cd(u,"")}return cd(n,t)+i+s}function hb(t,e,n,i){let s=[],r=[],o=null;const c=({state:b})=>{const I=Yf(t,location),H=n.value,f=e.value;let _=0;if(b){if(n.value=I,e.value=b,o&&o===H){o=null;return}_=f?b.position-f.position:0}else i(I);s.forEach(k=>{k(n.value,H,{delta:_,type:sr.pop,direction:_?_>0?js.forward:js.back:js.unknown})})};function u(){o=n.value}function h(b){s.push(b);const I=()=>{const H=s.indexOf(b);H>-1&&s.splice(H,1)};return r.push(I),I}function g(){const{history:b}=window;b.state&&b.replaceState(Ae({},b.state,{scroll:ta()}),"")}function v(){for(const b of r)b();r=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:u,listen:h,destroy:v}}function hd(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?ta():null}}function fb(t){const{history:e,location:n}=window,i={value:Yf(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(u,h,g){const v=t.indexOf("#"),b=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+u:db()+t+u;try{e[g?"replaceState":"pushState"](h,"",b),s.value=h}catch(I){console.error(I),n[g?"replace":"assign"](b)}}function o(u,h){const g=Ae({},e.state,hd(s.value.back,u,s.value.forward,!0),h,{position:s.value.position});r(u,g,!0),i.value=u}function c(u,h){const g=Ae({},s.value,e.state,{forward:u,scroll:ta()});r(g.current,g,!0);const v=Ae({},hd(i.value,u,null),{position:g.position+1},h);r(u,v,!1),i.value=u}return{location:i,state:s,push:c,replace:o}}function pb(t){t=sb(t);const e=fb(t),n=hb(t,e.state,e.location,e.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=Ae({location:"",base:t,go:i,createHref:ob.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function gb(t){return typeof t=="string"||t&&typeof t=="object"}function Qf(t){return typeof t=="string"||typeof t=="symbol"}const En={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Xf=Symbol("");var fd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(fd||(fd={}));function ts(t,e){return Ae(new Error,{type:t,[Xf]:!0},e)}function sn(t,e){return t instanceof Error&&Xf in t&&(e==null||!!(t.type&e))}const pd="[^/]+?",mb={sensitive:!1,strict:!1,start:!0,end:!0},vb=/[.+*?^${}()[\]/\\]/g;function _b(t,e){const n=Ae({},mb,e),i=[];let s=n.start?"^":"";const r=[];for(const h of t){const g=h.length?[]:[90];n.strict&&!h.length&&(s+="/");for(let v=0;v<h.length;v++){const b=h[v];let I=40+(n.sensitive?.25:0);if(b.type===0)v||(s+="/"),s+=b.value.replace(vb,"\\$&"),I+=40;else if(b.type===1){const{value:H,repeatable:f,optional:_,regexp:k}=b;r.push({name:H,repeatable:f,optional:_});const T=k||pd;if(T!==pd){I+=10;try{new RegExp(`(${T})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${H}" (${T}): `+a.message)}}let m=f?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;v||(m=_&&h.length<2?`(?:/${m})`:"/"+m),_&&(m+="?"),s+=m,I+=20,_&&(I+=-8),f&&(I+=-20),T===".*"&&(I+=-50)}g.push(I)}i.push(g)}if(n.strict&&n.end){const h=i.length-1;i[h][i[h].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function c(h){const g=h.match(o),v={};if(!g)return null;for(let b=1;b<g.length;b++){const I=g[b]||"",H=r[b-1];v[H.name]=I&&H.repeatable?I.split("/"):I}return v}function u(h){let g="",v=!1;for(const b of t){(!v||!g.endsWith("/"))&&(g+="/"),v=!1;for(const I of b)if(I.type===0)g+=I.value;else if(I.type===1){const{value:H,repeatable:f,optional:_}=I,k=H in h?h[H]:"";if(Ht(k)&&!f)throw new Error(`Provided param "${H}" is an array but it is not repeatable (* or + modifiers)`);const T=Ht(k)?k.join("/"):k;if(!T)if(_)b.length<2&&(g.endsWith("/")?g=g.slice(0,-1):v=!0);else throw new Error(`Missing required param "${H}"`);g+=T}}return g||"/"}return{re:o,score:i,keys:r,parse:c,stringify:u}}function yb(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function bb(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=yb(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(gd(i))return 1;if(gd(s))return-1}return s.length-i.length}function gd(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const wb={type:0,value:""},Eb=/[a-zA-Z0-9_]/;function Cb(t){if(!t)return[[]];if(t==="/")return[[wb]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(I){throw new Error(`ERR (${n})/"${h}": ${I}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let c=0,u,h="",g="";function v(){h&&(n===0?r.push({type:0,value:h}):n===1||n===2||n===3?(r.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:h,regexp:g,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),h="")}function b(){h+=u}for(;c<t.length;){if(u=t[c++],u==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:u==="/"?(h&&v(),o()):u===":"?(v(),n=1):b();break;case 4:b(),n=i;break;case 1:u==="("?n=2:Eb.test(u)?b():(v(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+u:n=3:g+=u;break;case 3:v(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,g="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),v(),o(),s}function kb(t,e,n){const i=_b(Cb(t.path),n),s=Ae(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Ib(t,e){const n=[],i=new Map;e=_d({strict:!1,end:!0,sensitive:!1},e);function s(g){return i.get(g)}function r(g,v,b){const I=!b,H=Tb(g);H.aliasOf=b&&b.record;const f=_d(e,g),_=[H];if("alias"in g){const m=typeof g.alias=="string"?[g.alias]:g.alias;for(const a of m)_.push(Ae({},H,{components:b?b.record.components:H.components,path:a,aliasOf:b?b.record:H}))}let k,T;for(const m of _){const{path:a}=m;if(v&&a[0]!=="/"){const l=v.record.path,d=l[l.length-1]==="/"?"":"/";m.path=v.record.path+(a&&d+a)}if(k=kb(m,v,f),b?b.alias.push(k):(T=T||k,T!==k&&T.alias.push(k),I&&g.name&&!vd(k)&&o(g.name)),H.children){const l=H.children;for(let d=0;d<l.length;d++)r(l[d],k,b&&b.children[d])}b=b||k,(k.record.components&&Object.keys(k.record.components).length||k.record.name||k.record.redirect)&&u(k)}return T?()=>{o(T)}:Us}function o(g){if(Qf(g)){const v=i.get(g);v&&(i.delete(g),n.splice(n.indexOf(v),1),v.children.forEach(o),v.alias.forEach(o))}else{const v=n.indexOf(g);v>-1&&(n.splice(v,1),g.record.name&&i.delete(g.record.name),g.children.forEach(o),g.alias.forEach(o))}}function c(){return n}function u(g){let v=0;for(;v<n.length&&bb(g,n[v])>=0&&(g.record.path!==n[v].record.path||!Jf(g,n[v]));)v++;n.splice(v,0,g),g.record.name&&!vd(g)&&i.set(g.record.name,g)}function h(g,v){let b,I={},H,f;if("name"in g&&g.name){if(b=i.get(g.name),!b)throw ts(1,{location:g});f=b.record.name,I=Ae(md(v.params,b.keys.filter(T=>!T.optional).map(T=>T.name)),g.params&&md(g.params,b.keys.map(T=>T.name))),H=b.stringify(I)}else if("path"in g)H=g.path,b=n.find(T=>T.re.test(H)),b&&(I=b.parse(H),f=b.record.name);else{if(b=v.name?i.get(v.name):n.find(T=>T.re.test(v.path)),!b)throw ts(1,{location:g,currentLocation:v});f=b.record.name,I=Ae({},v.params,g.params),H=b.stringify(I)}const _=[];let k=b;for(;k;)_.unshift(k.record),k=k.parent;return{name:f,path:H,params:I,matched:_,meta:Ob(_)}}return t.forEach(g=>r(g)),{addRoute:r,resolve:h,removeRoute:o,getRoutes:c,getRecordMatcher:s}}function md(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function Tb(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Sb(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Sb(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="boolean"?n:n[i];return e}function vd(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ob(t){return t.reduce((e,n)=>Ae(e,n.meta),{})}function _d(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function Jf(t,e){return e.children.some(n=>n===t||Jf(t,n))}const Zf=/#/g,Ab=/&/g,Rb=/\//g,Mb=/=/g,xb=/\?/g,ep=/\+/g,Pb=/%5B/g,Db=/%5D/g,tp=/%5E/g,Lb=/%60/g,np=/%7B/g,Nb=/%7C/g,ip=/%7D/g,$b=/%20/g;function dc(t){return encodeURI(""+t).replace(Nb,"|").replace(Pb,"[").replace(Db,"]")}function Bb(t){return dc(t).replace(np,"{").replace(ip,"}").replace(tp,"^")}function fl(t){return dc(t).replace(ep,"%2B").replace($b,"+").replace(Zf,"%23").replace(Ab,"%26").replace(Lb,"`").replace(np,"{").replace(ip,"}").replace(tp,"^")}function Fb(t){return fl(t).replace(Mb,"%3D")}function Hb(t){return dc(t).replace(Zf,"%23").replace(xb,"%3F")}function Wb(t){return t==null?"":Hb(t).replace(Rb,"%2F")}function mo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Ub(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(ep," "),o=r.indexOf("="),c=mo(o<0?r:r.slice(0,o)),u=o<0?null:mo(r.slice(o+1));if(c in e){let h=e[c];Ht(h)||(h=e[c]=[h]),h.push(u)}else e[c]=u}return e}function yd(t){let e="";for(let n in t){const i=t[n];if(n=Fb(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Ht(i)?i.map(r=>r&&fl(r)):[i&&fl(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function jb(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Ht(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const Vb=Symbol(""),bd=Symbol(""),na=Symbol(""),hc=Symbol(""),pl=Symbol("");function Ss(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function In(t,e,n,i,s){const r=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,c)=>{const u=v=>{v===!1?c(ts(4,{from:n,to:e})):v instanceof Error?c(v):gb(v)?c(ts(2,{from:e,to:v})):(r&&i.enterCallbacks[s]===r&&typeof v=="function"&&r.push(v),o())},h=t.call(i&&i.instances[s],e,n,u);let g=Promise.resolve(h);t.length<3&&(g=g.then(u)),g.catch(v=>c(v))})}function Oa(t,e,n,i){const s=[];for(const r of t)for(const o in r.components){let c=r.components[o];if(!(e!=="beforeRouteEnter"&&!r.instances[o]))if(qb(c)){const h=(c.__vccOpts||c)[e];h&&s.push(In(h,n,i,r,o))}else{let u=c();s.push(()=>u.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const g=Xy(h)?h.default:h;r.components[o]=g;const b=(g.__vccOpts||g)[e];return b&&In(b,n,i,r,o)()}))}}return s}function qb(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function wd(t){const e=Ct(na),n=Ct(hc),i=Pe(()=>e.resolve(pt(t.to))),s=Pe(()=>{const{matched:u}=i.value,{length:h}=u,g=u[h-1],v=n.matched;if(!g||!v.length)return-1;const b=v.findIndex(es.bind(null,g));if(b>-1)return b;const I=Ed(u[h-2]);return h>1&&Ed(g)===I&&v[v.length-1].path!==I?v.findIndex(es.bind(null,u[h-2])):b}),r=Pe(()=>s.value>-1&&Yb(n.params,i.value.params)),o=Pe(()=>s.value>-1&&s.value===n.matched.length-1&&Gf(n.params,i.value.params));function c(u={}){return Gb(u)?e[pt(t.replace)?"replace":"push"](pt(t.to)).catch(Us):Promise.resolve()}return{route:i,href:Pe(()=>i.value.href),isActive:r,isExactActive:o,navigate:c}}const zb=vf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:wd,setup(t,{slots:e}){const n=Ii(wd(t)),{options:i}=Ct(na),s=Pe(()=>({[Cd(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Cd(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:oc("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),Kb=zb;function Gb(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Yb(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Ht(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function Ed(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Cd=(t,e,n)=>t??e??n,Qb=vf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Ct(pl),s=Pe(()=>t.route||i.value),r=Ct(bd,0),o=Pe(()=>{let h=pt(r);const{matched:g}=s.value;let v;for(;(v=g[h])&&!v.components;)h++;return h}),c=Pe(()=>s.value.matched[o.value]);Xr(bd,Pe(()=>o.value+1)),Xr(Vb,c),Xr(pl,s);const u=yt();return Et(()=>[u.value,c.value,t.name],([h,g,v],[b,I,H])=>{g&&(g.instances[v]=h,I&&I!==g&&h&&h===b&&(g.leaveGuards.size||(g.leaveGuards=I.leaveGuards),g.updateGuards.size||(g.updateGuards=I.updateGuards))),h&&g&&(!I||!es(g,I)||!b)&&(g.enterCallbacks[v]||[]).forEach(f=>f(h))},{flush:"post"}),()=>{const h=s.value,g=t.name,v=c.value,b=v&&v.components[g];if(!b)return kd(n.default,{Component:b,route:h});const I=v.props[g],H=I?I===!0?h.params:typeof I=="function"?I(h):I:null,_=oc(b,Ae({},H,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(v.instances[g]=null)},ref:u}));return kd(n.default,{Component:_,route:h})||_}}});function kd(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Xb=Qb;function Jb(t){const e=Ib(t.routes,t),n=t.parseQuery||Ub,i=t.stringifyQuery||yd,s=t.history,r=Ss(),o=Ss(),c=Ss(),u=Av(En);let h=En;Bi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=Ta.bind(null,z=>""+z),v=Ta.bind(null,Wb),b=Ta.bind(null,mo);function I(z,K){let Z,se;return Qf(z)?(Z=e.getRecordMatcher(z),se=K):se=z,e.addRoute(se,Z)}function H(z){const K=e.getRecordMatcher(z);K&&e.removeRoute(K)}function f(){return e.getRoutes().map(z=>z.record)}function _(z){return!!e.getRecordMatcher(z)}function k(z,K){if(K=Ae({},K||u.value),typeof z=="string"){const B=Sa(n,z,K.path),w=e.resolve({path:B.path},K),O=s.createHref(B.fullPath);return Ae(B,w,{params:b(w.params),hash:mo(B.hash),redirectedFrom:void 0,href:O})}let Z;if("path"in z)Z=Ae({},z,{path:Sa(n,z.path,K.path).path});else{const B=Ae({},z.params);for(const w in B)B[w]==null&&delete B[w];Z=Ae({},z,{params:v(B)}),K.params=v(K.params)}const se=e.resolve(Z,K),pe=z.hash||"";se.params=g(b(se.params));const S=eb(i,Ae({},z,{hash:Bb(pe),path:se.path})),R=s.createHref(S);return Ae({fullPath:S,hash:pe,query:i===yd?jb(z.query):z.query||{}},se,{redirectedFrom:void 0,href:R})}function T(z){return typeof z=="string"?Sa(n,z,u.value.path):Ae({},z)}function m(z,K){if(h!==z)return ts(8,{from:K,to:z})}function a(z){return p(z)}function l(z){return a(Ae(T(z),{replace:!0}))}function d(z){const K=z.matched[z.matched.length-1];if(K&&K.redirect){const{redirect:Z}=K;let se=typeof Z=="function"?Z(z):Z;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=T(se):{path:se},se.params={}),Ae({query:z.query,hash:z.hash,params:"path"in se?{}:z.params},se)}}function p(z,K){const Z=h=k(z),se=u.value,pe=z.state,S=z.force,R=z.replace===!0,B=d(Z);if(B)return p(Ae(T(B),{state:typeof B=="object"?Ae({},pe,B.state):pe,force:S,replace:R}),K||Z);const w=Z;w.redirectedFrom=K;let O;return!S&&tb(i,se,Z)&&(O=ts(16,{to:w,from:se}),ae(se,se,!0,!1)),(O?Promise.resolve(O):P(w,se)).catch(x=>sn(x)?sn(x,2)?x:ue(x):ee(x,w,se)).then(x=>{if(x){if(sn(x,2))return p(Ae({replace:R},T(x.to),{state:typeof x.to=="object"?Ae({},pe,x.to.state):pe,force:S}),K||w)}else x=F(w,se,!0,R,pe);return j(w,se,x),x})}function E(z,K){const Z=m(z,K);return Z?Promise.reject(Z):Promise.resolve()}function A(z){const K=Se.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(z):z()}function P(z,K){let Z;const[se,pe,S]=Zb(z,K);Z=Oa(se.reverse(),"beforeRouteLeave",z,K);for(const B of se)B.leaveGuards.forEach(w=>{Z.push(In(w,z,K))});const R=E.bind(null,z,K);return Z.push(R),ke(Z).then(()=>{Z=[];for(const B of r.list())Z.push(In(B,z,K));return Z.push(R),ke(Z)}).then(()=>{Z=Oa(pe,"beforeRouteUpdate",z,K);for(const B of pe)B.updateGuards.forEach(w=>{Z.push(In(w,z,K))});return Z.push(R),ke(Z)}).then(()=>{Z=[];for(const B of z.matched)if(B.beforeEnter&&!K.matched.includes(B))if(Ht(B.beforeEnter))for(const w of B.beforeEnter)Z.push(In(w,z,K));else Z.push(In(B.beforeEnter,z,K));return Z.push(R),ke(Z)}).then(()=>(z.matched.forEach(B=>B.enterCallbacks={}),Z=Oa(S,"beforeRouteEnter",z,K),Z.push(R),ke(Z))).then(()=>{Z=[];for(const B of o.list())Z.push(In(B,z,K));return Z.push(R),ke(Z)}).catch(B=>sn(B,8)?B:Promise.reject(B))}function j(z,K,Z){for(const se of c.list())A(()=>se(z,K,Z))}function F(z,K,Z,se,pe){const S=m(z,K);if(S)return S;const R=K===En,B=Bi?history.state:{};Z&&(se||R?s.replace(z.fullPath,Ae({scroll:R&&B&&B.scroll},pe)):s.push(z.fullPath,pe)),u.value=z,ae(z,K,Z,R),ue()}let V;function Q(){V||(V=s.listen((z,K,Z)=>{if(!He.listening)return;const se=k(z),pe=d(se);if(pe){p(Ae(pe,{replace:!0}),se).catch(Us);return}h=se;const S=u.value;Bi&&cb(dd(S.fullPath,Z.delta),ta()),P(se,S).catch(R=>sn(R,12)?R:sn(R,2)?(p(R.to,se).then(B=>{sn(B,20)&&!Z.delta&&Z.type===sr.pop&&s.go(-1,!1)}).catch(Us),Promise.reject()):(Z.delta&&s.go(-Z.delta,!1),ee(R,se,S))).then(R=>{R=R||F(se,S,!1),R&&(Z.delta&&!sn(R,8)?s.go(-Z.delta,!1):Z.type===sr.pop&&sn(R,20)&&s.go(-1,!1)),j(se,S,R)}).catch(Us)}))}let ie=Ss(),oe=Ss(),J;function ee(z,K,Z){ue(z);const se=oe.list();return se.length?se.forEach(pe=>pe(z,K,Z)):console.error(z),Promise.reject(z)}function le(){return J&&u.value!==En?Promise.resolve():new Promise((z,K)=>{ie.add([z,K])})}function ue(z){return J||(J=!z,Q(),ie.list().forEach(([K,Z])=>z?Z(z):K()),ie.reset()),z}function ae(z,K,Z,se){const{scrollBehavior:pe}=t;if(!Bi||!pe)return Promise.resolve();const S=!Z&&ub(dd(z.fullPath,0))||(se||!Z)&&history.state&&history.state.scroll||null;return Xl().then(()=>pe(z,K,S)).then(R=>R&&lb(R)).catch(R=>ee(R,z,K))}const ve=z=>s.go(z);let he;const Se=new Set,He={currentRoute:u,listening:!0,addRoute:I,removeRoute:H,hasRoute:_,getRoutes:f,resolve:k,options:t,push:a,replace:l,go:ve,back:()=>ve(-1),forward:()=>ve(1),beforeEach:r.add,beforeResolve:o.add,afterEach:c.add,onError:oe.add,isReady:le,install(z){const K=this;z.component("RouterLink",Kb),z.component("RouterView",Xb),z.config.globalProperties.$router=K,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>pt(u)}),Bi&&!he&&u.value===En&&(he=!0,a(s.location).catch(pe=>{}));const Z={};for(const pe in En)Z[pe]=Pe(()=>u.value[pe]);z.provide(na,K),z.provide(hc,Ii(Z)),z.provide(pl,u);const se=z.unmount;Se.add(z),z.unmount=function(){Se.delete(z),Se.size<1&&(h=En,V&&V(),V=null,u.value=En,he=!1,J=!1),se()}}};function ke(z){return z.reduce((K,Z)=>K.then(()=>A(Z)),Promise.resolve())}return He}function Zb(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const c=e.matched[o];c&&(t.matched.find(h=>es(h,c))?i.push(c):n.push(c));const u=t.matched[o];u&&(e.matched.find(h=>es(h,u))||s.push(u))}return[n,i,s]}function sp(){return Ct(na)}function rp(){return Ct(hc)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te=function(t,e){if(!t)throw vs(e)},vs=function(t){return new Error("Firebase Database ("+op.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ew=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],c=t[n++],u=((s&7)<<18|(r&63)<<12|(o&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},fc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,c=o?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,g=r>>2,v=(r&3)<<4|c>>4;let b=(c&15)<<2|h>>6,I=h&63;u||(I=64,o||(b=64)),i.push(n[g],n[v],n[b],n[I])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ap(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ew(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const v=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||c==null||h==null||v==null)throw new tw;const b=r<<2|c>>4;if(i.push(b),h!==64){const I=c<<4&240|h>>2;if(i.push(I),v!==64){const H=h<<6&192|v;i.push(H)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lp=function(t){const e=ap(t);return fc.encodeByteArray(e,!0)},vo=function(t){return lp(t).replace(/\./g,"")},_o=function(t){try{return fc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t){return cp(void 0,t)}function cp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!iw(n)||(t[n]=cp(t[n],e[n]));return t}function iw(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=()=>sw().__FIREBASE_DEFAULTS__,ow=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_o(t[1]);return e&&JSON.parse(e)},pc=()=>{try{return rw()||ow()||aw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},up=t=>{var e,n;return(n=(e=pc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lw=t=>{const e=up(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},dp=()=>{var t;return(t=pc())===null||t===void 0?void 0:t.config},hp=t=>{var e;return(e=pc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[vo(JSON.stringify(n)),vo(JSON.stringify(o)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function uw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fp(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dw(){const t=lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pp(){return op.NODE_ADMIN===!0}function hw(){try{return typeof indexedDB=="object"}catch{return!1}}function fw(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="FirebaseError";class Gn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=pw,Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ir.prototype.create)}}class Ir{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?gw(r,i):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new Gn(s,c,i)}}function gw(t,e){return t.replace(mw,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const mw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t){return JSON.parse(t)}function Qe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=rr(_o(r[0])||""),n=rr(_o(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},vw=function(t){const e=gp(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},_w=function(t){const e=gp(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ns(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function gl(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yo(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function bo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(Id(r)&&Id(o)){if(!bo(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Id(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ns(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function $s(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let v=0;v<16;v++)i[v]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let v=0;v<16;v++)i[v]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let v=16;v<80;v++){const b=i[v-3]^i[v-8]^i[v-14]^i[v-16];i[v]=(b<<1|b>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],c=this.chain_[3],u=this.chain_[4],h,g;for(let v=0;v<80;v++){v<40?v<20?(h=c^r&(o^c),g=1518500249):(h=r^o^c,g=1859775393):v<60?(h=r&o|c&(r|o),g=2400959708):(h=r^o^c,g=3395469782);const b=(s<<5|s>>>27)+h+u+g+i[v]&4294967295;u=c,c=o,o=(r<<30|r>>>2)&4294967295,r=s,s=b}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function bw(t,e){const n=new ww(t,e);return n.subscribe.bind(n)}class ww{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Ew(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=Aa),s.error===void 0&&(s.error=Aa),s.complete===void 0&&(s.complete=Aa);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ew(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Aa(){}function ia(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,te(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},sa=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class vi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new kr;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Tw(e))try{this.getOrInitializeService({instanceIdentifier:ii})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ii){return this.instances.has(e)}getOptions(e=ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);i===c&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Iw(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ii){return this.component?this.component.multipleInstances?e:ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Iw(t){return t===ii?void 0:t}function Tw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const Ow={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Aw=Me.INFO,Rw={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Mw=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=Rw[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mc{constructor(e){this.name=e,this._logLevel=Aw,this._logHandler=Mw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ow[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const xw=(t,e)=>e.some(n=>t instanceof n);let Td,Sd;function Pw(){return Td||(Td=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dw(){return Sd||(Sd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mp=new WeakMap,ml=new WeakMap,vp=new WeakMap,Ra=new WeakMap,vc=new WeakMap;function Lw(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Pn(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mp.set(n,t)}).catch(()=>{}),vc.set(e,t),e}function Nw(t){if(ml.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});ml.set(t,e)}let vl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ml.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $w(t){vl=t(vl)}function Bw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ma(this),e,...n);return vp.set(i,e.sort?e.sort():[e]),Pn(i)}:Dw().includes(t)?function(...e){return t.apply(Ma(this),e),Pn(mp.get(this))}:function(...e){return Pn(t.apply(Ma(this),e))}}function Fw(t){return typeof t=="function"?Bw(t):(t instanceof IDBTransaction&&Nw(t),xw(t,Pw())?new Proxy(t,vl):t)}function Pn(t){if(t instanceof IDBRequest)return Lw(t);if(Ra.has(t))return Ra.get(t);const e=Fw(t);return e!==t&&(Ra.set(t,e),vc.set(e,t)),e}const Ma=t=>vc.get(t);function Hw(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),c=Pn(o);return i&&o.addEventListener("upgradeneeded",u=>{i(Pn(o.result),u.oldVersion,u.newVersion,Pn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const Ww=["get","getKey","getAll","getAllKeys","count"],Uw=["put","add","delete","clear"],xa=new Map;function Od(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xa.get(e))return xa.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Uw.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Ww.includes(n)))return;const r=async function(o,...c){const u=this.transaction(o,s?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&u.done]))[0]};return xa.set(e,r),r}$w(t=>({...t,get:(e,n,i)=>Od(e,n)||t.get(e,n,i),has:(e,n)=>!!Od(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Vw(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Vw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _l="@firebase/app",Ad="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new mc("@firebase/app"),qw="@firebase/app-compat",zw="@firebase/analytics-compat",Kw="@firebase/analytics",Gw="@firebase/app-check-compat",Yw="@firebase/app-check",Qw="@firebase/auth",Xw="@firebase/auth-compat",Jw="@firebase/database",Zw="@firebase/database-compat",eE="@firebase/functions",tE="@firebase/functions-compat",nE="@firebase/installations",iE="@firebase/installations-compat",sE="@firebase/messaging",rE="@firebase/messaging-compat",oE="@firebase/performance",aE="@firebase/performance-compat",lE="@firebase/remote-config",cE="@firebase/remote-config-compat",uE="@firebase/storage",dE="@firebase/storage-compat",hE="@firebase/firestore",fE="@firebase/firestore-compat",pE="firebase",gE="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]",mE={[_l]:"fire-core",[qw]:"fire-core-compat",[Kw]:"fire-analytics",[zw]:"fire-analytics-compat",[Yw]:"fire-app-check",[Gw]:"fire-app-check-compat",[Qw]:"fire-auth",[Xw]:"fire-auth-compat",[Jw]:"fire-rtdb",[Zw]:"fire-rtdb-compat",[eE]:"fire-fn",[tE]:"fire-fn-compat",[nE]:"fire-iid",[iE]:"fire-iid-compat",[sE]:"fire-fcm",[rE]:"fire-fcm-compat",[oE]:"fire-perf",[aE]:"fire-perf-compat",[lE]:"fire-rc",[cE]:"fire-rc-compat",[uE]:"fire-gcs",[dE]:"fire-gcs-compat",[hE]:"fire-fst",[fE]:"fire-fst-compat","fire-js":"fire-js",[pE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new Map,bl=new Map;function vE(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function is(t){const e=t.name;if(bl.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;bl.set(e,t);for(const n of wo.values())vE(n,t);return!0}function _c(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Dn=new Ir("app","Firebase",_E);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=gE;function _p(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:yl,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Dn.create("bad-app-name",{appName:String(s)});if(n||(n=dp()),!n)throw Dn.create("no-options");const r=wo.get(s);if(r){if(bo(n,r.options)&&bo(i,r.config))return r;throw Dn.create("duplicate-app",{appName:s})}const o=new Sw(s);for(const u of bl.values())o.addComponent(u);const c=new yE(n,i,o);return wo.set(s,c),c}function yp(t=yl){const e=wo.get(t);if(!e&&t===yl&&dp())return _p();if(!e)throw Dn.create("no-app",{appName:t});return e}function Ln(t,e,n){var i;let s=(i=mE[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const c=[`Unable to register library "${s}" with version "${e}":`];r&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(c.join(" "));return}is(new vi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="firebase-heartbeat-database",wE=1,or="firebase-heartbeat-store";let Pa=null;function bp(){return Pa||(Pa=Hw(bE,wE,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(or)}}}).catch(t=>{throw Dn.create("idb-open",{originalErrorMessage:t.message})})),Pa}async function EE(t){try{return await(await bp()).transaction(or).objectStore(or).get(wp(t))}catch(e){if(e instanceof Gn)_i.warn(e.message);else{const n=Dn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}async function Rd(t,e){try{const i=(await bp()).transaction(or,"readwrite");await i.objectStore(or).put(e,wp(t)),await i.done}catch(n){if(n instanceof Gn)_i.warn(n.message);else{const i=Dn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(i.message)}}}function wp(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=1024,kE=30*24*60*60*1e3;class IE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SE(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Md();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=kE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Md(),{heartbeatsToSend:n,unsentEntries:i}=TE(this._heartbeatsCache.heartbeats),s=vo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Md(){return new Date().toISOString().substring(0,10)}function TE(t,e=CE){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),xd(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),xd(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class SE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hw()?fw().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await EE(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Rd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Rd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xd(t){return vo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){is(new vi("platform-logger",e=>new jw(e),"PRIVATE")),is(new vi("heartbeat",e=>new IE(e),"PRIVATE")),Ln(_l,Ad,t),Ln(_l,Ad,"esm2017"),Ln("fire-js","")}OE("");const Pd="@firebase/database",Dd="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep="";function AE(t){Ep=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:rr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return en(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new RE(e)}}catch{}return new ME},ci=Cp("localStorage"),wl=Cp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new mc("@firebase/database"),xE=function(){let t=1;return function(){return t++}}(),kp=function(t){const e=Cw(t),n=new yw;n.update(e);const i=n.digest();return fc.encodeByteArray(i)},Tr=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Tr.apply(null,i):typeof i=="object"?e+=Qe(i):e+=i,e+=" "}return e};let fi=null,Ld=!0;const PE=function(t,e){te(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(zi.logLevel=Me.VERBOSE,fi=zi.log.bind(zi),e&&wl.set("logging_enabled",!0)):typeof t=="function"?fi=t:(fi=null,wl.remove("logging_enabled"))},nt=function(...t){if(Ld===!0&&(Ld=!1,fi===null&&wl.get("logging_enabled")===!0&&PE(!0)),fi){const e=Tr.apply(null,t);fi(e)}},Sr=function(t){return function(...e){nt(t,...e)}},El=function(...t){const e="FIREBASE INTERNAL ERROR: "+Tr(...t);zi.error(e)},fn=function(...t){const e=`FIREBASE FATAL ERROR: ${Tr(...t)}`;throw zi.error(e),new Error(e)},dt=function(...t){const e="FIREBASE WARNING: "+Tr(...t);zi.warn(e)},DE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yc=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},LE=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ss="[MIN_NAME]",yi="[MAX_NAME]",Oi=function(t,e){if(t===e)return 0;if(t===ss||e===yi)return-1;if(e===ss||t===yi)return 1;{const n=Nd(t),i=Nd(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},NE=function(t,e){return t===e?0:t<e?-1:1},Os=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qe(e))},bc=function(t){if(typeof t!="object"||t===null)return Qe(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Qe(e[i]),n+=":",n+=bc(t[e[i]]);return n+="}",n},Ip=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function rt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Tp=function(t){te(!yc(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,c,u;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=c+i,o=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const h=[];for(u=n;u;u-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)h.push(r%2?1:0),r=Math.floor(r/2);h.push(s?1:0),h.reverse();const g=h.join("");let v="";for(u=0;u<64;u+=8){let b=parseInt(g.substr(u,8),2).toString(16);b.length===1&&(b="0"+b),v=v+b}return v.toLowerCase()},$E=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},BE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function FE(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const HE=new RegExp("^-?(0*)\\d{1,10}$"),WE=-2147483648,UE=2147483647,Nd=function(t){if(HE.test(t)){const e=Number(t);if(e>=WE&&e<=UE)return e}return null},bs=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw dt("Exception was thrown by user callback.",n),e},Math.floor(0))}},jE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vs=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){dt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dt(e)}}class Ki{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ki.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="5",Sp="v",Op="s",Ap="r",Rp="f",Mp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xp="ls",Pp="p",Cl="ac",Dp="websocket",Lp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,i,s,r=!1,o="",c=!1,u=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ci.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ci.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function zE(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function $p(t,e,n){te(typeof e=="string","typeof type must == string"),te(typeof n=="object","typeof params must == object");let i;if(e===Dp)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Lp)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);zE(t)&&(n.ns=t.namespace);const s=[];return rt(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.counters_={}}incrementCounter(e,n=1){en(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return nw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da={},La={};function Ec(t){const e=t.toString();return Da[e]||(Da[e]=new KE),Da[e]}function GE(t,e){const n=t.toString();return La[n]||(La[n]=e()),La[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&bs(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="start",QE="close",XE="pLPCommand",JE="pRTLPCB",Bp="id",Fp="pw",Hp="ser",ZE="cb",eC="seg",tC="ts",nC="d",iC="dframe",Wp=1870,Up=30,sC=Wp-Up,rC=25e3,oC=3e4;class Fi{constructor(e,n,i,s,r,o,c){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sr(e),this.stats_=Ec(n),this.urlFn=u=>(this.appCheckToken&&(u[Cl]=this.appCheckToken),$p(n,Lp,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new YE(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(oC)),LE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cc((...r)=>{const[o,c,u,h,g]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===$d)this.id=c,this.password=u;else if(o===QE)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,c]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[$d]="t",i[Hp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[ZE]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Sp]=wc,this.transportSessionId&&(i[Op]=this.transportSessionId),this.lastSessionId&&(i[xp]=this.lastSessionId),this.applicationId&&(i[Pp]=this.applicationId),this.appCheckToken&&(i[Cl]=this.appCheckToken),typeof location<"u"&&location.hostname&&Mp.test(location.hostname)&&(i[Ap]=Rp);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fi.forceAllow_=!0}static forceDisallow(){Fi.forceDisallow_=!0}static isAvailable(){return Fi.forceAllow_?!0:!Fi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!$E()&&!BE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=lp(n),s=Ip(i,sC);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[iC]="t",i[Bp]=e,i[Fp]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Cc{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xE(),window[XE+this.uniqueCallbackIdentifier]=e,window[JE+this.uniqueCallbackIdentifier]=n,this.myIFrame=Cc.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){nt("frame writing exception"),c.stack&&nt(c.stack),nt(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Bp]=this.myID,e[Fp]=this.myPW,e[Hp]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Up+i.length<=Wp;){const o=this.pendingSegs.shift();i=i+"&"+eC+s+"="+o.seg+"&"+tC+s+"="+o.ts+"&"+nC+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(rC)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{nt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=16384,lC=45e3;let Eo=null;typeof MozWebSocket<"u"?Eo=MozWebSocket:typeof WebSocket<"u"&&(Eo=WebSocket);class Lt{constructor(e,n,i,s,r,o,c){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sr(this.connId),this.stats_=Ec(n),this.connURL=Lt.connectionURL_(n,o,c,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[Sp]=wc,typeof location<"u"&&location.hostname&&Mp.test(location.hostname)&&(o[Ap]=Rp),n&&(o[Op]=n),i&&(o[xp]=i),s&&(o[Cl]=s),r&&(o[Pp]=r),$p(e,Dp,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ci.set("previous_websocket_failure",!0);try{let i;pp(),this.mySock=new Eo(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Lt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Eo!==null&&!Lt.forceDisallow_}static previouslyFailed(){return ci.isInMemoryStorage||ci.get("previous_websocket_failure")===!0}markConnectionHealthy(){ci.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=rr(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(te(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Ip(n,aC);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lC))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Lt.responsesRequiredToBeHealthy=2;Lt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fi,Lt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Lt&&Lt.isAvailable();let i=n&&!Lt.previouslyFailed();if(e.webSocketOnly&&(n||dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Lt];else{const s=this.transports_=[];for(const r of ar.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);ar.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ar.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=6e4,uC=5e3,dC=10*1024,hC=100*1024,Na="t",Bd="d",fC="s",Fd="r",pC="e",Hd="o",Wd="a",Ud="n",jd="p",gC="h";class mC{constructor(e,n,i,s,r,o,c,u,h,g){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=u,this.onKill_=h,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sr("c:"+this.id+":"),this.transportManager_=new ar(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Vs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>hC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Na in e){const n=e[Na];n===Wd?this.upgradeIfSecondaryHealthy_():n===Fd?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Hd&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Os("t",e),i=Os("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:jd,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Wd,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ud,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Os("t",e),i=Os("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Os(Na,e);if(Bd in e){const i=e[Bd];if(n===gC){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Ud){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===fC?this.onConnectionShutdown_(i):n===Fd?this.onReset_(i):n===pC?El("Server Error: "+i):n===Hd?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):El("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wc!==i&&dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Vs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cC))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(uC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:jd,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ci.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this.allowedEvents_=e,this.listeners_={},te(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){te(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends Vp{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!gc()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Co}getInitialEvent(e){return te(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=32,qd=768;class xe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ie(){return new xe("")}function be(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qn(t){return t.pieces_.length-t.pieceNum_}function Ne(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new xe(t.pieces_,e)}function kc(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function vC(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function lr(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function qp(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new xe(e,0)}function je(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof xe)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new xe(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function ut(t,e){const n=be(t),i=be(e);if(n===null)return e;if(n===i)return ut(Ne(t),Ne(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _C(t,e){const n=lr(t,0),i=lr(e,0);for(let s=0;s<n.length&&s<i.length;s++){const r=Oi(n[s],i[s]);if(r!==0)return r}return n.length===i.length?0:n.length<i.length?-1:1}function zp(t,e){if(qn(t)!==qn(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function bt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(qn(t)>qn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class yC{constructor(e,n){this.errorPrefix_=n,this.parts_=lr(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=sa(this.parts_[i]);Kp(this)}}function bC(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=sa(e),Kp(t)}function wC(t){const e=t.parts_.pop();t.byteLength_-=sa(e),t.parts_.length>0&&(t.byteLength_-=1)}function Kp(t){if(t.byteLength_>qd)throw new Error(t.errorPrefix_+"has a key path longer than "+qd+" bytes ("+t.byteLength_+").");if(t.parts_.length>Vd)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Vd+") or object contains a cycle "+si(t))}function si(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic extends Vp{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Ic}getInitialEvent(e){return te(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=1e3,EC=60*5*1e3,zd=30*1e3,CC=1.3,kC=3e4,IC="server_kill",Kd=3;class dn extends jp{constructor(e,n,i,s,r,o,c,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=dn.nextPersistentConnectionId_++,this.log_=Sr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=As,this.maxReconnectDelay_=EC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!pp())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ic.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Co.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(Qe(r)),te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new kr,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const c=o.d;o.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),te(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,c=>{const u=c.d,h=c.s;dn.warnOnListenWarnings_(u,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(h,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&en(e,"w")){const i=ns(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||_w(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zd)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=vw(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Qe(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):El("Unrecognized action received from server: "+Qe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=As,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=As,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>kC&&(this.reconnectDelay_=As),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*CC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+dn.nextConnectionId_++,r=this.lastSessionId;let o=!1,c=null;const u=function(){c?c.close():(o=!0,i())},h=function(v){te(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(v)};this.realtime_={close:u,sendRequest:h};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,b]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);o?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=b&&b.token,c=new mC(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,I=>{dt(I+" ("+this.repoInfo_.toString()+")"),this.interrupt(IC)},r))}catch(v){this.log_("Failed to get token: "+v),o||(this.repoInfo_.nodeAdmin&&dt(v),u())}}}interrupt(e){nt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],gl(this.interruptReasons_)&&(this.reconnectDelay_=As,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>bc(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new xe(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){nt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Kd&&(this.reconnectDelay_=zd,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){nt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Kd&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Ep.replace(/\./g,"-")]=1,gc()?e["framework.cordova"]=1:fp()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Co.getInstance().currentlyOnline();return gl(this.interruptReasons_)&&e}}dn.nextPersistentConnectionId_=0;dn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new _e(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new _e(ss,e),s=new _e(ss,n);return this.compare(i,s)!==0}minPost(){return _e.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vr;class Gp extends ra{static get __EMPTY_NODE(){return Vr}static set __EMPTY_NODE(e){Vr=e}compare(e,n){return Oi(e.name,n.name)}isDefinedOn(e){throw vs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return _e.MIN}maxPost(){return new _e(yi,Vr)}makePost(e,n){return te(typeof e=="string","KeyIndex indexValue must always be a string."),new _e(e,Vr)}toString(){return".key"}}const Gi=new Gp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ze{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??Ze.RED,this.left=s??gt.EMPTY_NODE,this.right=r??gt.EMPTY_NODE}copy(e,n,i,s,r){return new Ze(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return gt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return gt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ze.RED=!0;Ze.BLACK=!1;class TC{copy(e,n,i,s,r){return this}insert(e,n,i){return new Ze(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gt{constructor(e,n=gt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new gt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ze.BLACK,null,null))}remove(e){return new gt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ze.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new qr(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new qr(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new qr(this.root_,null,this.comparator_,!0,e)}}gt.EMPTY_NODE=new TC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e){return Oi(t.name,e.name)}function Tc(t,e){return Oi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl;function OC(t){kl=t}const Yp=function(t){return typeof t=="number"?"number:"+Tp(t):"string:"+t},Qp=function(t){if(t.isLeafNode()){const e=t.val();te(typeof e=="string"||typeof e=="number"||typeof e=="object"&&en(e,".sv"),"Priority must be a string or number.")}else te(t===kl||t.isEmpty(),"priority of unexpected type.");te(t===kl||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd;class Je{constructor(e,n=Je.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Qp(this.priorityNode_)}static set __childrenNodeConstructor(e){Gd=e}static get __childrenNodeConstructor(){return Gd}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Je(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:be(e)===".priority"?this.priorityNode_:Je.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Je.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=be(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(te(i!==".priority"||qn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Je.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Yp(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Tp(this.value_):e+=this.value_,this.lazyHash_=kp(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Je.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Je.__childrenNodeConstructor?-1:(te(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Je.VALUE_TYPE_ORDER.indexOf(n),r=Je.VALUE_TYPE_ORDER.indexOf(i);return te(s>=0,"Unknown leaf type: "+n),te(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Je.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xp,Jp;function AC(t){Xp=t}function RC(t){Jp=t}class MC extends ra{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Oi(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return _e.MIN}maxPost(){return new _e(yi,new Je("[PRIORITY-POST]",Jp))}makePost(e,n){const i=Xp(e);return new _e(n,new Je("[PRIORITY-POST]",i))}toString(){return".priority"}}const qe=new MC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=Math.log(2);class PC{constructor(e){const n=r=>parseInt(Math.log(r)/xC,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ko=function(t,e,n,i){t.sort(e);const s=function(u,h){const g=h-u;let v,b;if(g===0)return null;if(g===1)return v=t[u],b=n?n(v):v,new Ze(b,v.node,Ze.BLACK,null,null);{const I=parseInt(g/2,10)+u,H=s(u,I),f=s(I+1,h);return v=t[I],b=n?n(v):v,new Ze(b,v.node,Ze.BLACK,H,f)}},r=function(u){let h=null,g=null,v=t.length;const b=function(H,f){const _=v-H,k=v;v-=H;const T=s(_+1,k),m=t[_],a=n?n(m):m;I(new Ze(a,m.node,f,null,T))},I=function(H){h?(h.left=H,h=H):(g=H,h=H)};for(let H=0;H<u.count;++H){const f=u.nextBitIsOne(),_=Math.pow(2,u.count-(H+1));f?b(_,Ze.BLACK):(b(_,Ze.BLACK),b(_,Ze.RED))}return g},o=new PC(t.length),c=r(o);return new gt(i||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a;const $i={};class ln{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return te($i&&qe,"ChildrenNode.ts has not been loaded"),$a=$a||new ln({".priority":$i},{".priority":qe}),$a}get(e){const n=ns(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gt?n:null}hasIndex(e){return en(this.indexSet_,e.toString())}addIndex(e,n){te(e!==Gi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(_e.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let c;s?c=ko(i,e.getCompare()):c=$i;const u=e.toString(),h=Object.assign({},this.indexSet_);h[u]=e;const g=Object.assign({},this.indexes_);return g[u]=c,new ln(g,h)}addToIndexes(e,n){const i=yo(this.indexes_,(s,r)=>{const o=ns(this.indexSet_,r);if(te(o,"Missing index implementation for "+r),s===$i)if(o.isDefinedOn(e.node)){const c=[],u=n.getIterator(_e.Wrap);let h=u.getNext();for(;h;)h.name!==e.name&&c.push(h),h=u.getNext();return c.push(e),ko(c,o.getCompare())}else return $i;else{const c=n.get(e.name);let u=s;return c&&(u=u.remove(new _e(e.name,c))),u.insert(e,e.node)}});return new ln(i,this.indexSet_)}removeFromIndexes(e,n){const i=yo(this.indexes_,s=>{if(s===$i)return s;{const r=n.get(e.name);return r?s.remove(new _e(e.name,r)):s}});return new ln(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rs;class de{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Qp(this.priorityNode_),this.children_.isEmpty()&&te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Rs||(Rs=new de(new gt(Tc),null,ln.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Rs}updatePriority(e){return this.children_.isEmpty()?this:new de(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Rs:n}}getChild(e){const n=be(e);return n===null?this:this.getImmediateChild(n).getChild(Ne(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(te(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new _e(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?Rs:this.priorityNode_;return new de(s,o,r)}}updateChild(e,n){const i=be(e);if(i===null)return n;{te(be(e)!==".priority"||qn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ne(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(qe,(o,c)=>{n[o]=c.val(e),i++,r&&de.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const c in n)o[c]=n[c];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Yp(this.getPriority().val())+":"),this.forEachChild(qe,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":kp(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new _e(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new _e(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new _e(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,_e.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,_e.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Or?-1:0}withIndex(e){if(e===Gi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new de(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Gi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(qe),s=n.getIterator(qe);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Gi?null:this.indexMap_.get(e.toString())}}de.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class DC extends de{constructor(){super(new gt(Tc),de.EMPTY_NODE,ln.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return de.EMPTY_NODE}isEmpty(){return!1}}const Or=new DC;Object.defineProperties(_e,{MIN:{value:new _e(ss,de.EMPTY_NODE)},MAX:{value:new _e(yi,Or)}});Gp.__EMPTY_NODE=de.EMPTY_NODE;Je.__childrenNodeConstructor=de;OC(Or);RC(Or);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=!0;function Ye(t,e=null){if(t===null)return de.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),te(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Je(n,Ye(e))}if(!(t instanceof Array)&&LC){const n=[];let i=!1;if(rt(t,(o,c)=>{if(o.substring(0,1)!=="."){const u=Ye(c);u.isEmpty()||(i=i||!u.getPriority().isEmpty(),n.push(new _e(o,u)))}}),n.length===0)return de.EMPTY_NODE;const r=ko(n,SC,o=>o.name,Tc);if(i){const o=ko(n,qe.getCompare());return new de(r,Ye(e),new ln({".priority":o},{".priority":qe}))}else return new de(r,Ye(e),ln.Default)}else{let n=de.EMPTY_NODE;return rt(t,(i,s)=>{if(en(t,i)&&i.substring(0,1)!=="."){const r=Ye(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(Ye(e))}}AC(Ye);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC extends ra{constructor(e){super(),this.indexPath_=e,te(!ye(e)&&be(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Oi(e.name,n.name):r}makePost(e,n){const i=Ye(e),s=de.EMPTY_NODE.updateChild(this.indexPath_,i);return new _e(n,s)}maxPost(){const e=de.EMPTY_NODE.updateChild(this.indexPath_,Or);return new _e(yi,e)}toString(){return lr(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C extends ra{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Oi(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return _e.MIN}maxPost(){return _e.MAX}makePost(e,n){const i=Ye(e);return new _e(n,i)}toString(){return".value"}}const BC=new $C;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t){return{type:"value",snapshotNode:t}}function rs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function cr(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ur(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function FC(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){te(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(s).equals(i.getChild(s))&&c.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(cr(n,c)):te(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(rs(n,i)):o.trackChildChange(ur(n,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(qe,(s,r)=>{n.hasChild(s)||i.trackChildChange(cr(s,r))}),n.isLeafNode()||n.forEachChild(qe,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(ur(s,r,o))}else i.trackChildChange(rs(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?de.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.indexedFilter_=new Sc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=dr.getStartPost_(e),this.endPost_=dr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new _e(n,i))||(i=de.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=de.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(de.EMPTY_NODE);const r=this;return n.forEachChild(qe,(o,c)=>{r.matches(new _e(o,c))||(s=s.updateImmediateChild(o,de.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new dr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new _e(n,i))||(i=de.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=de.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=de.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const c=r.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(de.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const c=r.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:s=s.updateImmediateChild(c.name,de.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const v=this.index_.getCompare();o=(b,I)=>v(I,b)}else o=this.index_.getCompare();const c=e;te(c.numChildren()===this.limit_,"");const u=new _e(n,i),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(u);if(c.hasChild(n)){const v=c.getImmediateChild(n);let b=s.getChildAfterChild(this.index_,h,this.reverse_);for(;b!=null&&(b.name===n||c.hasChild(b.name));)b=s.getChildAfterChild(this.index_,b,this.reverse_);const I=b==null?1:o(b,u);if(g&&!i.isEmpty()&&I>=0)return r!=null&&r.trackChildChange(ur(n,i,v)),c.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(cr(n,v));const f=c.updateImmediateChild(n,de.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(r!=null&&r.trackChildChange(rs(b.name,b.node)),f.updateImmediateChild(b.name,b.node)):f}}else return i.isEmpty()?e:g&&o(h,u)>=0?(r!=null&&(r.trackChildChange(cr(h.name,h.node)),r.trackChildChange(rs(n,i))),c.updateImmediateChild(n,i).updateImmediateChild(h.name,de.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ss}hasEnd(){return this.endSet_}getIndexEndValue(){return te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){const e=new Oc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function WC(t){return t.loadsAllData()?new Sc(t.getIndex()):t.hasLimit()?new HC(t):new dr(t)}function Yd(t){const e={};if(t.isDefault())return e;let n;if(t.index_===qe?n="$priority":t.index_===BC?n="$value":t.index_===Gi?n="$key":(te(t.index_ instanceof NC,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qe(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Qe(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Qe(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Qe(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Qe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Qd(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==qe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends jp{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Sr("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(te(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Io.getListenId_(e,i),c={};this.listens_[o]=c;const u=Yd(e._queryParams);this.restRequest_(r+".json",u,(h,g)=>{let v=g;if(h===404&&(v=null,h=null),h===null&&this.onDataUpdate_(r,v,!1,i),ns(this.listens_,o)===c){let b;h?h===401?b="permission_denied":b="rest_error:"+h:b="ok",s(b,null)}})}unlisten(e,n){const i=Io.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Yd(e._queryParams),i=e._path.toString(),s=new kr;return this.restRequest_(i+".json",n,(r,o)=>{let c=o;r===404&&(c=null,r=null),r===null?(this.onDataUpdate_(i,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_s(n);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=rr(c.responseText)}catch{dt("Failed to parse JSON response for "+o+": "+c.responseText)}i(null,u)}else c.status!==401&&c.status!==404&&dt("Got unsuccessful REST response for "+o+" Status: "+c.status),i(c.status);i=null}},c.open("GET",o,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.rootNode_=de.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(){return{value:null,children:new Map}}function eg(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=be(e);t.children.has(i)||t.children.set(i,To());const s=t.children.get(i);e=Ne(e),eg(s,e,n)}}function Il(t,e,n){t.value!==null?n(e,t.value):jC(t,(i,s)=>{const r=new xe(e.toString()+"/"+i);Il(s,r,n)})}function jC(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&rt(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=10*1e3,qC=30*1e3,zC=5*60*1e3;class KC{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new VC(e);const i=Xd+(qC-Xd)*Math.random();Vs(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;rt(e,(s,r)=>{r>0&&en(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),Vs(this.reportStats_.bind(this),Math.floor(Math.random()*2*zC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})($t||($t={}));function Ac(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=$t.ACK_USER_WRITE,this.source=Ac()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new xe(e));return new So(Ie(),n,this.revert)}}else return te(be(this.path)===e,"operationForChild called for unrelated child."),new So(Ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n){this.source=e,this.path=n,this.type=$t.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new hr(this.source,Ie()):new hr(this.source,Ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=$t.OVERWRITE}operationForChild(e){return ye(this.path)?new bi(this.source,Ie(),this.snap.getImmediateChild(e)):new bi(this.source,Ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=$t.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new xe(e));return n.isEmpty()?null:n.value?new bi(this.source,Ie(),n.value):new os(this.source,Ie(),n)}else return te(be(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new os(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=be(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function YC(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(FC(o.childName,o.snapshotNode))}),Ms(t,s,"child_removed",e,i,n),Ms(t,s,"child_added",e,i,n),Ms(t,s,"child_moved",r,i,n),Ms(t,s,"child_changed",e,i,n),Ms(t,s,"value",e,i,n),s}function Ms(t,e,n,i,s,r){const o=i.filter(c=>c.type===n);o.sort((c,u)=>XC(t,c,u)),o.forEach(c=>{const u=QC(t,c,r);s.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(u,t.query_))})})}function QC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function XC(t,e,n){if(e.childName==null||n.childName==null)throw vs("Should only compare child_ events.");const i=new _e(e.childName,e.snapshotNode),s=new _e(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,e){return{eventCache:t,serverCache:e}}function qs(t,e,n,i){return oa(new zn(e,n,i),t.serverCache)}function tg(t,e,n,i){return oa(t.eventCache,new zn(e,n,i))}function Oo(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function wi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba;const JC=()=>(Ba||(Ba=new gt(NE)),Ba);class Le{constructor(e,n=JC()){this.value=e,this.children=n}static fromObject(e){let n=new Le(null);return rt(e,(i,s)=>{n=n.set(new xe(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ie(),value:this.value};if(ye(e))return null;{const i=be(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Ne(e),n);return r!=null?{path:je(new xe(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=be(e),i=this.children.get(n);return i!==null?i.subtree(Ne(e)):new Le(null)}}set(e,n){if(ye(e))return new Le(n,this.children);{const i=be(e),r=(this.children.get(i)||new Le(null)).set(Ne(e),n),o=this.children.insert(i,r);return new Le(this.value,o)}}remove(e){if(ye(e))return this.children.isEmpty()?new Le(null):new Le(null,this.children);{const n=be(e),i=this.children.get(n);if(i){const s=i.remove(Ne(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new Le(null):new Le(this.value,r)}else return this}}get(e){if(ye(e))return this.value;{const n=be(e),i=this.children.get(n);return i?i.get(Ne(e)):null}}setTree(e,n){if(ye(e))return n;{const i=be(e),r=(this.children.get(i)||new Le(null)).setTree(Ne(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new Le(this.value,o)}}fold(e){return this.fold_(Ie(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(je(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ie(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(ye(e))return null;{const r=be(e),o=this.children.get(r);return o?o.findOnPath_(Ne(e),je(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ie(),n)}foreachOnPath_(e,n,i){if(ye(e))return this;{this.value&&i(n,this.value);const s=be(e),r=this.children.get(s);return r?r.foreachOnPath_(Ne(e),je(n,s),i):new Le(null)}}foreach(e){this.foreach_(Ie(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(je(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.writeTree_=e}static empty(){return new Ft(new Le(null))}}function zs(t,e,n){if(ye(e))return new Ft(new Le(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=ut(s,e);return r=r.updateChild(o,n),new Ft(t.writeTree_.set(s,r))}else{const s=new Le(n),r=t.writeTree_.setTree(e,s);return new Ft(r)}}}function Tl(t,e,n){let i=t;return rt(n,(s,r)=>{i=zs(i,je(e,s),r)}),i}function Jd(t,e){if(ye(e))return Ft.empty();{const n=t.writeTree_.setTree(e,new Le(null));return new Ft(n)}}function Sl(t,e){return Ai(t,e)!=null}function Ai(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ut(n.path,e)):null}function Zd(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(qe,(i,s)=>{e.push(new _e(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new _e(i,s.value))}),e}function Nn(t,e){if(ye(e))return t;{const n=Ai(t,e);return n!=null?new Ft(new Le(n)):new Ft(t.writeTree_.subtree(e))}}function Ol(t){return t.writeTree_.isEmpty()}function as(t,e){return ng(Ie(),t.writeTree_,e)}function ng(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(te(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=ng(je(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(je(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,e){return og(e,t)}function ZC(t,e,n,i,s){te(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=zs(t.visibleWrites,e,n)),t.lastWriteId=i}function e0(t,e,n,i){te(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Tl(t.visibleWrites,e,n),t.lastWriteId=i}function t0(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function n0(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);te(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const c=t.allWrites[o];c.visible&&(o>=n&&i0(c,i.path)?s=!1:bt(i.path,c.path)&&(r=!0)),o--}if(s){if(r)return s0(t),!0;if(i.snap)t.visibleWrites=Jd(t.visibleWrites,i.path);else{const c=i.children;rt(c,u=>{t.visibleWrites=Jd(t.visibleWrites,je(i.path,u))})}return!0}else return!1}function i0(t,e){if(t.snap)return bt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&bt(je(t.path,n),e))return!0;return!1}function s0(t){t.visibleWrites=ig(t.allWrites,r0,Ie()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function r0(t){return t.visible}function ig(t,e,n){let i=Ft.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let c;if(r.snap)bt(n,o)?(c=ut(n,o),i=zs(i,c,r.snap)):bt(o,n)&&(c=ut(o,n),i=zs(i,Ie(),r.snap.getChild(c)));else if(r.children){if(bt(n,o))c=ut(n,o),i=Tl(i,c,r.children);else if(bt(o,n))if(c=ut(o,n),ye(c))i=Tl(i,Ie(),r.children);else{const u=ns(r.children,be(c));if(u){const h=u.getChild(Ne(c));i=zs(i,Ie(),h)}}}else throw vs("WriteRecord should have .snap or .children")}}return i}function sg(t,e,n,i,s){if(!i&&!s){const r=Ai(t.visibleWrites,e);if(r!=null)return r;{const o=Nn(t.visibleWrites,e);if(Ol(o))return n;if(n==null&&!Sl(o,Ie()))return null;{const c=n||de.EMPTY_NODE;return as(o,c)}}}else{const r=Nn(t.visibleWrites,e);if(!s&&Ol(r))return n;if(!s&&n==null&&!Sl(r,Ie()))return null;{const o=function(h){return(h.visible||s)&&(!i||!~i.indexOf(h.writeId))&&(bt(h.path,e)||bt(e,h.path))},c=ig(t.allWrites,o,e),u=n||de.EMPTY_NODE;return as(c,u)}}}function o0(t,e,n){let i=de.EMPTY_NODE;const s=Ai(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(qe,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=Nn(t.visibleWrites,e);return n.forEachChild(qe,(o,c)=>{const u=as(Nn(r,new xe(o)),c);i=i.updateImmediateChild(o,u)}),Zd(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=Nn(t.visibleWrites,e);return Zd(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function a0(t,e,n,i,s){te(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=je(e,n);if(Sl(t.visibleWrites,r))return null;{const o=Nn(t.visibleWrites,r);return Ol(o)?s.getChild(n):as(o,s.getChild(n))}}function l0(t,e,n,i){const s=je(e,n),r=Ai(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=Nn(t.visibleWrites,s);return as(o,i.getNode().getImmediateChild(n))}else return null}function c0(t,e){return Ai(t.visibleWrites,e)}function u0(t,e,n,i,s,r,o){let c;const u=Nn(t.visibleWrites,e),h=Ai(u,Ie());if(h!=null)c=h;else if(n!=null)c=as(u,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){const g=[],v=o.getCompare(),b=r?c.getReverseIteratorFrom(i,o):c.getIteratorFrom(i,o);let I=b.getNext();for(;I&&g.length<s;)v(I,i)!==0&&g.push(I),I=b.getNext();return g}else return[]}function d0(){return{visibleWrites:Ft.empty(),allWrites:[],lastWriteId:-1}}function Ao(t,e,n,i){return sg(t.writeTree,t.treePath,e,n,i)}function xc(t,e){return o0(t.writeTree,t.treePath,e)}function eh(t,e,n,i){return a0(t.writeTree,t.treePath,e,n,i)}function Ro(t,e){return c0(t.writeTree,je(t.treePath,e))}function h0(t,e,n,i,s,r){return u0(t.writeTree,t.treePath,e,n,i,s,r)}function Pc(t,e,n){return l0(t.writeTree,t.treePath,e,n)}function rg(t,e){return og(je(t.treePath,e),t.writeTree)}function og(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;te(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),te(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,ur(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,cr(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,rs(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,ur(i,e.snapshotNode,s.oldSnap));else throw vs("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const ag=new p0;class Dc{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new zn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Pc(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wi(this.viewCache_),r=h0(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t){return{filter:t}}function m0(t,e){te(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),te(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function v0(t,e,n,i,s){const r=new f0;let o,c;if(n.type===$t.OVERWRITE){const h=n;h.source.fromUser?o=Al(t,e,h.path,h.snap,i,s,r):(te(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!ye(h.path),o=Mo(t,e,h.path,h.snap,i,s,c,r))}else if(n.type===$t.MERGE){const h=n;h.source.fromUser?o=y0(t,e,h.path,h.children,i,s,r):(te(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),o=Rl(t,e,h.path,h.children,i,s,c,r))}else if(n.type===$t.ACK_USER_WRITE){const h=n;h.revert?o=E0(t,e,h.path,i,s,r):o=b0(t,e,h.path,h.affectedTree,i,s,r)}else if(n.type===$t.LISTEN_COMPLETE)o=w0(t,e,n.path,i,r);else throw vs("Unknown operation type: "+n.type);const u=r.getChanges();return _0(e,o,u),{viewCache:o,changes:u}}function _0(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Oo(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(Zp(Oo(e)))}}function lg(t,e,n,i,s,r){const o=e.eventCache;if(Ro(i,n)!=null)return e;{let c,u;if(ye(n))if(te(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=wi(e),g=h instanceof de?h:de.EMPTY_NODE,v=xc(i,g);c=t.filter.updateFullNode(e.eventCache.getNode(),v,r)}else{const h=Ao(i,wi(e));c=t.filter.updateFullNode(e.eventCache.getNode(),h,r)}else{const h=be(n);if(h===".priority"){te(qn(n)===1,"Can't have a priority with additional path components");const g=o.getNode();u=e.serverCache.getNode();const v=eh(i,n,g,u);v!=null?c=t.filter.updatePriority(g,v):c=o.getNode()}else{const g=Ne(n);let v;if(o.isCompleteForChild(h)){u=e.serverCache.getNode();const b=eh(i,n,o.getNode(),u);b!=null?v=o.getNode().getImmediateChild(h).updateChild(g,b):v=o.getNode().getImmediateChild(h)}else v=Pc(i,h,e.serverCache);v!=null?c=t.filter.updateChild(o.getNode(),h,v,g,s,r):c=o.getNode()}}return qs(e,c,o.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function Mo(t,e,n,i,s,r,o,c){const u=e.serverCache;let h;const g=o?t.filter:t.filter.getIndexedFilter();if(ye(n))h=g.updateFullNode(u.getNode(),i,null);else if(g.filtersNodes()&&!u.isFiltered()){const I=u.getNode().updateChild(n,i);h=g.updateFullNode(u.getNode(),I,null)}else{const I=be(n);if(!u.isCompleteForPath(n)&&qn(n)>1)return e;const H=Ne(n),_=u.getNode().getImmediateChild(I).updateChild(H,i);I===".priority"?h=g.updatePriority(u.getNode(),_):h=g.updateChild(u.getNode(),I,_,H,ag,null)}const v=tg(e,h,u.isFullyInitialized()||ye(n),g.filtersNodes()),b=new Dc(s,v,r);return lg(t,v,n,s,b,c)}function Al(t,e,n,i,s,r,o){const c=e.eventCache;let u,h;const g=new Dc(s,e,r);if(ye(n))h=t.filter.updateFullNode(e.eventCache.getNode(),i,o),u=qs(e,h,!0,t.filter.filtersNodes());else{const v=be(n);if(v===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),i),u=qs(e,h,c.isFullyInitialized(),c.isFiltered());else{const b=Ne(n),I=c.getNode().getImmediateChild(v);let H;if(ye(b))H=i;else{const f=g.getCompleteChild(v);f!=null?kc(b)===".priority"&&f.getChild(qp(b)).isEmpty()?H=f:H=f.updateChild(b,i):H=de.EMPTY_NODE}if(I.equals(H))u=e;else{const f=t.filter.updateChild(c.getNode(),v,H,b,g,o);u=qs(e,f,c.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function th(t,e){return t.eventCache.isCompleteForChild(e)}function y0(t,e,n,i,s,r,o){let c=e;return i.foreach((u,h)=>{const g=je(n,u);th(e,be(g))&&(c=Al(t,c,g,h,s,r,o))}),i.foreach((u,h)=>{const g=je(n,u);th(e,be(g))||(c=Al(t,c,g,h,s,r,o))}),c}function nh(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Rl(t,e,n,i,s,r,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,h;ye(n)?h=i:h=new Le(null).setTree(n,i);const g=e.serverCache.getNode();return h.children.inorderTraversal((v,b)=>{if(g.hasChild(v)){const I=e.serverCache.getNode().getImmediateChild(v),H=nh(t,I,b);u=Mo(t,u,new xe(v),H,s,r,o,c)}}),h.children.inorderTraversal((v,b)=>{const I=!e.serverCache.isCompleteForChild(v)&&b.value===null;if(!g.hasChild(v)&&!I){const H=e.serverCache.getNode().getImmediateChild(v),f=nh(t,H,b);u=Mo(t,u,new xe(v),f,s,r,o,c)}}),u}function b0(t,e,n,i,s,r,o){if(Ro(s,n)!=null)return e;const c=e.serverCache.isFiltered(),u=e.serverCache;if(i.value!=null){if(ye(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Mo(t,e,n,u.getNode().getChild(n),s,r,c,o);if(ye(n)){let h=new Le(null);return u.getNode().forEachChild(Gi,(g,v)=>{h=h.set(new xe(g),v)}),Rl(t,e,n,h,s,r,c,o)}else return e}else{let h=new Le(null);return i.foreach((g,v)=>{const b=je(n,g);u.isCompleteForPath(b)&&(h=h.set(g,u.getNode().getChild(b)))}),Rl(t,e,n,h,s,r,c,o)}}function w0(t,e,n,i,s){const r=e.serverCache,o=tg(e,r.getNode(),r.isFullyInitialized()||ye(n),r.isFiltered());return lg(t,o,n,i,ag,s)}function E0(t,e,n,i,s,r){let o;if(Ro(i,n)!=null)return e;{const c=new Dc(i,e,s),u=e.eventCache.getNode();let h;if(ye(n)||be(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Ao(i,wi(e));else{const v=e.serverCache.getNode();te(v instanceof de,"serverChildren would be complete if leaf node"),g=xc(i,v)}g=g,h=t.filter.updateFullNode(u,g,r)}else{const g=be(n);let v=Pc(i,g,e.serverCache);v==null&&e.serverCache.isCompleteForChild(g)&&(v=u.getImmediateChild(g)),v!=null?h=t.filter.updateChild(u,g,v,Ne(n),c,r):e.eventCache.getNode().hasChild(g)?h=t.filter.updateChild(u,g,de.EMPTY_NODE,Ne(n),c,r):h=u,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ao(i,wi(e)),o.isLeafNode()&&(h=t.filter.updateFullNode(h,o,r)))}return o=e.serverCache.isFullyInitialized()||Ro(i,Ie())!=null,qs(e,h,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Sc(i.getIndex()),r=WC(i);this.processor_=g0(r);const o=n.serverCache,c=n.eventCache,u=s.updateFullNode(de.EMPTY_NODE,o.getNode(),null),h=r.updateFullNode(de.EMPTY_NODE,c.getNode(),null),g=new zn(u,o.isFullyInitialized(),s.filtersNodes()),v=new zn(h,c.isFullyInitialized(),r.filtersNodes());this.viewCache_=oa(v,g),this.eventGenerator_=new GC(this.query_)}get query(){return this.query_}}function k0(t){return t.viewCache_.serverCache.getNode()}function I0(t){return Oo(t.viewCache_)}function T0(t,e){const n=wi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(be(e)).isEmpty())?n.getChild(e):null}function ih(t){return t.eventRegistrations_.length===0}function S0(t,e){t.eventRegistrations_.push(e)}function sh(t,e,n){const i=[];if(n){te(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function rh(t,e,n,i){e.type===$t.MERGE&&e.source.queryId!==null&&(te(wi(t.viewCache_),"We should always have a full cache before handling merges"),te(Oo(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=v0(t.processor_,s,e,n,i);return m0(t.processor_,r.viewCache),te(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,cg(t,r.changes,r.viewCache.eventCache.getNode(),null)}function O0(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(qe,(r,o)=>{i.push(rs(r,o))}),n.isFullyInitialized()&&i.push(Zp(n.getNode())),cg(t,i,n.getNode(),e)}function cg(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return YC(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo;class ug{constructor(){this.views=new Map}}function A0(t){te(!xo,"__referenceConstructor has already been defined"),xo=t}function R0(){return te(xo,"Reference.ts has not been loaded"),xo}function M0(t){return t.views.size===0}function Lc(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return te(r!=null,"SyncTree gave us an op for an invalid query."),rh(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(rh(o,e,n,i));return r}}function dg(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let c=Ao(n,s?i:null),u=!1;c?u=!0:i instanceof de?(c=xc(n,i),u=!1):(c=de.EMPTY_NODE,u=!1);const h=oa(new zn(c,u,!1),new zn(i,s,!1));return new C0(e,h)}return o}function x0(t,e,n,i,s,r){const o=dg(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),S0(o,n),O0(o,n)}function P0(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const c=Kn(t);if(s==="default")for(const[u,h]of t.views.entries())o=o.concat(sh(h,n,i)),ih(h)&&(t.views.delete(u),h.query._queryParams.loadsAllData()||r.push(h.query));else{const u=t.views.get(s);u&&(o=o.concat(sh(u,n,i)),ih(u)&&(t.views.delete(s),u.query._queryParams.loadsAllData()||r.push(u.query)))}return c&&!Kn(t)&&r.push(new(R0())(e._repo,e._path)),{removed:r,events:o}}function hg(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function $n(t,e){let n=null;for(const i of t.views.values())n=n||T0(i,e);return n}function fg(t,e){if(e._queryParams.loadsAllData())return la(t);{const i=e._queryIdentifier;return t.views.get(i)}}function pg(t,e){return fg(t,e)!=null}function Kn(t){return la(t)!=null}function la(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po;function D0(t){te(!Po,"__referenceConstructor has already been defined"),Po=t}function L0(){return te(Po,"Reference.ts has not been loaded"),Po}let N0=1;class oh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Le(null),this.pendingWriteTree_=d0(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gg(t,e,n,i,s){return ZC(t.pendingWriteTree_,e,n,i,s),s?ws(t,new bi(Ac(),e,n)):[]}function $0(t,e,n,i){e0(t.pendingWriteTree_,e,n,i);const s=Le.fromObject(n);return ws(t,new os(Ac(),e,s))}function Rn(t,e,n=!1){const i=t0(t.pendingWriteTree_,e);if(n0(t.pendingWriteTree_,e)){let r=new Le(null);return i.snap!=null?r=r.set(Ie(),!0):rt(i.children,o=>{r=r.set(new xe(o),!0)}),ws(t,new So(i.path,r,n))}else return[]}function Ar(t,e,n){return ws(t,new bi(Rc(),e,n))}function B0(t,e,n){const i=Le.fromObject(n);return ws(t,new os(Rc(),e,i))}function F0(t,e){return ws(t,new hr(Rc(),e))}function H0(t,e,n){const i=$c(t,n);if(i){const s=Bc(i),r=s.path,o=s.queryId,c=ut(r,e),u=new hr(Mc(o),c);return Fc(t,r,u)}else return[]}function mg(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let c=[];if(o&&(e._queryIdentifier==="default"||pg(o,e))){const u=P0(o,e,n,i);M0(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const h=u.removed;if(c=u.events,!s){const g=h.findIndex(b=>b._queryParams.loadsAllData())!==-1,v=t.syncPointTree_.findOnPath(r,(b,I)=>Kn(I));if(g&&!v){const b=t.syncPointTree_.subtree(r);if(!b.isEmpty()){const I=V0(b);for(let H=0;H<I.length;++H){const f=I[H],_=f.query,k=bg(t,f);t.listenProvider_.startListening(Ks(_),fr(t,_),k.hashFn,k.onComplete)}}}!v&&h.length>0&&!i&&(g?t.listenProvider_.stopListening(Ks(e),null):h.forEach(b=>{const I=t.queryToTagMap.get(ca(b));t.listenProvider_.stopListening(Ks(b),I)}))}q0(t,h)}return c}function vg(t,e,n,i){const s=$c(t,i);if(s!=null){const r=Bc(s),o=r.path,c=r.queryId,u=ut(o,e),h=new bi(Mc(c),u,n);return Fc(t,o,h)}else return[]}function W0(t,e,n,i){const s=$c(t,i);if(s){const r=Bc(s),o=r.path,c=r.queryId,u=ut(o,e),h=Le.fromObject(n),g=new os(Mc(c),u,h);return Fc(t,o,g)}else return[]}function U0(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(b,I)=>{const H=ut(b,s);r=r||$n(I,H),o=o||Kn(I)});let c=t.syncPointTree_.get(s);c?(o=o||Kn(c),r=r||$n(c,Ie())):(c=new ug,t.syncPointTree_=t.syncPointTree_.set(s,c));let u;r!=null?u=!0:(u=!1,r=de.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((I,H)=>{const f=$n(H,Ie());f&&(r=r.updateImmediateChild(I,f))}));const h=pg(c,e);if(!h&&!e._queryParams.loadsAllData()){const b=ca(e);te(!t.queryToTagMap.has(b),"View does not exist, but we have a tag");const I=z0();t.queryToTagMap.set(b,I),t.tagToQueryMap.set(I,b)}const g=aa(t.pendingWriteTree_,s);let v=x0(c,e,n,g,r,u);if(!h&&!o&&!i){const b=fg(c,e);v=v.concat(K0(t,e,b))}return v}function Nc(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,c)=>{const u=ut(o,e),h=$n(c,u);if(h)return h});return sg(s,e,r,n,!0)}function j0(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(h,g)=>{const v=ut(h,n);i=i||$n(g,v)});let s=t.syncPointTree_.get(n);s?i=i||$n(s,Ie()):(s=new ug,t.syncPointTree_=t.syncPointTree_.set(n,s));const r=i!=null,o=r?new zn(i,!0,!1):null,c=aa(t.pendingWriteTree_,e._path),u=dg(s,e,c,r?o.getNode():de.EMPTY_NODE,r);return I0(u)}function ws(t,e){return _g(e,t.syncPointTree_,null,aa(t.pendingWriteTree_,Ie()))}function _g(t,e,n,i){if(ye(t.path))return yg(t,e,n,i);{const s=e.get(Ie());n==null&&s!=null&&(n=$n(s,Ie()));let r=[];const o=be(t.path),c=t.operationForChild(o),u=e.children.get(o);if(u&&c){const h=n?n.getImmediateChild(o):null,g=rg(i,o);r=r.concat(_g(c,u,h,g))}return s&&(r=r.concat(Lc(s,t,i,n))),r}}function yg(t,e,n,i){const s=e.get(Ie());n==null&&s!=null&&(n=$n(s,Ie()));let r=[];return e.children.inorderTraversal((o,c)=>{const u=n?n.getImmediateChild(o):null,h=rg(i,o),g=t.operationForChild(o);g&&(r=r.concat(yg(g,c,u,h)))}),s&&(r=r.concat(Lc(s,t,i,n))),r}function bg(t,e){const n=e.query,i=fr(t,n);return{hashFn:()=>(k0(e)||de.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?H0(t,n._path,i):F0(t,n._path);{const r=FE(s,n);return mg(t,n,null,r)}}}}function fr(t,e){const n=ca(e);return t.queryToTagMap.get(n)}function ca(t){return t._path.toString()+"$"+t._queryIdentifier}function $c(t,e){return t.tagToQueryMap.get(e)}function Bc(t){const e=t.indexOf("$");return te(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new xe(t.substr(0,e))}}function Fc(t,e,n){const i=t.syncPointTree_.get(e);te(i,"Missing sync point for query tag that we're tracking");const s=aa(t.pendingWriteTree_,e);return Lc(i,n,s,null)}function V0(t){return t.fold((e,n,i)=>{if(n&&Kn(n))return[la(n)];{let s=[];return n&&(s=hg(n)),rt(i,(r,o)=>{s=s.concat(o)}),s}})}function Ks(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(L0())(t._repo,t._path):t}function q0(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=ca(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function z0(){return N0++}function K0(t,e,n){const i=e._path,s=fr(t,e),r=bg(t,n),o=t.listenProvider_.startListening(Ks(e),s,r.hashFn,r.onComplete),c=t.syncPointTree_.subtree(i);if(s)te(!Kn(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((h,g,v)=>{if(!ye(h)&&g&&Kn(g))return[la(g).query];{let b=[];return g&&(b=b.concat(hg(g).map(I=>I.query))),rt(v,(I,H)=>{b=b.concat(H)}),b}});for(let h=0;h<u.length;++h){const g=u[h];t.listenProvider_.stopListening(Ks(g),fr(t,g))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Hc(n)}node(){return this.node_}}class Wc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=je(this.path_,e);return new Wc(this.syncTree_,n)}node(){return Nc(this.syncTree_,this.path_)}}const G0=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},ah=function(t,e,n){if(!t||typeof t!="object")return t;if(te(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Y0(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Q0(t[".sv"],e);te(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Y0=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:te(!1,"Unexpected server value: "+t)}},Q0=function(t,e,n){t.hasOwnProperty("increment")||te(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&te(!1,"Unexpected increment value: "+i);const s=e.node();if(te(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},wg=function(t,e,n,i){return Uc(e,new Wc(n,t),i)},Eg=function(t,e,n){return Uc(t,new Hc(e),n)};function Uc(t,e,n){const i=t.getPriority().val(),s=ah(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,c=ah(o.getValue(),e,n);return c!==o.getValue()||s!==o.getPriority().val()?new Je(c,Ye(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new Je(s))),o.forEachChild(qe,(c,u)=>{const h=Uc(u,e.getImmediateChild(c),n);h!==u&&(r=r.updateImmediateChild(c,h))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Vc(t,e){let n=e instanceof xe?e:new xe(e),i=t,s=be(n);for(;s!==null;){const r=ns(i.node.children,s)||{children:{},childCount:0};i=new jc(s,i,r),n=Ne(n),s=be(n)}return i}function Es(t){return t.node.value}function Cg(t,e){t.node.value=e,Ml(t)}function kg(t){return t.node.childCount>0}function X0(t){return Es(t)===void 0&&!kg(t)}function ua(t,e){rt(t.node.children,(n,i)=>{e(new jc(n,t,i))})}function Ig(t,e,n,i){n&&!i&&e(t),ua(t,s=>{Ig(s,e,!0,i)}),n&&i&&e(t)}function J0(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Rr(t){return new xe(t.parent===null?t.name:Rr(t.parent)+"/"+t.name)}function Ml(t){t.parent!==null&&Z0(t.parent,t.name,t)}function Z0(t,e,n){const i=X0(n),s=en(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Ml(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Ml(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=/[\[\].#$\/\u0000-\u001F\u007F]/,tk=/[\[\].#$\u0000-\u001F\u007F]/,Fa=10*1024*1024,qc=function(t){return typeof t=="string"&&t.length!==0&&!ek.test(t)},Tg=function(t){return typeof t=="string"&&t.length!==0&&!tk.test(t)},nk=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Tg(t)},ik=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!yc(t)||t&&typeof t=="object"&&en(t,".sv")},Sg=function(t,e,n,i){i&&e===void 0||da(ia(t,"value"),e,n)},da=function(t,e,n){const i=n instanceof xe?new yC(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+si(i));if(typeof e=="function")throw new Error(t+"contains a function "+si(i)+" with contents = "+e.toString());if(yc(e))throw new Error(t+"contains "+e.toString()+" "+si(i));if(typeof e=="string"&&e.length>Fa/3&&sa(e)>Fa)throw new Error(t+"contains a string greater than "+Fa+" utf8 bytes "+si(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(rt(e,(o,c)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!qc(o)))throw new Error(t+" contains an invalid key ("+o+") "+si(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bC(i,o),da(t,c,i),wC(i)}),s&&r)throw new Error(t+' contains ".value" child '+si(i)+" in addition to actual children.")}},sk=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const r=lr(i);for(let o=0;o<r.length;o++)if(!(r[o]===".priority"&&o===r.length-1)){if(!qc(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(_C);let s=null;for(n=0;n<e.length;n++){if(i=e[n],s!==null&&bt(s,i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}},rk=function(t,e,n,i){if(i&&e===void 0)return;const s=ia(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const r=[];rt(e,(o,c)=>{const u=new xe(o);if(da(s,c,je(n,u)),kc(u)===".priority"&&!ik(c))throw new Error(s+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(u)}),sk(s,r)},Og=function(t,e,n,i){if(!(i&&n===void 0)&&!Tg(n))throw new Error(ia(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ok=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Og(t,e,n,i)},Ag=function(t,e){if(be(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},ak=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!nk(n))throw new Error(ia(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function zc(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!zp(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function At(t,e,n){zc(t,n),ck(t,i=>bt(i,e)||bt(e,i))}function ck(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(uk(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function uk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();fi&&nt("event: "+n.toString()),bs(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="repo_interrupt",hk=25;class fk{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=To(),this.transactionQueueTree_=new jc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pk(t,e,n){if(t.stats_=Ec(t.repoInfo_),t.forceRestClient_||jE())t.server_=new Io(t.repoInfo_,(i,s,r,o)=>{lh(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ch(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qe(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new dn(t.repoInfo_,e,(i,s,r,o)=>{lh(t,i,s,r,o)},i=>{ch(t,i)},i=>{gk(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=GE(t.repoInfo_,()=>new KC(t.stats_,t.server_)),t.infoData_=new UC,t.infoSyncTree_=new oh({startListening:(i,s,r,o)=>{let c=[];const u=t.infoData_.getNode(i._path);return u.isEmpty()||(c=Ar(t.infoSyncTree_,i._path,u),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),Kc(t,"connected",!1),t.serverSyncTree_=new oh({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(c,u)=>{const h=o(c,u);At(t.eventQueue_,i._path,h)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function Rg(t){const n=t.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ha(t){return G0({timestamp:Rg(t)})}function lh(t,e,n,i,s){t.dataUpdateCount++;const r=new xe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const u=yo(n,h=>Ye(h));o=W0(t.serverSyncTree_,r,u,s)}else{const u=Ye(n);o=vg(t.serverSyncTree_,r,u,s)}else if(i){const u=yo(n,h=>Ye(h));o=B0(t.serverSyncTree_,r,u)}else{const u=Ye(n);o=Ar(t.serverSyncTree_,r,u)}let c=r;o.length>0&&(c=ls(t,r)),At(t.eventQueue_,c,o)}function ch(t,e){Kc(t,"connected",e),e===!1&&yk(t)}function gk(t,e){rt(e,(n,i)=>{Kc(t,n,i)})}function Kc(t,e,n){const i=new xe("/.info/"+e),s=Ye(n);t.infoData_.updateSnapshot(i,s);const r=Ar(t.infoSyncTree_,i,s);At(t.eventQueue_,i,r)}function Gc(t){return t.nextWriteId_++}function mk(t,e,n){const i=j0(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(s=>{const r=Ye(s).withIndex(e._queryParams.getIndex());U0(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Ar(t.serverSyncTree_,e._path,r);else{const c=fr(t.serverSyncTree_,e);o=vg(t.serverSyncTree_,e._path,r,c)}return At(t.eventQueue_,e._path,o),mg(t.serverSyncTree_,e,n,null,!0),r},s=>(Mr(t,"get for query "+Qe(e)+" failed: "+s),Promise.reject(new Error(s))))}function vk(t,e,n,i,s){Mr(t,"set",{path:e.toString(),value:n,priority:i});const r=ha(t),o=Ye(n,i),c=Nc(t.serverSyncTree_,e),u=Eg(o,c,r),h=Gc(t),g=gg(t.serverSyncTree_,e,u,h,!0);zc(t.eventQueue_,g),t.server_.put(e.toString(),o.val(!0),(b,I)=>{const H=b==="ok";H||dt("set at "+e+" failed: "+b);const f=Rn(t.serverSyncTree_,h,!H);At(t.eventQueue_,e,f),xl(t,s,b,I)});const v=Qc(t,e);ls(t,v),At(t.eventQueue_,v,[])}function _k(t,e,n,i){Mr(t,"update",{path:e.toString(),value:n});let s=!0;const r=ha(t),o={};if(rt(n,(c,u)=>{s=!1,o[c]=wg(je(e,c),Ye(u),t.serverSyncTree_,r)}),s)nt("update() called with empty data.  Don't do anything."),xl(t,i,"ok",void 0);else{const c=Gc(t),u=$0(t.serverSyncTree_,e,o,c);zc(t.eventQueue_,u),t.server_.merge(e.toString(),n,(h,g)=>{const v=h==="ok";v||dt("update at "+e+" failed: "+h);const b=Rn(t.serverSyncTree_,c,!v),I=b.length>0?ls(t,e):e;At(t.eventQueue_,I,b),xl(t,i,h,g)}),rt(n,h=>{const g=Qc(t,je(e,h));ls(t,g)}),At(t.eventQueue_,e,[])}}function yk(t){Mr(t,"onDisconnectEvents");const e=ha(t),n=To();Il(t.onDisconnect_,Ie(),(s,r)=>{const o=wg(s,r,t.serverSyncTree_,e);eg(n,s,o)});let i=[];Il(n,Ie(),(s,r)=>{i=i.concat(Ar(t.serverSyncTree_,s,r));const o=Qc(t,s);ls(t,o)}),t.onDisconnect_=To(),At(t.eventQueue_,Ie(),i)}function bk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(dk)}function Mr(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),nt(n,...e)}function xl(t,e,n,i){e&&bs(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let r=s;i&&(r+=": "+i);const o=new Error(r);o.code=s,e(o)}})}function Mg(t,e,n){return Nc(t.serverSyncTree_,e,n)||de.EMPTY_NODE}function Yc(t,e=t.transactionQueueTree_){if(e||fa(t,e),Es(e)){const n=Pg(t,e);te(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&wk(t,Rr(e),n)}else kg(e)&&ua(e,n=>{Yc(t,n)})}function wk(t,e,n){const i=n.map(h=>h.currentWriteId),s=Mg(t,e,i);let r=s;const o=s.hash();for(let h=0;h<n.length;h++){const g=n[h];te(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const v=ut(e,g.path);r=r.updateChild(v,g.currentOutputSnapshotRaw)}const c=r.val(!0),u=e;t.server_.put(u.toString(),c,h=>{Mr(t,"transaction put response",{path:u.toString(),status:h});let g=[];if(h==="ok"){const v=[];for(let b=0;b<n.length;b++)n[b].status=2,g=g.concat(Rn(t.serverSyncTree_,n[b].currentWriteId)),n[b].onComplete&&v.push(()=>n[b].onComplete(null,!0,n[b].currentOutputSnapshotResolved)),n[b].unwatcher();fa(t,Vc(t.transactionQueueTree_,e)),Yc(t,t.transactionQueueTree_),At(t.eventQueue_,e,g);for(let b=0;b<v.length;b++)bs(v[b])}else{if(h==="datastale")for(let v=0;v<n.length;v++)n[v].status===3?n[v].status=4:n[v].status=0;else{dt("transaction at "+u.toString()+" failed: "+h);for(let v=0;v<n.length;v++)n[v].status=4,n[v].abortReason=h}ls(t,e)}},o)}function ls(t,e){const n=xg(t,e),i=Rr(n),s=Pg(t,n);return Ek(t,s,i),i}function Ek(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const u=e[c],h=ut(n,u.path);let g=!1,v;if(te(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)g=!0,v=u.abortReason,s=s.concat(Rn(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=hk)g=!0,v="maxretry",s=s.concat(Rn(t.serverSyncTree_,u.currentWriteId,!0));else{const b=Mg(t,u.path,o);u.currentInputSnapshot=b;const I=e[c].update(b.val());if(I!==void 0){da("transaction failed: Data returned ",I,u.path);let H=Ye(I);typeof I=="object"&&I!=null&&en(I,".priority")||(H=H.updatePriority(b.getPriority()));const _=u.currentWriteId,k=ha(t),T=Eg(H,b,k);u.currentOutputSnapshotRaw=H,u.currentOutputSnapshotResolved=T,u.currentWriteId=Gc(t),o.splice(o.indexOf(_),1),s=s.concat(gg(t.serverSyncTree_,u.path,T,u.currentWriteId,u.applyLocally)),s=s.concat(Rn(t.serverSyncTree_,_,!0))}else g=!0,v="nodata",s=s.concat(Rn(t.serverSyncTree_,u.currentWriteId,!0))}At(t.eventQueue_,n,s),s=[],g&&(e[c].status=2,function(b){setTimeout(b,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(v==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(v),!1,null))))}fa(t,t.transactionQueueTree_);for(let c=0;c<i.length;c++)bs(i[c]);Yc(t,t.transactionQueueTree_)}function xg(t,e){let n,i=t.transactionQueueTree_;for(n=be(e);n!==null&&Es(i)===void 0;)i=Vc(i,n),e=Ne(e),n=be(e);return i}function Pg(t,e){const n=[];return Dg(t,e,n),n.sort((i,s)=>i.order-s.order),n}function Dg(t,e,n){const i=Es(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);ua(e,s=>{Dg(t,s,n)})}function fa(t,e){const n=Es(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,Cg(e,n.length>0?n:void 0)}ua(e,i=>{fa(t,i)})}function Qc(t,e){const n=Rr(xg(t,e)),i=Vc(t.transactionQueueTree_,e);return J0(i,s=>{Ha(t,s)}),Ha(t,i),Ig(i,s=>{Ha(t,s)}),n}function Ha(t,e){const n=Es(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(te(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(te(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Rn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?Cg(e,void 0):n.length=r+1,At(t.eventQueue_,Rr(e),s);for(let o=0;o<i.length;o++)bs(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function kk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):dt(`Invalid query segment '${n}' in query '${t}'`)}return e}const uh=function(t,e){const n=Ik(t),i=n.namespace;n.domain==="firebase.com"&&fn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&fn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||DE();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Np(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new xe(n.pathString)}},Ik=function(t){let e="",n="",i="",s="",r="",o=!0,c="https",u=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));let g=t.indexOf("/");g===-1&&(g=t.length);let v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(g,v)),g<v&&(s=Ck(t.substring(g,v)));const b=kk(t.substring(Math.min(t.length,v)));h=e.indexOf(":"),h>=0?(o=c==="https"||c==="wss",u=parseInt(e.substring(h+1),10)):h=e.length;const I=e.slice(0,h);if(I.toLowerCase()==="localhost")n="localhost";else if(I.split(".").length<=2)n=I;else{const H=e.indexOf(".");i=e.substring(0,H).toLowerCase(),n=e.substring(H+1),r=i}"ns"in b&&(r=b.ns)}return{host:e,port:u,domain:n,subdomain:i,secure:o,scheme:c,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Tk=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let s;const r=new Array(8);for(s=7;s>=0;s--)r[s]=dh.charAt(n%64),n=Math.floor(n/64);te(n===0,"Cannot push at time == 0");let o=r.join("");if(i){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=dh.charAt(e[s]);return te(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qe(this.snapshot.exportVal())}}class Ok{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return te(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return ye(this._path)?null:kc(this._path)}get ref(){return new _n(this._repo,this._path)}get _queryIdentifier(){const e=Qd(this._queryParams),n=bc(e);return n==="{}"?"default":n}get _queryObject(){return Qd(this._queryParams)}isEqual(e){if(e=ot(e),!(e instanceof Xc))return!1;const n=this._repo===e._repo,i=zp(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+vC(this._path)}}class _n extends Xc{constructor(e,n){super(e,n,new Oc,!1)}get parent(){const e=qp(this._path);return e===null?null:new _n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class pr{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new xe(e),i=gr(this.ref,e);return new pr(this._node.getChild(n),i,qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new pr(s,gr(this.ref,i),qe)))}hasChild(e){const n=new xe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ze(t,e){return t=ot(t),t._checkNotDeleted("ref"),e!==void 0?gr(t._root,e):t._root}function gr(t,e){return t=ot(t),be(t._path)===null?ok("child","path",e,!1):Og("child","path",e,!1),new _n(t._repo,je(t._path,e))}function Do(t,e){t=ot(t),Ag("push",t._path),Sg("push",e,t._path,!0);const n=Rg(t._repo),i=Tk(n),s=gr(t,i),r=gr(t,i);let o;return e!=null?o=Lg(r,e).then(()=>r):o=Promise.resolve(r),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function Lg(t,e){t=ot(t),Ag("set",t._path),Sg("set",e,t._path,!1);const n=new kr;return vk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Bn(t,e){rk("update",e,t._path,!1);const n=new kr;return _k(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Fn(t){t=ot(t);const e=new Ak(()=>{}),n=new Jc(e);return mk(t._repo,t,n).then(i=>new pr(i,new _n(t._repo,t._path),t._queryParams.getIndex()))}class Jc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new Sk("value",this,new pr(e.snapshotNode,new _n(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Ok(this,e,n):null}matches(e){return e instanceof Jc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}A0(_n);D0(_n);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="FIREBASE_DATABASE_EMULATOR_HOST",Pl={};let Mk=!1;function xk(t,e,n,i){t.repoInfo_=new Np(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function Pk(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||fn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=uh(r,s),c=o.repoInfo,u,h;typeof process<"u"&&process.env&&(h=process.env[Rk]),h?(u=!0,r=`http://${h}?ns=${c.namespace}`,o=uh(r,s),c=o.repoInfo):u=!o.repoInfo.secure;const g=s&&u?new Ki(Ki.OWNER):new qE(t.name,t.options,e);ak("Invalid Firebase Database URL",o),ye(o.path)||fn("Database URL must point to the root of a Firebase Database (not including a child path).");const v=Lk(c,t,g,new VE(t.name,n));return new Nk(v,t)}function Dk(t,e){const n=Pl[e];(!n||n[t.key]!==t)&&fn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),bk(t),delete n[t.key]}function Lk(t,e,n,i){let s=Pl[e.name];s||(s={},Pl[e.name]=s);let r=s[t.toURLString()];return r&&fn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new fk(t,Mk,n,i),s[t.toURLString()]=r,r}class Nk{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _n(this._repo,Ie())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Dk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&fn("Cannot call "+e+" on a deleted database.")}}function it(t=yp(),e){const n=_c(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=lw("database");i&&$k(n,...i)}return n}function $k(t,e,n,i={}){t=ot(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&fn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&fn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Ki(Ki.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:cw(i.mockUserToken,t.app.options.projectId);r=new Ki(o)}xk(s,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t){AE(ys),is(new vi("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return Pk(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),Ln(Pd,Dd,t),Ln(Pd,Dd,"esm2017")}dn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};dn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Bk();const Fk={namespaced:!0,state(){return{clientInfo:{}}},mutations:{setInfo(t,e){t.clientInfo=e},clearinfo(t){t.clientInfo={}}},actions:{async cursCurrensy(){const t=await fetch("https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?json");if(t.ok)return(await t.json()).filter(function(n){return["PLN","USD","EUR"].includes(n.cc)}).map(n=>{const i=n.exchangedate.split("."),s=i[0],r=i[1],c=i[2]+"-"+r+"-"+s;return{...n,exchangedate:c}});alert(" HTTP: "+t.status)},async clientInfo({dispatch:t,commit:e}){try{const n=it(),i=await t("auth/getUid",null,{root:!0}),r=(await Fn(ze(n,"users/"+i+"/info"))).val();return e("setInfo",r),{info:r}}catch(n){console.log(n)}},async updateInfo({dispatch:t,commit:e},n){try{const i=it(),s=await t("auth/getUid",null,{root:!0});await Bn(ze(i,"users/"+s+"/info"),n),e("setInfo",n),t("setMessage",{type:"primary",value:Ve("DataUpdated")},{root:!0})}catch(i){console.log(i)}}},getters:{clientInfo(t){return t.clientInfo}}};function Zc(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function Ng(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Hk=Ng,$g=new Ir("auth","Firebase",Ng());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new mc("@firebase/auth");function Wk(t,...e){Lo.logLevel<=Me.WARN&&Lo.warn(`Auth (${ys}): ${t}`,...e)}function Zr(t,...e){Lo.logLevel<=Me.ERROR&&Lo.error(`Auth (${ys}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t,...e){throw eu(t,...e)}function Yt(t,...e){return eu(t,...e)}function Bg(t,e,n){const i=Object.assign(Object.assign({},Hk()),{[e]:n});return new Ir("auth","Firebase",i).create(e,{appName:t.name})}function Uk(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Rt(t,"argument-error"),Bg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eu(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return $g.create(t,...e)}function fe(t,e,...n){if(!t)throw eu(e,...n)}function cn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zr(e),new Error(e)}function pn(t,e){t||cn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jk(){return hh()==="http:"||hh()==="https:"}function hh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jk()||uw()||"connection"in navigator)?navigator.onLine:!0}function qk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){this.shortDelay=e,this.longDelay=n,pn(n>e,"Short delay should be less than long delay!"),this.isMobile=gc()||fp()}get(){return Vk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t,e){pn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=new xr(3e4,6e4);function Cs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ri(t,e,n,i,s={}){return Hg(t,s,async()=>{let r={},o={};i&&(e==="GET"?o=i:r={body:JSON.stringify(i)});const c=_s(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),Fg.fetch()(Wg(t,t.config.apiHost,n,c),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},r))})}async function Hg(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},zk),e);try{const s=new Gk(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw zr(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const c=r.ok?o.errorMessage:o.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw zr(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw zr(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw zr(t,"user-disabled",o);const g=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Bg(t,g,h);Rt(t,g)}}catch(s){if(s instanceof Gn)throw s;Rt(t,"network-request-failed",{message:String(s)})}}async function Pr(t,e,n,i,s={}){const r=await Ri(t,e,n,i,s);return"mfaPendingCredential"in r&&Rt(t,"multi-factor-auth-required",{_serverResponse:r}),r}function Wg(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?tu(t.config,s):`${t.config.apiScheme}://${s}`}class Gk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Yt(this.auth,"network-request-failed")),Kk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zr(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Yt(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(t,e){return Ri(t,"POST","/v1/accounts:delete",e)}async function Qk(t,e){return Ri(t,"POST","/v1/accounts:update",e)}async function Xk(t,e){return Ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Jk(t,e=!1){const n=ot(t),i=await n.getIdToken(e),s=nu(i);fe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Gs(Wa(s.auth_time)),issuedAtTime:Gs(Wa(s.iat)),expirationTime:Gs(Wa(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Wa(t){return Number(t)*1e3}function nu(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Zr("JWT malformed, contained fewer than 3 sections"),null;try{const s=_o(n);return s?JSON.parse(s):(Zr("Failed to decode base64 JWT payload"),null)}catch(s){return Zr("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Zk(t){const e=nu(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mr(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Gn&&eI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function eI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gs(this.lastLoginAt),this.creationTime=Gs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vr(t){var e;const n=t.auth,i=await t.getIdToken(),s=await mr(t,Xk(n,{idToken:i}));fe(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?sI(r.providerUserInfo):[],c=iI(t.providerData,o),u=t.isAnonymous,h=!(t.email&&r.passwordHash)&&!(c!=null&&c.length),g=u?h:!1,v={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new Ug(r.createdAt,r.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function nI(t){const e=ot(t);await vr(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iI(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function sI(t){return t.map(e=>{var{providerId:n}=e,i=Zc(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(t,e){const n=await Hg(t,{},async()=>{const i=_s({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,o=Wg(t,s,"/v1/token",`key=${r}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Fg.fetch()(o,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return fe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await rI(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new _r;return i&&(fe(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),s&&(fe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&(fe(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _r,this.toJSON())}_performRefresh(){return cn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=Zc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Ug(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await mr(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Jk(this,e)}reload(){return nI(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await vr(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await mr(this,Yk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,o,c,u,h,g;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,I=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,H=(o=n.photoURL)!==null&&o!==void 0?o:void 0,f=(c=n.tenantId)!==null&&c!==void 0?c:void 0,_=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:m,emailVerified:a,isAnonymous:l,providerData:d,stsTokenManager:p}=n;fe(m&&p,e,"internal-error");const E=_r.fromJSON(this.name,p);fe(typeof m=="string",e,"internal-error"),Cn(v,e.name),Cn(b,e.name),fe(typeof a=="boolean",e,"internal-error"),fe(typeof l=="boolean",e,"internal-error"),Cn(I,e.name),Cn(H,e.name),Cn(f,e.name),Cn(_,e.name),Cn(k,e.name),Cn(T,e.name);const A=new pi({uid:m,auth:e,email:b,emailVerified:a,displayName:v,isAnonymous:l,photoURL:H,phoneNumber:I,tenantId:f,stsTokenManager:E,createdAt:k,lastLoginAt:T});return d&&Array.isArray(d)&&(A.providerData=d.map(P=>Object.assign({},P))),_&&(A._redirectEventId=_),A}static async _fromIdTokenResponse(e,n,i=!1){const s=new _r;s.updateFromServerResponse(n);const r=new pi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await vr(r),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map;function un(t){pn(t instanceof Function,"Expected a class definition");let e=fh.get(t);return e?(pn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fh.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jg.type="NONE";const ph=jg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e,n){return`firebase:${t}:${e}:${n}`}class Yi{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=eo(this.userKey,s.apiKey,r),this.fullPersistenceKey=eo("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Yi(un(ph),e,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||un(ph);const o=eo(i,e.config.apiKey,e.name);let c=null;for(const h of n)try{const g=await h._get(o);if(g){const v=pi._fromJSON(e,g);h!==r&&(c=v),r=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new Yi(r,e,i):(r=u[0],c&&await r._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(o)}catch{}})),new Yi(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zg(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vg(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gg(e))return"Blackberry";if(Yg(e))return"Webos";if(iu(e))return"Safari";if((e.includes("chrome/")||qg(e))&&!e.includes("edge/"))return"Chrome";if(Kg(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Vg(t=lt()){return/firefox\//i.test(t)}function iu(t=lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qg(t=lt()){return/crios\//i.test(t)}function zg(t=lt()){return/iemobile/i.test(t)}function Kg(t=lt()){return/android/i.test(t)}function Gg(t=lt()){return/blackberry/i.test(t)}function Yg(t=lt()){return/webos/i.test(t)}function pa(t=lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oI(t=lt()){var e;return pa(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aI(){return dw()&&document.documentMode===10}function Qg(t=lt()){return pa(t)||Kg(t)||Yg(t)||Gg(t)||/windows phone/i.test(t)||zg(t)}function lI(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e=[]){let n;switch(t){case"Browser":n=gh(lt());break;case"Worker":n=`${gh(lt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ys}/${i}`}async function Jg(t,e){return Ri(t,"GET","/v2/recaptchaConfig",Cs(t,e))}function mh(t){return t!==void 0&&t.enterprise!==void 0}class Zg{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function em(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=Yt("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",cI().appendChild(i)})}function uI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const dI="https://www.google.com/recaptcha/enterprise.js?render=",hI="recaptcha-enterprise",fI="NO_RECAPTCHA";class tm{constructor(e){this.type=hI,this.auth=Yn(e)}async verify(e="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,c)=>{Jg(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new Zg(u);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,o(h.siteKey)}}).catch(u=>{c(u)})})}function s(r,o,c){const u=window.grecaptcha;mh(u)?u.enterprise.ready(()=>{u.enterprise.execute(r,{action:e}).then(h=>{o(h)}).catch(()=>{o(fI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{i(this.auth).then(c=>{if(!n&&mh(window.grecaptcha))s(c,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}em(dI+c).then(()=>{s(c,r,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})}}async function No(t,e,n,i=!1){const s=new tm(t);let r;try{r=await s.verify(n)}catch{r=await s.verify(n,!0)}const o=Object.assign({},e);return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((o,c)=>{try{const u=e(r);o(u)}catch(u){c(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vh(this),this.idTokenSubscription=new vh(this),this.beforeStateQueue=new pI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$g,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=un(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Yi.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vr(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ot(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(un(e))})}async initializeRecaptchaConfig(){const e=await Jg(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Zg(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new tm(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ir("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&un(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await Yi.create(this,[un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return fe(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?e.addObserver(n,i,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Wk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yn(t){return ot(t)}class vh{constructor(e){this.auth=e,this.observer=null,this.addObserver=bw(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e){const n=_c(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(bo(r,e??{}))return s;Rt(s,"already-initialized")}return n.initialize({options:e})}function vI(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(un);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function _I(t,e,n){const i=Yn(t);fe(i._canInitEmulator,i,"emulator-config-failed"),fe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),r=nm(e),{host:o,port:c}=yI(e),u=c===null?"":`:${c}`;i.config.emulator={url:`${r}//${o}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||bI()}function nm(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yI(t){const e=nm(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:_h(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:_h(o)}}}function _h(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bI(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cn("not implemented")}_getIdTokenResponse(e){return cn("not implemented")}_linkToIdToken(e,n){return cn("not implemented")}_getReauthenticationResolver(e){return cn("not implemented")}}async function wI(t,e){return Ri(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(t,e){return Pr(t,"POST","/v1/accounts:signInWithPassword",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(t,e){return Pr(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}async function CI(t,e){return Pr(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends su{constructor(e,n,i,s=null){super("password",i),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new yr(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new yr(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await No(e,i,"signInWithPassword");return Ua(e,s)}else return Ua(e,i).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const r=await No(e,i,"signInWithPassword");return Ua(e,r)}else return Promise.reject(s)});case"emailLink":return EI(e,{email:this._email,oobCode:this._password});default:Rt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return wI(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return CI(e,{idToken:n,email:this._email,oobCode:this._password});default:Rt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qi(t,e){return Pr(t,"POST","/v1/accounts:signInWithIdp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="http://localhost";class Ei extends su{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=Zc(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new Ei(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qi(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Qi(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qi(e,n)}buildRequest(){const e={requestUri:kI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_s(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TI(t){const e=Ns($s(t)).link,n=e?Ns($s(e)).deep_link_id:null,i=Ns($s(t)).deep_link_id;return(i?Ns($s(i)).link:null)||i||n||e||t}class ru{constructor(e){var n,i,s,r,o,c;const u=Ns($s(e)),h=(n=u.apiKey)!==null&&n!==void 0?n:null,g=(i=u.oobCode)!==null&&i!==void 0?i:null,v=II((s=u.mode)!==null&&s!==void 0?s:null);fe(h&&g&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=g,this.continueUrl=(r=u.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=TI(e);try{return new ru(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.providerId=Mi.PROVIDER_ID}static credential(e,n){return yr._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=ru.parseLink(n);return fe(i,"argument-error"),yr._fromEmailAndCode(e,i.code,i.tenantId)}}Mi.PROVIDER_ID="password";Mi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends ou{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn extends Dr{constructor(){super("facebook.com")}static credential(e){return Ei._fromParams({providerId:Tn.PROVIDER_ID,signInMethod:Tn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tn.credentialFromTaggedObject(e)}static credentialFromError(e){return Tn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tn.credential(e.oauthAccessToken)}catch{return null}}}Tn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends Dr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ei._fromParams({providerId:Gt.PROVIDER_ID,signInMethod:Gt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gt.credentialFromTaggedObject(e)}static credentialFromError(e){return Gt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Gt.credential(n,i)}catch{return null}}}Gt.GOOGLE_SIGN_IN_METHOD="google.com";Gt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn extends Dr{constructor(){super("github.com")}static credential(e){return Ei._fromParams({providerId:Sn.PROVIDER_ID,signInMethod:Sn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sn.credentialFromTaggedObject(e)}static credentialFromError(e){return Sn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sn.credential(e.oauthAccessToken)}catch{return null}}}Sn.GITHUB_SIGN_IN_METHOD="github.com";Sn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends Dr{constructor(){super("twitter.com")}static credential(e,n){return Ei._fromParams({providerId:On.PROVIDER_ID,signInMethod:On.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return On.credentialFromTaggedObject(e)}static credentialFromError(e){return On.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return On.credential(n,i)}catch{return null}}}On.TWITTER_SIGN_IN_METHOD="twitter.com";On.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e){return Pr(t,"POST","/v1/accounts:signUp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await pi._fromIdTokenResponse(e,i,s),o=yh(i);return new Ci({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=yh(i);return new Ci({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function yh(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends Gn{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,$o.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new $o(e,n,i,s)}}function im(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?$o._fromErrorAndOperation(t,r,e,i):r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(t,e){const n=ot(t);await om(!0,n,e);const{providerUserInfo:i}=await Qk(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),s=sm(i||[]);return n.providerData=n.providerData.filter(r=>s.has(r.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function rm(t,e,n=!1){const i=await mr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ci._forOperation(t,"link",i)}async function om(t,e,n){await vr(e);const i=sm(e.providerData),s=t===!1?"provider-already-linked":"no-such-provider";fe(i.has(n)===t,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(t,e,n=!1){const{auth:i}=t,s="reauthenticate";try{const r=await mr(t,im(i,s,e,t),n);fe(r.idToken,i,"internal-error");const o=nu(r.idToken);fe(o,i,"internal-error");const{sub:c}=o;return fe(t.uid===c,i,"user-mismatch"),Ci._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Rt(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(t,e,n=!1){const i="signIn",s=await im(t,i,e),r=await Ci._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}async function AI(t,e){return am(Yn(t),e)}async function RI(t,e){const n=ot(t);return await om(!1,n,e.providerId),rm(n,e)}async function MI(t,e,n){var i;const s=Yn(t),r={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((i=s._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const h=await No(s,r,"signUpPassword");o=ja(s,h)}else o=ja(s,r).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const g=await No(s,r,"signUpPassword");return ja(s,g)}else return Promise.reject(h)});const c=await o.catch(h=>Promise.reject(h)),u=await Ci._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(u.user),u}function xI(t,e,n){return AI(ot(t),Mi.credential(e,n))}function PI(t,e,n,i){return ot(t).onIdTokenChanged(e,n,i)}function DI(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function LI(t){return ot(t).signOut()}const Bo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bo,"1"),this.storage.removeItem(Bo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){const t=lt();return iu(t)||pa(t)}const $I=1e3,BI=10;class cm extends lm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=NI()&&lI(),this.fallbackToPolling=Qg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);aI()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,BI):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},$I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cm.type="LOCAL";const FI=cm;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends lm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}um.type="SESSION";const dm=um;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new ga(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(o).map(async h=>h(n.origin,r)),u=await HI(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ga.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((c,u)=>{const h=au("",20);s.port1.start();const g=setTimeout(()=>{u(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(v){const b=v;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(g),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(b.data.response);break;default:clearTimeout(g),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return window}function UI(t){Qt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(){return typeof Qt().WorkerGlobalScope<"u"&&typeof Qt().importScripts=="function"}async function jI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function qI(){return hm()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="firebaseLocalStorageDb",zI=1,Fo="firebaseLocalStorage",pm="fbase_key";class Lr{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ma(t,e){return t.transaction([Fo],e?"readwrite":"readonly").objectStore(Fo)}function KI(){const t=indexedDB.deleteDatabase(fm);return new Lr(t).toPromise()}function Ll(){const t=indexedDB.open(fm,zI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Fo,{keyPath:pm})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Fo)?e(i):(i.close(),await KI(),e(await Ll()))})})}async function bh(t,e,n){const i=ma(t,!0).put({[pm]:e,value:n});return new Lr(i).toPromise()}async function GI(t,e){const n=ma(t,!1).get(e),i=await new Lr(n).toPromise();return i===void 0?null:i.value}function wh(t,e){const n=ma(t,!0).delete(e);return new Lr(n).toPromise()}const YI=800,QI=3;class gm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ll(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>QI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ga._getInstance(qI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jI(),!this.activeServiceWorker)return;this.sender=new WI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ll();return await bh(e,Bo,"1"),await wh(e,Bo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>bh(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>GI(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wh(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=ma(s,!1).getAll();return new Lr(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gm.type="LOCAL";const XI=gm;new xr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t,e){return e?un(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends su{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JI(t){return am(t.auth,new lu(t),t.bypassAuthState)}function ZI(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),OI(n,new lu(t),t.bypassAuthState)}async function eT(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),rm(n,new lu(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JI;case"linkViaPopup":case"linkViaRedirect":return eT;case"reauthViaPopup":case"reauthViaRedirect":return ZI;default:Rt(this.auth,"internal-error")}}resolve(e){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=new xr(2e3,1e4);class Hi extends vm{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Hi.currentPopupAction&&Hi.currentPopupAction.cancel(),Hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){pn(this.filter.length===1,"Popup operations only handle one event");const e=au();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tT.get())};e()}}Hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="pendingRedirect",to=new Map;class iT extends vm{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=to.get(this.auth._key());if(!e){try{const i=await sT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}to.set(this.auth._key(),e)}return this.bypassAuthState||to.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sT(t,e){const n=ym(e),i=_m(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}async function rT(t,e){return _m(t)._set(ym(e),"true")}function oT(t,e){to.set(t._key(),e)}function _m(t){return un(t._redirectPersistence)}function ym(t){return eo(nT,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e,n){return lT(t,e,n)}async function lT(t,e,n){const i=Yn(t);Uk(t,e,ou),await i._initializationPromise;const s=mm(i,n);return await rT(s,i),s._openRedirect(i,e,"signInViaRedirect")}async function cT(t,e){return await Yn(t)._initializationPromise,bm(t,e,!1)}async function bm(t,e,n=!1){const i=Yn(t),s=mm(i,e),o=await new iT(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=10*60*1e3;class dT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hT(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!wm(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Yt(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uT&&this.cachedEventUids.clear(),this.cachedEventUids.has(Eh(e))}saveEventToCache(e){this.cachedEventUids.add(Eh(e)),this.lastProcessedEventTime=Date.now()}}function Eh(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wm({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hT(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wm(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(t,e={}){return Ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gT=/^https?/;async function mT(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fT(t);for(const n of e)try{if(vT(n))return}catch{}Rt(t,"unauthorized-domain")}function vT(t){const e=Dl(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!gT.test(n))return!1;if(pT.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new xr(3e4,6e4);function Ch(){const t=Qt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yT(t){return new Promise((e,n)=>{var i,s,r;function o(){Ch(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ch(),n(Yt(t,"network-request-failed"))},timeout:_T.get()})}if(!((s=(i=Qt().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Qt().gapi)===null||r===void 0)&&r.load)o();else{const c=uI("iframefcb");return Qt()[c]=()=>{gapi.load?o():n(Yt(t,"network-request-failed"))},em(`https://apis.google.com/js/api.js?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw no=null,e})}let no=null;function bT(t){return no=no||yT(t),no}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new xr(5e3,15e3),ET="__/auth/iframe",CT="emulator/auth/iframe",kT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TT(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tu(e,CT):`https://${t.config.authDomain}/${ET}`,i={apiKey:e.apiKey,appName:t.name,v:ys},s=IT.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${_s(i).slice(1)}`}async function ST(t){const e=await bT(t),n=Qt().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:TT(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kT,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Yt(t,"network-request-failed"),c=Qt().setTimeout(()=>{r(o)},wT.get());function u(){Qt().clearTimeout(c),s(i)}i.ping(u).then(u,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AT=500,RT=600,MT="_blank",xT="http://localhost";class kh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PT(t,e,n,i=AT,s=RT){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},OT),{width:i.toString(),height:s.toString(),top:r,left:o}),h=lt().toLowerCase();n&&(c=qg(h)?MT:n),Vg(h)&&(e=e||xT,u.scrollbars="yes");const g=Object.entries(u).reduce((b,[I,H])=>`${b}${I}=${H},`,"");if(oI(h)&&c!=="_self")return DT(e||"",c),new kh(null);const v=window.open(e||"",c,g);fe(v,t,"popup-blocked");try{v.focus()}catch{}return new kh(v)}function DT(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="__/auth/handler",NT="emulator/auth/handler",$T=encodeURIComponent("fac");async function Ih(t,e,n,i,s,r){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ys,eventId:s};if(e instanceof ou){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gl(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries(r||{}))o[g]=v}if(e instanceof Dr){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(o.scopes=g.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const u=await t._getAppCheckToken(),h=u?`#${$T}=${encodeURIComponent(u)}`:"";return`${BT(t)}?${_s(c).slice(1)}${h}`}function BT({config:t}){return t.emulator?tu(t,NT):`https://${t.authDomain}/${LT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="webStorageSupport";class FT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dm,this._completeRedirectFn=bm,this._overrideRedirectResult=oT}async _openPopup(e,n,i,s){var r;pn((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Ih(e,n,i,Dl(),s);return PT(e,o,au())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await Ih(e,n,i,Dl(),s);return UI(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(pn(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await ST(e),i=new dT(e);return n.register("authEvent",s=>(fe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Va,{type:Va},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Va];o!==void 0&&n(!!o),Rt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mT(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Qg()||iu()||pa()}}const HT=FT;var Th="@firebase/auth",Sh="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function jT(t){is(new vi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xg(t)},h=new gI(i,s,r,u);return vI(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),is(new vi("auth-internal",e=>{const n=Yn(e.getProvider("auth").getImmediate());return(i=>new WT(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(Th,Sh,UT(t)),Ln(Th,Sh,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=5*60,qT=hp("authIdTokenMaxAge")||VT;let Oh=null;const zT=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>qT)return;const s=n==null?void 0:n.token;Oh!==s&&(Oh=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xt(t=yp()){const e=_c(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mI(t,{popupRedirectResolver:HT,persistence:[XI,FI,dm]}),i=hp("authTokenSyncURL");if(i){const r=zT(i);DI(n,r,()=>r(n.currentUser)),PI(n,o=>r(o))}const s=up("auth");return s&&_I(n,`http://${s}`),n}jT("Browser");const KT={namespaced:!0,actions:{async register({dispatch:t},{email:e,password:n,name:i}){try{const s=xt();await MI(s,e,n);const r=await t("auth/getUid",null,{root:!0}),o=it(),c=navigator.language||navigator.userLanguage;await Lg(ze(o,"users/"+r+"/info"),{name:i,bill:100,role:"User",locale:c}),t("setMessage",{type:"primary",value:Ve("RegistrationCompleted")},{root:!0})}catch(s){t("setMessage",{type:"warning",value:Ys(s.code)},{root:!0}),console.log(s)}},async login({dispatch:t},{email:e,password:n}){try{const i=xt();await xI(i,e,n),t("setMessage",{type:"primary",value:Ve("AuthorizationSuccessful")},{root:!0})}catch(i){throw t("setMessage",{type:"warning",value:Ys(i.code)},{root:!0}),i}},getUid(){const e=xt().currentUser;return e?e.uid:null},async logout({commit:t}){try{const e=xt();await LI(e),t("requests/clearinfo",null,{root:!0})}catch(e){console.log(e)}},async googleAuth(){const t=new Gt,e=xt();await aT(e,t)},async addLoginPass({dispatch:t},e){const n=Mi.credential(e.email,e.password),i=xt();await RI(i.currentUser,n).then(s=>{s.user,console.log("Account linking success"),t("setMessage",{type:"warning",value:"Account linking success"},{root:!0})}).catch(s=>{t("setMessage",{type:"warning",value:Ys(s.code)},{root:!0})})},async verificationMethods(){return xt().currentUser.providerData},redirectResult(){const t=sp(),e=xt();cT(e).then(n=>{n&&t.push("/")}).catch(n=>{console.log("error",n);const i=n.code;i&&console.log("errorCode",i);const s=n.message;s&&console.log("errorMessage",s);const r=n.customData.email;r&&console.log("email",r);const o=Gt.credentialFromError(n);o&&console.log("credential",o)})},async unMethodAuth({dispatch:t},e){const n=xt();await SI(n.currentUser,e).then(()=>{t("setMessage",{type:"primary",value:"  "},{root:!0})}).catch(i=>{console.log(i)})}}},GT={namespaced:!0,state(){return{list:[]}},getters:{list(t){return t.list}},mutations:{setlist(t,e){t.list=e},addlist(t,e){t.list.push(e)},update(t,{title:e,limit:n,idParrent:i}){t.list=t.list.map(s=>s.idParrent===i?{...s,title:e,limit:n}:s)}},actions:{async create({dispatch:t,commit:e},{title:n,limit:i,isDetected:s}){try{const r=it(),o=await t("auth/getUid",null,{root:!0}),c=Do(ze(r)).key;Bn(ze(r,"users/"+o+"/categories/"+c),{title:n,limit:i,isDetected:s}),e("addlist",{title:n,limit:i,idParrent:c,isDetected:s}),t("setMessage",{type:"primary",value:Ve("CategoryAddedSuccessfully")},{root:!0})}catch(r){console.log(r)}},async list({dispatch:t,commit:e}){try{const n=it(),i=await t("auth/getUid",null,{root:!0}),r=(await Fn(ze(n,"users/"+i+"/categories"))).val()||{},o=Object.keys(r).map(c=>({...r[c],idParrent:c}));return e("setlist",o),o}catch(n){console.log(n)}},async update({dispatch:t,commit:e},{title:n,limit:i,idParrent:s,isDetected:r}){try{const o=it(),c=await t("auth/getUid",null,{root:!0});await Bn(ze(o,"users/"+c+"/categories/"+s),{title:n,limit:i,isDetected:r}),e("update",{title:n,limit:i,idParrent:s,isDetected:r}),t("setMessage",{type:"primary",value:Ve("CategoryAddedSuccessfully")},{root:!0})}catch(o){console.log(o)}},async categoryById({dispatch:t},{idParrent:e}){try{const n=it(),i=await t("auth/getUid",null,{root:!0});return{...(await Fn(ze(n,"users/"+i+"/categories/"+e))).val()||{},idParrent:e}}catch(n){console.log(n)}}}},YT={namespaced:!0,state(){return{listRecords:[]}},getters:{listRecords(t){return t.listRecords}},mutations:{setRecords(t,e){t.listRecords=e},addRecords(t,e){t.listRecords.push(e)},clearRecords(t){t.listRecords=[]}},actions:{async addRecord({dispatch:t,commit:e},n){try{const i=it(),s=await t("auth/getUid",null,{root:!0}),r=Do(ze(i)).key,o=new Date().getMonth(),c=new Date().getFullYear();await Bn(ze(i,`/users/${s}/records/${c}/${o}/${r}`),n),e("addRecords",{...n,idRecord:r}),t("setMessage",{type:"primary",value:Ve("EntryAddedSuccessfully")},{root:!0})}catch(i){console.log(i)}},async listRecords({dispatch:t,commit:e},{yearModel:n,monthModel:i}){try{const s=it(),r=await t("auth/getUid",null,{root:!0}),c=(await Fn(ze(s,`/users/${r}/records/${n}/${i}`))).val()||{},u=Object.keys(c).map(h=>({...c[h],idRecord:h}));return e("setRecords",u),u}catch(s){console.log(s)}},async recordById({dispatch:t},{idRecord:e}){try{const n=it(),i=await t("auth/getUid",null,{root:!0});return(await Fn(ze(n,"users/"+i+"/records/"+e))).val()||{}}catch(n){console.log(n)}},async serviseDateRecords({dispatch:t}){try{const e=it(),n=await t("auth/getUid",null,{root:!0}),s=(await Fn(ze(e,`/users/${n}/serviseDateRecords`))).val()||{};return Object.keys(s).map(r=>({...s[r]}))}catch(e){console.log(e)}},async updateServiseDateRecords({dispatch:t}){try{const e=it(),n=await t("auth/getUid",null,{root:!0}),i=Do(ze(e)).key,s=new Date().toJSON();await Bn(ze(e,`/users/${n}/serviseDateRecords/${i}`),{day:s})}catch(e){console.log(e)}}}},QT={namespaced:!0,state(){return{list:[]}},getters:{list(t){return t.list}},mutations:{setlist(t,e){t.list=e},addlist(t,e){t.list.push(e)},update(t,{title:e,bill:n,idParrent:i,isDetected:s,type:r}){t.list=t.list.map(o=>o.idParrent===i?{...o,title:e,bill:n,isDetected:s,type:r}:o)}},actions:{async create({dispatch:t,commit:e},{title:n,bill:i,isDetected:s,limit:r,type:o}){try{const c=it(),u=await t("auth/getUid",null,{root:!0}),h=Do(ze(c)).key;Bn(ze(c,"users/"+u+"/card/"+h),{title:n,bill:i,limit:r,isDetected:s,type:o}),e("addlist",{title:n,bill:i,idParrent:h,isDetected:s,type:o}),t("setMessage",{type:"primary",value:Ve("CardAdded")},{root:!0})}catch(c){console.log(c)}},async list({dispatch:t,commit:e}){try{const n=it(),i=await t("auth/getUid",null,{root:!0}),r=(await Fn(ze(n,"users/"+i+"/card"))).val()||{},o=Object.keys(r).map(c=>({...r[c],idParrent:c}));return e("setlist",o),o}catch(n){console.log(n)}},async update({dispatch:t,commit:e},{bill:n,limit:i,isDetected:s,title:r,type:o,idParrent:c}){try{const u=it(),h=await t("auth/getUid",null,{root:!0});await Bn(ze(u,"users/"+h+"/card/"+c),{bill:n,limit:i,isDetected:s,title:r,type:o}),e("update",{bill:n,limit:i,isDetected:s,title:r,type:o}),t("setMessage",{type:"primary",value:Ve("CardIsUpdated")},{root:!0})}catch(u){console.log(u)}},async cardById({dispatch:t},{idParrent:e}){try{const n=it(),i=await t("auth/getUid",null,{root:!0});return{...(await Fn(ze(n,"users/"+i+"/card/"+e))).val()||{},idParrent:e}}catch(n){console.log(n)}},async updateListBill({dispatch:t,commit:e},n){try{const i=it(),s=await t("auth/getUid",null,{root:!0}),r={};n.map(o=>{o.bill=o.limit}),e("setlist",n),n.map(o=>{const{idParrent:c,...u}=o;r[c]=u}),await Bn(ze(i,"users/"+s+"/card"),r),t("setMessage",{type:"primary",value:Ve("AccountBillWasUpdated")},{root:!0})}catch(i){console.log(i)}}}},cu=Yy({state(){return{message:null,screenWidth:window.innerWidth}},mutations:{setMessage(t,e){return t.message=e},clearMessage(t){t.message=null},updateScreenWidth(t,e){t.screenWidth=e}},actions:{setMessage({commit:t},e){t("setMessage",e),setTimeout(()=>{t("clearMessage")},2500)},updateScreenWidth({commit:t},e){t("updateScreenWidth",e)}},getters:{message(t){return t.message},screenWidth(t){return t.screenWidth}},modules:{requests:Fk,auth:KT,categories:GT,records:YT,card:QT}}),XT="",JT="",ZT=" ",eS="",tS="  ",nS="",iS="",sS=" ",rS=" ",oS="  ",aS="",lS="",cS="",uS="",dS="",hS="   .",fS="    ",pS="      ",gS="  .",mS=" .",vS="",_S=" ",yS=" ",bS="",wS="",ES="",CS="",kS="    ",IS="",TS="",SS="",OS="  ",AS=" ",RS="    ",MS="",xS="  ",PS=" ",DS=" ",LS=" ID  ",NS="",$S="",BS="",FS="",HS="",WS="",US=" ",jS="",VS="",qS="",zS="  ?",KS="",GS=" email",YS="    email",QS=" ",XS=" ",JS="    ",ZS="",eO="",tO="  ",nO="  ?",iO=" ",sO=" ",rO="",oO="  ",aO="  ",lO="  ",cO="  . ",uO=" ",dO="!",hO="!",fO="  ",pO=", ",gO=" ",mO="  ",vO="   ",_O=" ",yO=" ",bO="",wO="    .",EO=" .",CO="",kO="",IO="",TO=" ",SO=" ",OO=" ",AO=" ",RO="",MO="    ",xO="   ",PO="",DO="",LO="",NO="",$O="",BO="",FO="",HO="",WO="",UO="",jO="",VO="",qO="     ",zO={"profile-title":"",refresh:XT,name:JT,localeSite:ZT,account:eS,AccountCurrency:tS,Currency:nS,Course:iS,ExchangeRate:sS,Date:"",HistoryNotes:rS,RecordsNotFound:oS,Back:aS,Next:lS,amount:cS,categorName:"",Type:uS,Open:dS,SpendingTransactionsYet:hS,OnlyNumbers:fS,AmountCannotBeLower:pS,"AmountRequired.":" .",categoriesNotFound:gS,AddPepper:mS,menuPlanning:vS,Menu_record:_S,ChooseCategory:yS,income:bS,costs:wS,description:ES,Create:CS,recordsNotFound:kS,categories:IS,NameRecord:TS,limit:SS,EnterCategoryName:OS,EnterLimit:AS,LimitCannotBeLess:RS,Edit:MS,AddNewCategory:xS,NewNameCategory:PS,add:DS,IdNotFound:LS,Hide:NS,Restore:$S,Menu_bill:BS,Menu_history:FS,Menu_categories:HS,planning:WS,HomeAccounting:US,Email:jS,Password:VS,Enter:qS,NoAccount:zS,SignUp:KS,EnterEmail:GS,MustBeValidEmail:YS,EnterPassword:QS,EnterName:XS,PasswordCannotBeSmaller:JS,Symbols:ZS,addLoginPass:eO,AgreeRules:tO,AlreadyHaveAnAccount:nO,CreatedRecord:iO,MarvelRecord:sO,GoOut:rO,DataUpdated:oO,EntryAddedSuccessfully:aO,CategoryAddedSuccessfully:lO,RegistrationCompleted:cO,AuthorizationSuccessful:uO,Successfully:dO,Error:"!",Attention:hO,logout:fO,"auth/user-not-found":"       ","auth/wrong-password":" ",auth:pO,PERMISSION_DENIED:gO,"auth/email-already-in-use":"       ",NotKnownError:mO,NotMoney:vO,"auth/requires-recent-login":"    .  ","auth/provider-already-linked":"   ",CreateCard:_O,CardName:yO,Balance:bO,CardNotFound:wO,SelectAYear:EO,Total:CO,Debits:kO,Credits:IO,ash:"",WriteOffCard:TO,ChooseCardType:SO,EditCard:OO,CardAdded:AO,CardIsUpdated:RO,AccountBillWasUpdated:MO,ChooseCardName:xO,January:PO,February:DO,March:LO,April:NO,May:$O,June:BO,July:FO,August:HO,September:WO,October:UO,November:jO,December:VO,AddLoginPassword:qO},KO="",GO="'",YO=" ",QO="",XO="  ",JO="",ZO="",eA=" ",tA=" ",nA="   ",iA="",sA="",rA="",oA="",aA="",lA="    .",cA="      ",uA="   .",dA="   .",hA=" .",fA="",pA=" ",gA=" ",mA="",vA="",_A="",yA="",bA="  ",wA="",EA="",CA="",kA="  ",IA=" ",TA="    ",SA="",OA="  ",AA=" ",RA="",MA="",xA=" ID  ",PA="",DA="",LA="",NA="",$A=" ",BA=" ",FA="",HA="",WA="",UA="  ?",jA="",VA=" email",qA="    email",zA=" ",KA=" ",GA="    ",YA="",QA="",XA="  ",JA="   ?",ZA=" ",eR=" ",tR="",nR="  ",iR="  ",sR="  ",rR="  . ",oR=" ",aR="!",lR="!",cR="  ",uR=" , ",dR=" ",hR="  ",fR="    ",pR=" ",gR=" ",mR="",vR="   .",_R=" ",yR="",bR="",wR="",ER="  ",CR=" ",kR=" ",IR=" ",TR="",SR="    ",OR="  ",AR="",RR="",MR="",xR="",PR="",DR="",LR="",NR="",$R="",BR="",FR="",HR="",WR="     ",UR={"profile-title":"",refresh:KO,name:GO,localeSite:YO,account:QO,AccountCurrency:XO,Currency:JO,Course:ZO,ExchangeRate:eA,Date:"",HistoryNotes:tA,RecordsNotFound:nA,Back:iA,Next:sA,amount:rA,categorName:"",Type:oA,Open:aA,OnlyNumbers:lA,AmountCannotBeLower:cA,"AmountRequired.":" '.",SpendingTransactionsYet:uA,categoriesNotFound:dA,AddPepper:hA,menuPlanning:fA,Menu_record:pA,ChooseCategory:gA,income:mA,costs:vA,description:_A,Create:yA,recordsNotFound:bA,categories:wA,NameRecord:EA,limit:CA,EnterCategoryName:kA,EnterLimit:IA,LimitCannotBeLess:TA,Edit:SA,AddNewCategory:OA,NewNameCategory:AA,Hide:RA,Restore:MA,IdNotFound:xA,Menu_bill:PA,Menu_history:DA,Menu_categories:LA,planning:NA,add:$A,HomeAccounting:BA,Email:FA,Password:HA,Enter:WA,NoAccount:UA,SignUp:jA,EnterEmail:VA,MustBeValidEmail:qA,EnterPassword:zA,EnterName:KA,PasswordCannotBeSmaller:GA,Symbols:YA,addLoginPass:QA,AgreeRules:XA,AlreadyHaveAnAccount:JA,CreatedRecord:ZA,MarvelRecord:eR,GoOut:tR,DataUpdated:nR,EntryAddedSuccessfully:iR,CategoryAddedSuccessfully:sR,RegistrationCompleted:rR,AuthorizationSuccessful:oR,Successfully:aR,Error:"!",Attention:lR,logout:cR,"auth/user-not-found":"       ","auth/wrong-password":" ",auth:uR,PERMISSION_DENIED:dR,"auth/email-already-in-use":"       ",NotKnownError:hR,NotMoney:fR,"auth/requires-recent-login":"    .  ","auth/provider-already-linked":"   '",CreateCard:pR,CardName:gR,Balance:mR,CardNotFound:vR,SelectAYear:_R,Total:yR,Debits:bR,Credits:wR,ash:"",WriteOffCard:ER,ChooseCardType:CR,EditCard:kR,CardAdded:IR,CardIsUpdated:TR,AccountBillWasUpdated:SR,ChooseCardName:OR,January:AR,February:RR,March:MR,April:xR,May:PR,June:DR,July:LR,August:NR,September:$R,October:BR,November:FR,December:HR,AddLoginPassword:WR},jR="Refresh",VR="Name",qR="Site language",zR="Account",KR="Account Currency",GR="Currency",YR="Course",QR="Exchange Rate",XR="History Notes",JR="No records yet",ZR="Back",eM="Forward",tM="Amount",nM="Category",iM="Type",sM="Open",rM="There are no spending transactions yet.",oM="Only numbers are allowed for input.",aM="The amount cannot be lower than ",lM="No categories yet.",cM="Add first.",uM="Planning",dM="New record",hM="Choose a category",fM="Income",pM="Costs",gM="Description",mM="Create",vM="No record found",_M="Categories",yM="Name",bM="Limit",wM="Enter Category Name",EM="Enter limit",CM="Limit cannot be less",kM="Edit",IM="Add new category",TM="New Name",SM="",OM="",AM="This ID was not found",RM="Bill",MM="History",xM="Categories",PM="Planning",DM="Add first",LM="Home Accounting",NM="Email",$M="Password",BM="Enter",FM="No account?",HM="Sign Up",WM="Enter email",UM="There must be a valid email here",jM="Enter password",VM="Enter login",qM="Password cannot be smaller",zM="symbols",KM="Add",GM="I agree with the rules",YM="Already have an account?",QM="Create Record",XM="View Record",JM="Exit",ZM="Data updated successfully",ex="Entry added successfully",tx="Category updated successfully",nx="Registration was successful. Log in",ix="Authorization successful",sx="Successfully!",rx="Attention!",ox="Logout was successful",ax="Please login",lx="Permission denied",cx="Not known error",ux="Not enough money in the account",dx="Create card",hx="Card name",fx="Balanse",px="Card not found.",gx="Select a year",mx="Total",vx="Debits",_x="Credits",yx="Write off card",bx="Choose type",wx="Edit card",Ex="Map added",Cx="Is updated",kx="The account was updated at the beginning of the month",Ix="Choose a card name",Tx="january",Sx="february",Ox="march",Ax="april",Rx="may",Mx="june",xx="july",Px="august",Dx="september",Lx="october",Nx="november",$x="december",Bx="Add login by login and password",Fx={"profile-title":"Profile",refresh:jR,name:VR,localeSite:qR,account:zR,AccountCurrency:KR,Currency:GR,Course:YR,ExchangeRate:QR,Date:"Date",HistoryNotes:XR,RecordsNotFound:JR,Back:ZR,Next:eM,amount:tM,categoryName:nM,Type:iM,Open:sM,SpendingTransactionsYet:rM,OnlyNumbers:oM,AmountCannotBeLower:aM,"AmountRequired.":"The amount is required.",categoriesNotFound:lM,AddPepper:cM,menuPlanning:uM,Menu_record:dM,ChooseCategory:hM,income:fM,costs:pM,description:gM,Create:mM,recordsNotFound:vM,categories:_M,NameRecord:yM,limit:bM,EnterCategoryName:wM,EnterLimit:EM,LimitCannotBeLess:CM,Edit:kM,AddNewCategory:IM,NewNameCategory:TM,Hide:SM,Restore:OM,IdNotFound:AM,Menu_bill:RM,Menu_history:MM,Menu_categories:xM,planning:PM,add:DM,HomeAccounting:LM,Email:NM,Password:$M,Enter:BM,NoAccount:FM,SignUp:HM,EnterEmail:WM,MustBeValidEmail:UM,EnterPassword:jM,EnterName:VM,PasswordCannotBeSmaller:qM,Symbols:zM,addLoginPass:KM,AgreeRules:GM,AlreadyHaveAnAccount:YM,CreatedRecord:QM,MarvelRecord:XM,GoOut:JM,DataUpdated:ZM,EntryAddedSuccessfully:ex,CategoryAddedSuccessfully:tx,RegistrationCompleted:nx,AuthorizationSuccessful:ix,Successfully:sx,Error:"Error!",Attention:rx,logout:ox,"auth/user-not-found":"No user found with this email","auth/wrong-password":"Wrong password",auth:ax,PERMISSION_DENIED:lx,"auth/email-already-in-use":"User with this email is already taken",NotKnownError:cx,NotMoney:ux,"auth/requires-recent-login":"Auth requires recent login. Log in again","auth/provider-already-linked":"Auth provider already linked",CreateCard:dx,CardName:hx,Balance:fx,CardNotFound:px,SelectAYear:gx,Total:mx,Debits:vx,Credits:_x,ash:"ash",WriteOffCard:yx,ChooseCardType:bx,EditCard:wx,CardAdded:Ex,CardIsUpdated:Cx,AccountBillWasUpdated:kx,ChooseCardName:Ix,January:Tx,February:Sx,March:Ox,April:Ax,May:Rx,June:Mx,July:xx,August:Px,September:Dx,October:Lx,November:Nx,December:$x,AddLoginPassword:Bx},l1=[{flag:"uk-UA",value:""},{flag:"ru-RU",value:""},{flag:"en-US",value:"English"}],Hx={"uk-UA":UR,"ru-RU":zO,"en-US":Fx};function Ve(t){const e=navigator.language||navigator.userLanguage,n=cu.getters["requests/clientInfo"].locale||e||"uk-UA";return Hx[n][t]||`[Localize error]: key ${t} not found`}function Ys(t){return Ve(t)?Ve(t):Ve("NotKnownError")}const xi=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},Wx={name:"AppNavbar",emits:["close"],setup(){const t=sp(),e=gs(),n=yt(null),i=yt(new Date),s=yt(null),r=yt(""),o=Pe(()=>e.getters.screenWidth);vn(()=>{n.value=$m.Dropdown.init(n.value,{constrainWidth:!1}),s.value=setInterval(()=>{i.value=new Date},1e3)});const c=()=>{e.dispatch("auth/logout"),t.push("/login?message=logout"),e.dispatch("setMessage",{type:"primary",value:Ys("logout")})};return Ti(()=>{clearInterval(s.value),n.value&&n.value.destroy&&n.value.destroy()}),o.value>600&&(r.value=Pe(()=>e.getters["requests/clientInfo"].name)),{dropdown:n,date:i,dateFilter:Qy,logout:c,user:r,getLocalizedText:Ve}}},Ux={class:"navbar orange lighten-1"},jx={class:"nav-wrapper"},Vx={class:"navbar-left"},qx=Re("i",{class:"material-icons black-text"},"dehaze",-1),zx=[qx],Kx={class:"black-text"},Gx={class:"right"},Yx={ref:"dropdown",class:"dropdown-trigger black-text",href:"#","data-target":"dropdown"},Qx=Re("i",{class:"material-icons right"},"arrow_drop_down",-1),Xx={id:"dropdown",class:"dropdown-content"},Jx=Re("i",{class:"material-icons"},"account_circle",-1),Zx=Re("li",{class:"divider",tabindex:"-1"},null,-1),eP=Re("i",{class:"material-icons"},"assignment_return",-1);function tP(t,e,n,i,s,r){const o=Pt("RouterLink");return Xe(),It("nav",Ux,[Re("div",jx,[Re("div",Vx,[Re("a",{href:"#",onClick:e[0]||(e[0]=cl(c=>t.$emit("close"),["prevent"]))},zx),Re("span",Kx,An(i.dateFilter(i.date,"datetime")),1)]),Re("ul",Gx,[Re("li",null,[Re("a",Yx,[qi(An(i.user.value)+" ",1),Qx],512),Re("ul",Xx,[Re("li",null,[Fe(o,{to:"/profile"},{default:Un(()=>[Jx,qi(An(i.getLocalizedText("profile-title")),1)]),_:1})]),Zx,Re("li",{onClick:e[1]||(e[1]=cl((...c)=>i.logout&&i.logout(...c),["prevent"]))},[Fe(o,{to:"/login"},{default:Un(()=>[eP,qi(An(i.getLocalizedText("GoOut")),1)]),_:1})])])])])])])}const nP=xi(Wx,[["render",tP]]),iP={name:"AppSidenav",emits:["close"],props:{isOpen:{type:Boolean,requared:!0}},setup(t,{emit:e}){return{links:[{title:Ve("Menu_bill"),to:"/",exact:!0},{title:Ve("Menu_history"),to:"/history"},{title:Ve("planning"),to:"/planning"},{title:Ve("HistoryNotes"),to:"/record"},{title:Ve("Menu_categories"),to:"/categories"}],closeMenu:()=>{e("close")}}}};function sP(t,e,n,i,s,r){const o=Pt("RouterLink");return Xe(),It("ul",{class:gi(["sidenav app-sidenav",{open:n.isOpen}])},[(Xe(!0),It(ft,null,d_(i.links,c=>(Xe(),It("li",{key:c.to,onClick:e[0]||(e[0]=cl((...u)=>i.closeMenu&&i.closeMenu(...u),["prevent"]))},[Fe(o,{to:c.to,exact:c.exact},{default:Un(()=>[qi(An(c.title),1)]),_:2},1032,["to","exact"])]))),128))],2)}const rP=xi(iP,[["render",sP]]),oP={name:"AppLoading",setup(){return{}}},aP={class:"center"},lP=D_('<div class="preloader-wrapper small active"><div class="spinner-layer spinner-green-only"><div class="circle-clipper left"><div class="circle"></div></div><div class="gap-patch"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div></div>',1),cP=[lP];function uP(t,e,n,i,s,r){return Xe(),It("div",aP,cP)}const dP=xi(oP,[["render",uP]]);function Nl(t,e,n){var i,s,r,o,c;e==null&&(e=100);function u(){var g=Date.now()-o;g<e&&g>=0?i=setTimeout(u,e-g):(i=null,n||(c=t.apply(r,s),r=s=null))}var h=function(){r=this,s=arguments,o=Date.now();var g=n&&!i;return i||(i=setTimeout(u,e)),g&&(c=t.apply(r,s),r=s=null),c};return h.clear=function(){i&&(clearTimeout(i),i=null)},h.flush=function(){i&&(c=t.apply(r,s),r=s=null,clearTimeout(i),i=null)},h}Nl.debounce=Nl;var qa=Nl;function hP(t,e,n){tt(t)?Et(t,(i,s)=>{s==null||s.removeEventListener(e,n),i==null||i.addEventListener(e,n)}):vn(()=>{t.addEventListener(e,n)}),Ti(()=>{var i;(i=pt(t))===null||i===void 0||i.removeEventListener(e,n)})}function fP(t,e){const n="pointerdown";return typeof window>"u"||!window?void 0:hP(window,n,s=>{const r=pt(t);r&&(r===s.target||s.composedPath().includes(r)||e(s))})}function pP(t,e,n){let i=null;const s=yt(!1);vn(()=>{(t.content!==void 0||n.value)&&(s.value=!0),i=new MutationObserver(r),i.observe(e.value,{childList:!0,subtree:!0})}),Ti(()=>i.disconnect()),Et(n,o=>{o?s.value=!0:s.value=!1});const r=()=>{t.content?s.value=!0:s.value=!1};return{hasContent:s}}function cs(t,e){var n=t.getBoundingClientRect(),i=1,s=1;return{width:n.width/i,height:n.height/s,top:n.top/s,right:n.right/i,bottom:n.bottom/s,left:n.left/i,x:n.left/i,y:n.top/s}}function Vt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function uu(t){var e=Vt(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function br(t){var e=Vt(t).Element;return t instanceof e||t instanceof Element}function Tt(t){var e=Vt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Em(t){if(typeof ShadowRoot>"u")return!1;var e=Vt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function gP(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function mP(t){return t===Vt(t)||!Tt(t)?uu(t):gP(t)}function Zt(t){return t?(t.nodeName||"").toLowerCase():null}function Qn(t){return((br(t)?t.ownerDocument:t.document)||window.document).documentElement}function du(t){return cs(Qn(t)).left+uu(t).scrollLeft}function gn(t){return Vt(t).getComputedStyle(t)}function hu(t){var e=gn(t),n=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+i)}function vP(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,i=e.height/t.offsetHeight||1;return n!==1||i!==1}function _P(t,e,n){n===void 0&&(n=!1);var i=Tt(e);Tt(e)&&vP(e);var s=Qn(e),r=cs(t),o={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!n)&&((Zt(e)!=="body"||hu(s))&&(o=mP(e)),Tt(e)?(c=cs(e),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=du(s))),{x:r.left+o.scrollLeft-c.x,y:r.top+o.scrollTop-c.y,width:r.width,height:r.height}}function fu(t){var e=cs(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function va(t){return Zt(t)==="html"?t:t.assignedSlot||t.parentNode||(Em(t)?t.host:null)||Qn(t)}function Cm(t){return["html","body","#document"].indexOf(Zt(t))>=0?t.ownerDocument.body:Tt(t)&&hu(t)?t:Cm(va(t))}function Qs(t,e){var n;e===void 0&&(e=[]);var i=Cm(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),r=Vt(i),o=s?[r].concat(r.visualViewport||[],hu(i)?i:[]):i,c=e.concat(o);return s?c:c.concat(Qs(va(o)))}function yP(t){return["table","td","th"].indexOf(Zt(t))>=0}function Ah(t){return!Tt(t)||gn(t).position==="fixed"?null:t.offsetParent}function bP(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Tt(t)){var i=gn(t);if(i.position==="fixed")return null}for(var s=va(t);Tt(s)&&["html","body"].indexOf(Zt(s))<0;){var r=gn(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function Nr(t){for(var e=Vt(t),n=Ah(t);n&&yP(n)&&gn(n).position==="static";)n=Ah(n);return n&&(Zt(n)==="html"||Zt(n)==="body"&&gn(n).position==="static")?e:n||bP(t)||e}var St="top",Wt="bottom",Ut="right",Ot="left",pu="auto",$r=[St,Wt,Ut,Ot],us="start",wr="end",wP="clippingParents",km="viewport",xs="popper",EP="reference",Rh=$r.reduce(function(t,e){return t.concat([e+"-"+us,e+"-"+wr])},[]),Im=[].concat($r,[pu]).reduce(function(t,e){return t.concat([e,e+"-"+us,e+"-"+wr])},[]),CP="beforeRead",kP="read",IP="afterRead",TP="beforeMain",SP="main",OP="afterMain",AP="beforeWrite",RP="write",MP="afterWrite",xP=[CP,kP,IP,TP,SP,OP,AP,RP,MP];function PP(t){var e=new Map,n=new Set,i=[];t.forEach(function(r){e.set(r.name,r)});function s(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(c){if(!n.has(c)){var u=e.get(c);u&&s(u)}}),i.push(r)}return t.forEach(function(r){n.has(r.name)||s(r)}),i}function DP(t){var e=PP(t);return xP.reduce(function(n,i){return n.concat(e.filter(function(s){return s.phase===i}))},[])}function LP(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Xt(t){return t.split("-")[0]}function NP(t){var e=t.reduce(function(n,i){var s=n[i.name];return n[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}function $P(t){var e=Vt(t),n=Qn(t),i=e.visualViewport,s=n.clientWidth,r=n.clientHeight,o=0,c=0;return i&&(s=i.width,r=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,c=i.offsetTop)),{width:s,height:r,x:o+du(t),y:c}}var Hn=Math.max,Er=Math.min,Kr=Math.round;function BP(t){var e,n=Qn(t),i=uu(t),s=(e=t.ownerDocument)==null?void 0:e.body,r=Hn(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Hn(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),c=-i.scrollLeft+du(t),u=-i.scrollTop;return gn(s||n).direction==="rtl"&&(c+=Hn(n.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:c,y:u}}function Tm(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Em(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function $l(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function FP(t){var e=cs(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Mh(t,e){return e===km?$l($P(t)):Tt(e)?FP(e):$l(BP(Qn(t)))}function HP(t){var e=Qs(va(t)),n=["absolute","fixed"].indexOf(gn(t).position)>=0,i=n&&Tt(t)?Nr(t):t;return br(i)?e.filter(function(s){return br(s)&&Tm(s,i)&&Zt(s)!=="body"}):[]}function WP(t,e,n){var i=e==="clippingParents"?HP(t):[].concat(e),s=[].concat(i,[n]),r=s[0],o=s.reduce(function(c,u){var h=Mh(t,u);return c.top=Hn(h.top,c.top),c.right=Er(h.right,c.right),c.bottom=Er(h.bottom,c.bottom),c.left=Hn(h.left,c.left),c},Mh(t,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function ds(t){return t.split("-")[1]}function gu(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Sm(t){var e=t.reference,n=t.element,i=t.placement,s=i?Xt(i):null,r=i?ds(i):null,o=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,u;switch(s){case St:u={x:o,y:e.y-n.height};break;case Wt:u={x:o,y:e.y+e.height};break;case Ut:u={x:e.x+e.width,y:c};break;case Ot:u={x:e.x-n.width,y:c};break;default:u={x:e.x,y:e.y}}var h=s?gu(s):null;if(h!=null){var g=h==="y"?"height":"width";switch(r){case us:u[h]=u[h]-(e[g]/2-n[g]/2);break;case wr:u[h]=u[h]+(e[g]/2-n[g]/2);break}}return u}function Om(){return{top:0,right:0,bottom:0,left:0}}function Am(t){return Object.assign({},Om(),t)}function Rm(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}function mu(t,e){e===void 0&&(e={});var n=e,i=n.placement,s=i===void 0?t.placement:i,r=n.boundary,o=r===void 0?wP:r,c=n.rootBoundary,u=c===void 0?km:c,h=n.elementContext,g=h===void 0?xs:h,v=n.altBoundary,b=v===void 0?!1:v,I=n.padding,H=I===void 0?0:I,f=Am(typeof H!="number"?H:Rm(H,$r)),_=g===xs?EP:xs,k=t.rects.popper,T=t.elements[b?_:g],m=WP(br(T)?T:T.contextElement||Qn(t.elements.popper),o,u),a=cs(t.elements.reference),l=Sm({reference:a,element:k,strategy:"absolute",placement:s}),d=$l(Object.assign({},k,l)),p=g===xs?d:a,E={top:m.top-p.top+f.top,bottom:p.bottom-m.bottom+f.bottom,left:m.left-p.left+f.left,right:p.right-m.right+f.right},A=t.modifiersData.offset;if(g===xs&&A){var P=A[s];Object.keys(E).forEach(function(j){var F=[Ut,Wt].indexOf(j)>=0?1:-1,V=[St,Wt].indexOf(j)>=0?"y":"x";E[j]+=P[V]*F})}return E}var xh={placement:"bottom",modifiers:[],strategy:"absolute"};function Ph(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function UP(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,s=e.defaultOptions,r=s===void 0?xh:s;return function(c,u,h){h===void 0&&(h=r);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},xh,r),modifiersData:{},elements:{reference:c,popper:u},attributes:{},styles:{}},v=[],b=!1,I={state:g,setOptions:function(k){var T=typeof k=="function"?k(g.options):k;f(),g.options=Object.assign({},r,g.options,T),g.scrollParents={reference:br(c)?Qs(c):c.contextElement?Qs(c.contextElement):[],popper:Qs(u)};var m=DP(NP([].concat(i,g.options.modifiers)));return g.orderedModifiers=m.filter(function(a){return a.enabled}),H(),I.update()},forceUpdate:function(){if(!b){var k=g.elements,T=k.reference,m=k.popper;if(Ph(T,m)){g.rects={reference:_P(T,Nr(m),g.options.strategy==="fixed"),popper:fu(m)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(P){return g.modifiersData[P.name]=Object.assign({},P.data)});for(var a=0;a<g.orderedModifiers.length;a++){if(g.reset===!0){g.reset=!1,a=-1;continue}var l=g.orderedModifiers[a],d=l.fn,p=l.options,E=p===void 0?{}:p,A=l.name;typeof d=="function"&&(g=d({state:g,options:E,name:A,instance:I})||g)}}}},update:LP(function(){return new Promise(function(_){I.forceUpdate(),_(g)})}),destroy:function(){f(),b=!0}};if(!Ph(c,u))return I;I.setOptions(h).then(function(_){!b&&h.onFirstUpdate&&h.onFirstUpdate(_)});function H(){g.orderedModifiers.forEach(function(_){var k=_.name,T=_.options,m=T===void 0?{}:T,a=_.effect;if(typeof a=="function"){var l=a({state:g,name:k,instance:I,options:m}),d=function(){};v.push(l||d)}})}function f(){v.forEach(function(_){return _()}),v=[]}return I}}var Gr={passive:!0};function jP(t){var e=t.state,n=t.instance,i=t.options,s=i.scroll,r=s===void 0?!0:s,o=i.resize,c=o===void 0?!0:o,u=Vt(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&h.forEach(function(g){g.addEventListener("scroll",n.update,Gr)}),c&&u.addEventListener("resize",n.update,Gr),function(){r&&h.forEach(function(g){g.removeEventListener("scroll",n.update,Gr)}),c&&u.removeEventListener("resize",n.update,Gr)}}var VP={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:jP,data:{}};function qP(t){var e=t.state,n=t.name;e.modifiersData[n]=Sm({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var zP={name:"popperOffsets",enabled:!0,phase:"read",fn:qP,data:{}},KP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function GP(t){var e=t.x,n=t.y,i=window,s=i.devicePixelRatio||1;return{x:Kr(Kr(e*s)/s)||0,y:Kr(Kr(n*s)/s)||0}}function Dh(t){var e,n=t.popper,i=t.popperRect,s=t.placement,r=t.variation,o=t.offsets,c=t.position,u=t.gpuAcceleration,h=t.adaptive,g=t.roundOffsets,v=g===!0?GP(o):typeof g=="function"?g(o):o,b=v.x,I=b===void 0?0:b,H=v.y,f=H===void 0?0:H,_=o.hasOwnProperty("x"),k=o.hasOwnProperty("y"),T=Ot,m=St,a=window;if(h){var l=Nr(n),d="clientHeight",p="clientWidth";l===Vt(n)&&(l=Qn(n),gn(l).position!=="static"&&c==="absolute"&&(d="scrollHeight",p="scrollWidth")),l=l,(s===St||(s===Ot||s===Ut)&&r===wr)&&(m=Wt,f-=l[d]-i.height,f*=u?1:-1),(s===Ot||(s===St||s===Wt)&&r===wr)&&(T=Ut,I-=l[p]-i.width,I*=u?1:-1)}var E=Object.assign({position:c},h&&KP);if(u){var A;return Object.assign({},E,(A={},A[m]=k?"0":"",A[T]=_?"0":"",A.transform=(a.devicePixelRatio||1)<=1?"translate("+I+"px, "+f+"px)":"translate3d("+I+"px, "+f+"px, 0)",A))}return Object.assign({},E,(e={},e[m]=k?f+"px":"",e[T]=_?I+"px":"",e.transform="",e))}function YP(t){var e=t.state,n=t.options,i=n.gpuAcceleration,s=i===void 0?!0:i,r=n.adaptive,o=r===void 0?!0:r,c=n.roundOffsets,u=c===void 0?!0:c,h={placement:Xt(e.placement),variation:ds(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Dh(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Dh(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var QP={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:YP,data:{}};function XP(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},s=e.attributes[n]||{},r=e.elements[n];!Tt(r)||!Zt(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var c=s[o];c===!1?r.removeAttribute(o):r.setAttribute(o,c===!0?"":c)}))})}function JP(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],r=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),c=o.reduce(function(u,h){return u[h]="",u},{});!Tt(s)||!Zt(s)||(Object.assign(s.style,c),Object.keys(r).forEach(function(u){s.removeAttribute(u)}))})}}var ZP={name:"applyStyles",enabled:!0,phase:"write",fn:XP,effect:JP,requires:["computeStyles"]},eD=[VP,zP,QP,ZP],tD=UP({defaultModifiers:eD});function nD(t){return t==="x"?"y":"x"}function io(t,e,n){return Hn(t,Er(e,n))}function iD(t){var e=t.state,n=t.options,i=t.name,s=n.mainAxis,r=s===void 0?!0:s,o=n.altAxis,c=o===void 0?!1:o,u=n.boundary,h=n.rootBoundary,g=n.altBoundary,v=n.padding,b=n.tether,I=b===void 0?!0:b,H=n.tetherOffset,f=H===void 0?0:H,_=mu(e,{boundary:u,rootBoundary:h,padding:v,altBoundary:g}),k=Xt(e.placement),T=ds(e.placement),m=!T,a=gu(k),l=nD(a),d=e.modifiersData.popperOffsets,p=e.rects.reference,E=e.rects.popper,A=typeof f=="function"?f(Object.assign({},e.rects,{placement:e.placement})):f,P={x:0,y:0};if(d){if(r||c){var j=a==="y"?St:Ot,F=a==="y"?Wt:Ut,V=a==="y"?"height":"width",Q=d[a],ie=d[a]+_[j],oe=d[a]-_[F],J=I?-E[V]/2:0,ee=T===us?p[V]:E[V],le=T===us?-E[V]:-p[V],ue=e.elements.arrow,ae=I&&ue?fu(ue):{width:0,height:0},ve=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Om(),he=ve[j],Se=ve[F],He=io(0,p[V],ae[V]),ke=m?p[V]/2-J-He-he-A:ee-He-he-A,z=m?-p[V]/2+J+He+Se+A:le+He+Se+A,K=e.elements.arrow&&Nr(e.elements.arrow),Z=K?a==="y"?K.clientTop||0:K.clientLeft||0:0,se=e.modifiersData.offset?e.modifiersData.offset[e.placement][a]:0,pe=d[a]+ke-se-Z,S=d[a]+z-se;if(r){var R=io(I?Er(ie,pe):ie,Q,I?Hn(oe,S):oe);d[a]=R,P[a]=R-Q}if(c){var B=a==="x"?St:Ot,w=a==="x"?Wt:Ut,O=d[l],x=O+_[B],L=O-_[w],N=io(I?Er(x,pe):x,O,I?Hn(L,S):L);d[l]=N,P[l]=N-O}}e.modifiersData[i]=P}}var sD={name:"preventOverflow",enabled:!0,phase:"main",fn:iD,requiresIfExists:["offset"]},rD={left:"right",right:"left",bottom:"top",top:"bottom"};function so(t){return t.replace(/left|right|bottom|top/g,function(e){return rD[e]})}var oD={start:"end",end:"start"};function Lh(t){return t.replace(/start|end/g,function(e){return oD[e]})}function aD(t,e){e===void 0&&(e={});var n=e,i=n.placement,s=n.boundary,r=n.rootBoundary,o=n.padding,c=n.flipVariations,u=n.allowedAutoPlacements,h=u===void 0?Im:u,g=ds(i),v=g?c?Rh:Rh.filter(function(H){return ds(H)===g}):$r,b=v.filter(function(H){return h.indexOf(H)>=0});b.length===0&&(b=v);var I=b.reduce(function(H,f){return H[f]=mu(t,{placement:f,boundary:s,rootBoundary:r,padding:o})[Xt(f)],H},{});return Object.keys(I).sort(function(H,f){return I[H]-I[f]})}function lD(t){if(Xt(t)===pu)return[];var e=so(t);return[Lh(t),e,Lh(e)]}function cD(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=n.mainAxis,r=s===void 0?!0:s,o=n.altAxis,c=o===void 0?!0:o,u=n.fallbackPlacements,h=n.padding,g=n.boundary,v=n.rootBoundary,b=n.altBoundary,I=n.flipVariations,H=I===void 0?!0:I,f=n.allowedAutoPlacements,_=e.options.placement,k=Xt(_),T=k===_,m=u||(T||!H?[so(_)]:lD(_)),a=[_].concat(m).reduce(function(Se,He){return Se.concat(Xt(He)===pu?aD(e,{placement:He,boundary:g,rootBoundary:v,padding:h,flipVariations:H,allowedAutoPlacements:f}):He)},[]),l=e.rects.reference,d=e.rects.popper,p=new Map,E=!0,A=a[0],P=0;P<a.length;P++){var j=a[P],F=Xt(j),V=ds(j)===us,Q=[St,Wt].indexOf(F)>=0,ie=Q?"width":"height",oe=mu(e,{placement:j,boundary:g,rootBoundary:v,altBoundary:b,padding:h}),J=Q?V?Ut:Ot:V?Wt:St;l[ie]>d[ie]&&(J=so(J));var ee=so(J),le=[];if(r&&le.push(oe[F]<=0),c&&le.push(oe[J]<=0,oe[ee]<=0),le.every(function(Se){return Se})){A=j,E=!1;break}p.set(j,le)}if(E)for(var ue=H?3:1,ae=function(He){var ke=a.find(function(z){var K=p.get(z);if(K)return K.slice(0,He).every(function(Z){return Z})});if(ke)return A=ke,"break"},ve=ue;ve>0;ve--){var he=ae(ve);if(he==="break")break}e.placement!==A&&(e.modifiersData[i]._skip=!0,e.placement=A,e.reset=!0)}}var uD={name:"flip",enabled:!0,phase:"main",fn:cD,requiresIfExists:["offset"],data:{_skip:!1}};function dD(t,e,n){var i=Xt(t),s=[Ot,St].indexOf(i)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=r[0],c=r[1];return o=o||0,c=(c||0)*s,[Ot,Ut].indexOf(i)>=0?{x:c,y:o}:{x:o,y:c}}function hD(t){var e=t.state,n=t.options,i=t.name,s=n.offset,r=s===void 0?[0,0]:s,o=Im.reduce(function(g,v){return g[v]=dD(v,e.rects,r),g},{}),c=o[e.placement],u=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=h),e.modifiersData[i]=o}var fD={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:hD},pD=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Am(typeof e!="number"?e:Rm(e,$r))};function gD(t){var e,n=t.state,i=t.name,s=t.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,c=Xt(n.placement),u=gu(c),h=[Ot,Ut].indexOf(c)>=0,g=h?"height":"width";if(!(!r||!o)){var v=pD(s.padding,n),b=fu(r),I=u==="y"?St:Ot,H=u==="y"?Wt:Ut,f=n.rects.reference[g]+n.rects.reference[u]-o[u]-n.rects.popper[g],_=o[u]-n.rects.reference[u],k=Nr(r),T=k?u==="y"?k.clientHeight||0:k.clientWidth||0:0,m=f/2-_/2,a=v[I],l=T-b[g]-v[H],d=T/2-b[g]/2+m,p=io(a,d,l),E=u;n.modifiersData[i]=(e={},e[E]=p,e.centerOffset=p-d,e)}}function mD(t){var e=t.state,n=t.options,i=n.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||Tm(e.elements.popper,s)&&(e.elements.arrow=s))}var vD={name:"arrow",enabled:!0,phase:"main",fn:gD,effect:mD,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};const za=t=>parseInt(t,10);function _D({arrowPadding:t,emit:e,locked:n,offsetDistance:i,offsetSkid:s,placement:r,popperNode:o,triggerNode:c}){const u=Ii({isOpen:!1,popperInstance:null}),h=f=>{var _;(_=u.popperInstance)===null||_===void 0||_.setOptions(k=>({...k,modifiers:[...k.modifiers,{name:"eventListeners",enabled:f}]}))},g=()=>h(!0),v=()=>h(!1),b=()=>{u.isOpen&&(u.isOpen=!1,e("close:popper"))},I=()=>{u.isOpen||(u.isOpen=!0,e("open:popper"))};Et([()=>u.isOpen,r],async([f])=>{f?(await H(),g()):v()});const H=async()=>{await Xl(),u.popperInstance=tD(c.value,o.value,{placement:r.value,modifiers:[sD,uD,{name:"flip",enabled:!n.value},vD,{name:"arrow",options:{padding:za(t.value)}},fD,{name:"offset",options:{offset:[za(s.value),za(i.value)]}}]}),u.popperInstance.update()};return Ti(()=>{var f;(f=u.popperInstance)===null||f===void 0||f.destroy()}),{...af(u),open:I,close:b}}const yD={id:"arrow","data-popper-arrow":""};function bD(t,e){return Xe(),It("div",yD)}function Mm(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}}var wD=`
#arrow[data-v-20b7fd4a],
  #arrow[data-v-20b7fd4a]::before {
    transition: background 250ms ease-in-out;
    position: absolute;
    width: calc(10px - var(--popper-theme-border-width, 0px));
    height: calc(10px - var(--popper-theme-border-width, 0px));
    box-sizing: border-box;
    background: var(--popper-theme-background-color);
}
#arrow[data-v-20b7fd4a] {
    visibility: hidden;
}
#arrow[data-v-20b7fd4a]::before {
    visibility: visible;
    content: "";
    transform: rotate(45deg);
}

  /* Top arrow */
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a] {
    bottom: -5px;
}
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-bottom: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Bottom arrow */
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a] {
    top: -5px;
}
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a]::before {
    border-left: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Left arrow */
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a] {
    right: -5px;
}
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Right arrow */
.popper[data-popper-placement^="right"] > #arrow[data-v-20b7fd4a] {
    left: -5px;
}
`;Mm(wD);const vu={};vu.render=bD;vu.__scopeId="data-v-20b7fd4a";var ED=vu;const CD=["onKeyup"];var xm={props:{placement:{type:String,default:"bottom",validator:function(t){return["auto","auto-start","auto-end","top","top-start","top-end","bottom","bottom-start","bottom-end","right","right-start","right-end","left","left-start","left-end"].includes(t)}},disableClickAway:{type:Boolean,default:!1},offsetSkid:{type:String,default:"0"},offsetDistance:{type:String,default:"12"},hover:{type:Boolean,default:!1},show:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:9999},arrow:{type:Boolean,default:!1},arrowPadding:{type:String,default:"0"},interactive:{type:Boolean,default:!0},locked:{type:Boolean,default:!1},content:{type:String,default:null}},emits:["open:popper","close:popper"],setup(t,{emit:e}){const n=t;cy(ee=>({c81fc0a4:t.zIndex}));const i=f_(),s=yt(null),r=yt(null),o=yt(null),c=yt(!1);vn(()=>{const ee=i.default();if(ee&&ee.length>1)return console.error(`[Popper]: The <Popper> component expects only one child element at its root. You passed ${ee.length} child nodes.`)});const{arrowPadding:u,closeDelay:h,content:g,disableClickAway:v,disabled:b,interactive:I,locked:H,offsetDistance:f,offsetSkid:_,openDelay:k,placement:T,show:m}=af(n),{isOpen:a,open:l,close:d}=_D({arrowPadding:u,emit:e,locked:H,offsetDistance:f,offsetSkid:_,placement:T,popperNode:r,triggerNode:o}),{hasContent:p}=pP(i,r,g),E=Pe(()=>m.value!==null),A=Pe(()=>b.value||!p.value),P=Pe(()=>a.value&&!A.value),j=Pe(()=>!v.value&&!E.value),F=Pe(()=>I.value?`border: ${f.value}px solid transparent; margin: -${f.value}px;`:null),V=qa.debounce(l,k.value),Q=qa.debounce(d,h.value),ie=async()=>{A.value||E.value||(Q.clear(),V())},oe=async()=>{E.value||(V.clear(),Q())},J=()=>{a.value?oe():ie()};return Et([p,b],([ee,le])=>{a.value&&(!ee||le)&&d()}),Et(a,ee=>{ee?c.value=!0:qa.debounce(()=>{c.value=!1},200)}),Ru(()=>{E.value&&(m.value?V():Q())}),Ru(()=>{j.value&&fP(s,oe)}),(ee,le)=>(Xe(),It("div",{class:"inline-block",style:jo(pt(F)),onMouseleave:le[2]||(le[2]=ue=>t.hover&&oe()),ref:(ue,ae)=>{ae.popperContainerNode=ue,s.value=ue}},[Re("div",{ref:(ue,ae)=>{ae.triggerNode=ue,o.value=ue},onMouseover:le[0]||(le[0]=ue=>t.hover&&ie()),onClick:J,onFocus:ie,onKeyup:yy(oe,["esc"])},[Pu(ee.$slots,"default")],40,CD),Fe(ac,{name:"fade"},{default:Un(()=>[Qv(Re("div",{onClick:le[1]||(le[1]=ue=>!pt(I)&&oe()),class:"popper",ref:(ue,ae)=>{ae.popperNode=ue,r.value=ue}},[Pu(ee.$slots,"content",{close:pt(d),isOpen:c.value},()=>[qi(An(pt(g)),1)]),t.arrow?(Xe(),di(ED,{key:0})):po("",!0)],512),[[by,pt(P)]])]),_:3})],36))}},kD=`
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.popper[data-v-5784ed69] {
    transition: background 250ms ease-in-out;
    background: var(--popper-theme-background-color);
    padding: var(--popper-theme-padding);
    color: var(--popper-theme-text-color);
    border-radius: var(--popper-theme-border-radius);
    border-width: var(--popper-theme-border-width);
    border-style: var(--popper-theme-border-style);
    border-color: var(--popper-theme-border-color);
    box-shadow: var(--popper-theme-box-shadow);
    z-index: var(--c81fc0a4);
}
.popper[data-v-5784ed69]:hover,
  .popper:hover > #arrow[data-v-5784ed69]::before {
    background: var(--popper-theme-background-color-hover);
}
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.fade-enter-active[data-v-5784ed69],
  .fade-leave-active[data-v-5784ed69] {
    transition: opacity 0.2s ease;
}
.fade-enter-from[data-v-5784ed69],
  .fade-leave-to[data-v-5784ed69] {
    opacity: 0;
}
`;Mm(kD);xm.__scopeId="data-v-5784ed69";var ID=(()=>{const t=xm;return t.install=e=>{e.component("Popper",t)},t})();function TD(){const t=gs(),e=()=>{setTimeout(()=>{t.dispatch("updateScreenWidth",window.innerWidth)},0)};return vn(()=>{window.addEventListener("resize",e)}),Ti(()=>{window.removeEventListener("resize",e)}),e}async function SD(){let e=(await cu.dispatch("records/serviseDateRecords")).map(r=>{const o=new Date(r.day),c=o.getFullYear(),u=o.getMonth();return{year:c,month:u}});const n=new Date,i=n.getFullYear(),s=n.getMonth();return e.some(r=>r.year===i&&r.month===s)}const OD={name:"MainLayout",setup(){const t=yt(!0),e=yt(!0),n=gs(),i=Pe(()=>n.getters["requests/clientInfo"].locale);TD();const s=Pe(()=>n.getters.screenWidth);return t.value=s.value>=900,vn(async()=>{await n.dispatch("requests/clientInfo");const o=await n.dispatch("card/list");o.length&&(await SD()||n.dispatch("card/updateListBill",o)),e.value=!1}),Et(s,o=>{t.value=o>=900}),{isOpen:t,loading:e,mobClose:()=>{t.value=s.value>=600},getLocalizedText:Ve,locale:i}},components:{AppNavbar:nP,AppSidenav:rP,AppLoading:dP,Popper:ID}},AD={key:1,class:"app-main-layout"},RD={class:"app-page"},MD={class:"fixed-action-btn"},xD=Re("i",{class:"large material-icons"},"add",-1);function PD(t,e,n,i,s,r){const o=Pt("AppLoading"),c=Pt("AppNavbar"),u=Pt("AppSidenav"),h=Pt("RouterView"),g=Pt("routerLink"),v=Pt("Popper");return i.loading?(Xe(),di(o,{key:0})):(Xe(),It("div",AD,[(Xe(),di(c,{onClose:e[0]||(e[0]=b=>i.isOpen=!i.isOpen),key:i.locale})),(Xe(),di(u,{isOpen:i.isOpen,onClose:i.mobClose,key:i.locale},null,8,["isOpen","onClose"])),Re("main",{class:gi(["app-content",{full:!i.isOpen}])},[Re("div",RD,[Fe(h)])],2),Re("div",MD,[Fe(v,{hover:!0,content:i.getLocalizedText("CreatedRecord"),style:{width:"100%"}},{default:Un(()=>[Fe(g,{to:"/record",class:"btn-floating btn-large blue"},{default:Un(()=>[xD]),_:1})]),_:1},8,["content"])])]))}const DD=xi(OD,[["render",PD]]),LD={name:"AuthLayout",setup(){const t=rp(),e=gs();return t.query.message==="auth"&&e.dispatch("setMessage",{type:"warning",value:Ys("auth")}),{}},components:{}},ND={class:"grey darken-1 empty-layout"};function $D(t,e,n,i,s,r){const o=Pt("RouterView");return Xe(),It("div",null,[Re("div",ND,[Fe(o)])])}const BD=xi(LD,[["render",$D]]);const FD={name:"AppMessage",setup(){const t=gs(),e={primary:Ve("Successfully"),danger:Ve("Error"),warning:Ve("Attention")},n={primary:"teal",danger:"red",warning:"red"},i=Pe(()=>t.getters.message),s=Pe(()=>i.value?e[i.value.type]:""),r=Pe(()=>i.value?n[i.value.type]:"teal");return{message:i,title:s,className:r,close:()=>t.commit("clearMessage")}}},HD={class:"col s12 m12"},WD={class:"card-content white-text"},UD={key:0,class:"card-title"};function jD(t,e,n,i,s,r){return i.message?(Xe(),It("div",{key:0,class:gi(["row modal",{open:i.message}])},[Re("div",HD,[Re("div",{class:gi(["card blue-grey darken-1",i.className])},[Re("a",{class:"dropdown-trigger btn right",href:"#","data-target":"dropdown1",onClick:e[0]||(e[0]=(...o)=>i.close&&i.close(...o))},""),Re("div",WD,[i.message?(Xe(),It("span",UD,An(i.title),1)):po("",!0),Re("p",null,An(i.message.value),1)])],2)])],2)):po("",!0)}const VD=xi(FD,[["render",jD],["__scopeId","data-v-cde51858"]]);const qD={setup(){const t=rp();return{layout:Pe(()=>t.meta.layout)}},components:{MainLayout:DD,AuthLayout:BD,AppMessage:VD}},zD={id:"app"};function KD(t,e,n,i,s,r){const o=Pt("RouterView"),c=Pt("AppMessage");return Xe(),It("div",zD,[i.layout?(Xe(),di(u_(i.layout+"-layout"),{key:0},{default:Un(()=>[Fe(o)]),_:1})):po("",!0),Fe(c)])}const GD=xi(qD,[["render",KD]]),YD="modulepreload",QD=function(t){return"/"+t},Nh={},rn=function(e,n,i){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=QD(r),r in Nh)return;Nh[r]=!0;const o=r.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(!!i)for(let g=s.length-1;g>=0;g--){const v=s[g];if(v.href===r&&(!o||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${c}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":YD,o||(h.as="script",h.crossOrigin=""),h.href=r,document.head.appendChild(h),o)return new Promise((g,v)=>{h.addEventListener("load",g),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())},Pm=Jb({history:pb("/"),routes:[{path:"/",name:"home",component:()=>rn(()=>import("./HomeView-61dfe81c.js"),["assets/HomeView-61dfe81c.js","assets/currency.filter-780ad7d5.js","assets/ballanseOfType-1c897441.js","assets/HomeView-742be8ac.css"]),meta:{layout:"main",auth:!0}},{path:"/history",name:"History",component:()=>rn(()=>import("./HistoryView-70946960.js"),["assets/HistoryView-70946960.js","assets/currency.filter-780ad7d5.js","assets/SelectPlanningMonth-0bfe773a.js"]),meta:{layout:"main",auth:!0}},{path:"/planning",name:"Planning",component:()=>rn(()=>import("./PlanningView-3a1821ff.js"),["assets/PlanningView-3a1821ff.js","assets/currency.filter-780ad7d5.js","assets/SelectPlanningMonth-0bfe773a.js","assets/ballanseOfType-1c897441.js"]),meta:{layout:"main",auth:!0}},{path:"/record",name:"Record",component:()=>rn(()=>import("./RecordView-227de632.js"),["assets/RecordView-227de632.js","assets/index.esm-d4de9650.js"]),meta:{layout:"main",auth:!0}},{path:"/categories",name:"Categories",component:()=>rn(()=>import("./CategoriesView-73ff270b.js"),["assets/CategoriesView-73ff270b.js","assets/index.esm-d4de9650.js","assets/ElementRestor-23b0f287.js","assets/ElementRestor-b27eed95.css","assets/CategoriesView-e3b0c442.css"]),meta:{layout:"main",auth:!0}},{path:"/profile",name:"Profile",component:()=>rn(()=>import("./ProfileView-41c9cd75.js"),["assets/ProfileView-41c9cd75.js","assets/index.esm-d4de9650.js","assets/ElementRestor-23b0f287.js","assets/ElementRestor-b27eed95.css","assets/LoginPasswordForm-d96337d5.js"]),meta:{layout:"main",auth:!0}},{path:"/detail/:idRecord",name:"DetailRecord",component:()=>rn(()=>import("./DetailRecordView-7f39ecd1.js"),["assets/DetailRecordView-7f39ecd1.js","assets/currency.filter-780ad7d5.js"]),meta:{layout:"main",auth:!0}},{path:"/login",name:"Login",component:()=>rn(()=>import("./LoginView-4aa63377.js"),["assets/LoginView-4aa63377.js","assets/LoginPasswordForm-d96337d5.js","assets/index.esm-d4de9650.js"]),meta:{layout:"auth",auth:!1}},{path:"/register",name:"Register",component:()=>rn(()=>import("./RegisterView-09f6735b.js"),["assets/RegisterView-09f6735b.js","assets/index.esm-d4de9650.js"]),meta:{layout:"auth",auth:!1}}]});Pm.beforeEach((t,e,n)=>{const i=t.meta.auth,s=xt();i&&s.currentUser?n():i&&!s.currentUser?n("/login?message=auth"):n()});var XD="firebase",JD="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(XD,JD,"app");const ZD={apiKey:"AIzaSyBshpxyNPaf0oYKJ6IE5vCxrIrbJj_cBNs",authDomain:"srm-vue-86.firebaseapp.com",databaseURL:"https://srm-vue-86-default-rtdb.firebaseio.com",projectId:"srm-vue-86",storageBucket:"srm-vue-86.appspot.com",messagingSenderId:"958564371274",appId:"1:958564371274:web:96f971f9c0c4912d984fb3"};_p(ZD);let Ps;const e1=xt();e1.onAuthStateChanged(()=>{Ps||(Ps=Cy(GD),Ps.use(Pm),Ps.use(cu),Ps.mount("#app"))});export{tt as $,dP as A,Av as B,oc as C,z_ as D,Ti as E,ft as F,Ce as G,ef as H,ks as I,Lm as J,sp as K,rp as L,Xl as M,$m as N,Qv as O,a1 as P,jo as Q,cu as R,SD as S,o1 as T,s1 as U,l1 as V,r1 as W,xt as X,pt as Y,Xr as Z,xi as _,Re as a,t1 as a0,Ii as a1,Zh as a2,Ru as a3,Ct as a4,sc as a5,yt as b,It as c,Qy as d,Pe as e,vn as f,Ve as g,ID as h,Pt as i,po as j,Fe as k,Un as l,i1 as m,gi as n,Xe as o,n1 as p,cl as q,d_ as r,di as s,An as t,gs as u,yy as v,Et as w,Pu as x,qi as y,vf as z};
