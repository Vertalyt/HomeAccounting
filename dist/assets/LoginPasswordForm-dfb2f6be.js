import{u as P,a as f,b}from"./index.esm-164d3f5b.js";import{K as q,u as N,g as i,_ as F,i as M,o as d,c as u,a as s,t as r,j as c,O as w,U as S,n as m,v as l,k as v,l as B,q as R}from"./index-01b018bd.js";function U(e,t){const a=q(),g=N(),p=6,{isSubmitting:h,handleSubmit:n}=P(),{value:o,errorMessage:E,handleBlur:y}=f("email",b().trim().required(i("EnterEmail")).email(i("MustBeValidEmail"))),{value:V,errorMessage:k,handleBlur:T}=f("password",b().trim().required(i("EnterPassword")).min(p,`${i("PasswordCannotBeSmaller")} ${p} ${i("Symbols")}.`)),z=n(async(L,{resetForm:C})=>{try{await g.dispatch(e.dispatchOnSubmitLogin,{email:L.email,password:L.password}),t("updated"),e.loginCheck&&a.push("/"),C()}catch{}});return{eValue:o,eError:E,eBlur:y,pValue:V,pError:k,pBlur:T,isSubmitting:h,onSubmit:z,getLocalizedText:i}}const O={name:"LoginPasswordForm",emits:["updated"],props:{dispatchOnSubmitLogin:{type:String,requared:!0},loginCheck:{type:Boolean,requared:!1},titleLogin:{type:String,requared:!1},ButtonLogin:{type:String,requared:!0}},setup(e,{emit:t}){return{...U(e,t)}}},_={class:"card-content"},$={key:0,class:"card-title"},A={class:"input-field"},D=s("label",{for:"email"},"Email",-1),j={class:"'input-field"},G={for:"password"},H={class:"card-action"},I=["disabled"],K=s("i",{class:"material-icons right"},"send",-1),J={key:0,class:"center"},Q={key:1,class:"center"};function W(e,t,a,g,p,h){const n=M("RouterLink");return d(),u("form",{class:"card auth-card",onSubmit:t[4]||(t[4]=R((...o)=>e.onSubmit&&e.onSubmit(...o),["prevent"]))},[s("div",_,[a.titleLogin?(d(),u("span",$,r(e.getLocalizedText(a.titleLogin)),1)):c("",!0),s("div",A,[w(s("input",{id:"email",type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>e.eValue=o),class:m({invalid:e.eError}),onBlur:t[1]||(t[1]=(...o)=>e.eBlur&&e.eBlur(...o))},null,34),[[S,e.eValue]]),D,s("small",{class:m(["helper-text",{invalid:e.eError}])},r(e.eError),3)]),s("div",j,[w(s("input",{id:"password",type:"password",class:m(["validate",{invalid:e.pError}]),"onUpdate:modelValue":t[2]||(t[2]=o=>e.pValue=o),onBlur:t[3]||(t[3]=(...o)=>e.pBlur&&e.pBlur(...o))},null,34),[[S,e.pValue]]),s("label",G,r(e.getLocalizedText("Password")),1),s("small",{class:m(["helper-text",{invalid:e.pError}])},r(e.pError),3)])]),s("div",H,[s("div",null,[s("button",{class:"btn waves-effect waves-light auth-submit",type:"submit",disabled:e.isSubmitting},[l(r(e.getLocalizedText(a.ButtonLogin))+" ",1),K],8,I)]),a.loginCheck?(d(),u("p",J,[l(r(e.getLocalizedText("ForgotPassword"))+" ",1),v(n,{to:"/reset"},{default:B(()=>[l(r(e.getLocalizedText("Restore")),1)]),_:1})])):c("",!0),a.loginCheck?(d(),u("p",Q,[l(r(e.getLocalizedText("NoAccount"))+" ",1),v(n,{to:"/register"},{default:B(()=>[l(r(e.getLocalizedText("SignUp")),1)]),_:1})])):c("",!0)])],32)}const x=F(O,[["render",W]]);export{x as L};
