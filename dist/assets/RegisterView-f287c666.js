import{u as T,a as d,b as p}from"./index.esm-909b115f.js";import{K as z,u as M,g as a,f as U,X as $,_ as N,i as R,o as k,c as F,a as s,t as o,O as m,U as g,n as l,v as c,k as G,l as q,q as E,F as C}from"./index-a3b4ede8.js";function P(){const e=z(),t=M(),n=6,{isSubmitting:h,handleSubmit:v}=T(),{value:b,errorMessage:i,handleBlur:r}=d("email",p().trim().required(a("EnterEmail")).email(a("MustBeValidEmail"))),{value:B,errorMessage:V,handleBlur:w}=d("name",p().trim().required(a("EnterName"))),{value:S,errorMessage:y,handleBlur:A}=d("password",p().trim().required(a("EnterPassword")).min(n,`${a("PasswordCannotBeSmaller")} ${n} ${a("Symbols")}.`)),L=v(async(u,{resetForm:f})=>{try{await t.dispatch("auth/register",u),f(),e.push("/login")}catch{}});return U(()=>{$().currentUser&&t.dispatch("auth/redirectResult")}),{eValue:b,eError:i,eBlur:r,nValue:B,nError:V,nBlur:w,pValue:S,pError:y,pBlur:A,isSubmitting:h,onSubmit:L,getLocalizedText:a,GoogleAuth:async()=>{try{t.dispatch("auth/googleAuth")}catch{}}}}const H={name:"RegisterView",setup(){return{...P()}}},D={class:"card-content"},I={class:"card-title"},K={class:"input-field"},O=s("label",{for:"email"},"Email",-1),X={class:"input-field"},j={for:"password"},J={class:"input-field"},Q={for:"name"},W={class:"card-action"},Y=["disabled"],Z=s("i",{class:"material-icons right"},"send",-1),_={class:"center"},x=s("button",{type:"submit",class:"btn"},"Войти через гугл",-1),ee=[x];function se(e,t,n,h,v,b){const i=R("RouterLink");return k(),F(C,null,[s("form",{class:"card auth-card",onSubmit:t[6]||(t[6]=E((...r)=>e.onSubmit&&e.onSubmit(...r),["prevent"]))},[s("div",D,[s("span",I,o(e.getLocalizedText("HomeAccounting")),1),s("div",K,[m(s("input",{id:"email",type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>e.eValue=r),class:l({invalid:e.eError}),onBlur:t[1]||(t[1]=(...r)=>e.eBlur&&e.eBlur(...r))},null,34),[[g,e.eValue]]),O,s("small",{class:l(["helper-text",{invalid:e.eError}])},o(e.eError),3)]),s("div",X,[m(s("input",{id:"password",type:"password",class:l(["validate",{invalid:e.pError}]),"onUpdate:modelValue":t[2]||(t[2]=r=>e.pValue=r),onBlur:t[3]||(t[3]=(...r)=>e.pBlur&&e.pBlur(...r))},null,34),[[g,e.pValue]]),s("label",j,o(e.getLocalizedText("Password")),1),s("small",{class:l(["helper-text",{invalid:e.pError}])},o(e.pError),3)]),s("div",J,[m(s("input",{id:"name",type:"text",class:l(["validate",{invalid:e.nError}]),"onUpdate:modelValue":t[4]||(t[4]=r=>e.nValue=r),onBlur:t[5]||(t[5]=(...r)=>e.nBlur&&e.nBlur(...r))},null,34),[[g,e.nValue]]),s("label",Q,o(e.getLocalizedText("name")),1),s("small",{class:l(["helper-text",{invalid:e.nError}])},o(e.nError),3)])]),s("div",W,[s("div",null,[s("button",{class:"btn waves-effect waves-light auth-submit",type:"submit",disabled:e.isSubmitting},[c(o(e.getLocalizedText("SignUp"))+" ",1),Z],8,Y)]),s("p",_,[c(o(e.getLocalizedText("AlreadyHaveAnAccount"))+" ",1),G(i,{to:"/login"},{default:q(()=>[c(o(e.getLocalizedText("Enter")),1)]),_:1})])])],32),s("form",{onSubmit:t[7]||(t[7]=E((...r)=>e.GoogleAuth&&e.GoogleAuth(...r),["prevent"]))},ee,32)],64)}const le=N(H,[["render",se]]);export{le as default};
